{"version":3,"mappings":"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","names":["_imports_0","CART_STORAGE_KEY","cartItems","ref","loadCartFromStorage","saveCartToStorage","savedCart","cartTotal","computed","total","item","cartItemCount","count","addToCart","product","quantity","existingItem","updateCartItemQuantity","productId","newQuantity","removeFromCart","index","clearCart","cart$1","mitt","n","t","e","i","emitter","route","useRoute","router","useRouter","isMobileMenuOpen","isSearchOpen","searchQuery","cart","showCartAnimation","mainMenu","isActive","path","toggleMobileMenu","closeMobileMenu","toggleSearch","_a","submitSearch","onProductAddedToCart","onMounted","eventBus","onUnmounted","samTuoiImage$4","currentYear","props","__props","emit","__emit","show","timeoutId","closeNotification","startTimer","watch","newVal","onBeforeUnmount","showNotification","notificationData","message","options","resolve","hide","quantityText","notificationService","isAdminRoute","module","this","o","r","a","u","c","s","f","d","l","p","m","b","v","y","g","h","w","x","j","O","M","S","_","k","bind","fn","thisArg","toString","getPrototypeOf","kindOf","cache","thing","str","kindOfTest","type","typeOfTest","isArray","isUndefined","isBuffer","val","isFunction","isArrayBuffer","isArrayBufferView","result","isString","isNumber","isObject","isBoolean","isPlainObject","prototype","isDate","isFile","isBlob","isFileList","isStream","isFormData","kind","isURLSearchParams","isReadableStream","isRequest","isResponse","isHeaders","trim","forEach","obj","allOwnKeys","keys","len","key","findKey","_key","_global","isContextDefined","context","merge","caseless","assignValue","targetKey","extend","stripBOM","content","inherits","constructor","superConstructor","descriptors","toFlatObject","sourceObj","destObj","filter","propFilter","prop","merged","endsWith","searchString","position","lastIndex","toArray","arr","isTypedArray","TypedArray","forEachEntry","iterator","pair","matchAll","regExp","matches","isHTMLForm","toCamelCase","p1","p2","hasOwnProperty","isRegExp","reduceDescriptors","reducer","reducedDescriptors","descriptor","name","ret","freezeMethods","value","toObjectSet","arrayOrString","delimiter","define","noop","toFiniteNumber","defaultValue","isSpecCompliantForm","toJSONObject","stack","visit","source","target","reducedValue","isAsyncFn","isThenable","_setImmediate","setImmediateSupported","postMessageSupported","token","callbacks","data","cb","asap","utils$1","AxiosError","code","config","request","response","utils","error","customProps","axiosError","httpAdapter","isVisitable","removeBrackets","renderKey","dots","isFlatArray","predicates","toFormData","formData","option","metaTokens","visitor","defaultVisitor","indexes","useBlob","convertValue","el","exposedHelpers","build","encode","charMap","match","AxiosURLSearchParams","params","encoder","_encode","buildURL","url","serializeFn","serializedParams","hashmarkIndex","InterceptorManager","fulfilled","rejected","id","transitionalDefaults","URLSearchParams$1","FormData$1","Blob$1","platform$1","URLSearchParams","FormData","Blob","hasBrowserEnv","_navigator","hasStandardBrowserEnv","hasStandardBrowserWebWorkerEnv","origin","platform","toURLEncodedForm","helpers","parsePropPath","arrayToObject","formDataToJSON","buildPath","isNumericKey","isLast","stringifySafely","rawValue","parser","defaults","headers","contentType","hasJSONContentType","isObjectPayload","_FormData","transitional","forcedJSONParsing","JSONRequested","strictJSONParsing","status","method","ignoreDuplicateOf","parseHeaders","rawHeaders","parsed","line","$internals","normalizeHeader","header","normalizeValue","parseTokens","tokens","tokensRE","isValidHeaderName","matchHeaderValue","isHeaderNameFilter","formatHeader","char","buildAccessors","accessorName","methodName","arg1","arg2","arg3","AxiosHeaders$1","valueOrRewrite","rewrite","self","setHeader","_value","_header","_rewrite","lHeader","setHeaders","matcher","deleted","deleteHeader","format","normalized","targets","asStrings","first","accessors","defineAccessor","AxiosHeaders","mapped","headerValue","transformData","fns","isCancel","CanceledError","settle","reject","validateStatus","parseProtocol","speedometer","samplesCount","min","bytes","timestamps","head","tail","firstSampleTS","chunkLength","now","startedAt","bytesCount","passed","throttle","freq","timestamp","threshold","lastArgs","timer","invoke","args","progressEventReducer","listener","isDownloadStream","bytesNotified","_speedometer","loaded","progressBytes","rate","inRange","progressEventDecorator","throttled","lengthComputable","asyncDecorator","isURLSameOrigin","isMSIE","cookies","expires","domain","secure","cookie","isAbsoluteURL","combineURLs","baseURL","relativeURL","buildFullPath","requestedURL","allowAbsoluteUrls","isRelativeUrl","headersToObject","mergeConfig","config1","config2","getMergedValue","mergeDeepProperties","valueFromConfig2","defaultToConfig2","mergeDirectKeys","mergeMap","configValue","resolveConfig","newConfig","withXSRFToken","xsrfHeaderName","xsrfCookieName","auth","xsrfValue","isXHRAdapterSupported","xhrAdapter","_config","requestData","requestHeaders","responseType","onUploadProgress","onDownloadProgress","onCanceled","uploadThrottled","downloadThrottled","flushUpload","flushDownload","done","onloadend","responseHeaders","err","timeoutErrorMessage","cancel","protocol","composeSignals","signals","timeout","length","controller","aborted","onabort","reason","unsubscribe","signal","streamChunk","chunk","chunkSize","pos","end","readBytes","iterable","readStream","stream","reader","trackStream","onProgress","onFinish","_onFinish","loadedBytes","isFetchSupported","isReadableStreamSupported","encodeText","test","supportsRequestStream","duplexAccessed","hasContentType","DEFAULT_CHUNK_SIZE","supportsResponseStream","resolvers","res","getBodyLength","body","resolveBodyLength","fetchAdapter","cancelToken","withCredentials","fetchOptions","composedSignal","requestContentLength","_request","contentTypeHeader","flush","isCredentialsSupported","isStreamResponse","responseContentLength","responseData","knownAdapters","renderReason","isResolvedHandle","adapter","adapters","nameOrAdapter","rejectedReasons","reasons","state","throwIfCancellationRequested","dispatchRequest","VERSION","validators","deprecatedWarnings","validator","version","formatMessage","opt","desc","opts","correctSpelling","assertOptions","schema","allowUnknown","Axios$1","instanceConfig","configOrUrl","dummy","paramsSerializer","contextHeaders","requestInterceptorChain","synchronousRequestInterceptors","interceptor","responseInterceptorChain","promise","chain","onFulfilled","onRejected","fullPath","Axios","generateHTTPMethod","isForm","CancelToken$1","CancelToken","executor","resolvePromise","onfulfilled","_resolve","abort","spread","callback","isAxiosError","payload","HttpStatusCode","createInstance","defaultConfig","instance","axios","promises","all","Cancel","formToJSON","getAdapter","apiClient","authApi","userData","email","otp","credentials","userApi","sessionApi","sessionId","productApi","productData","categoryApi","categoryData","orderApi","orderData","paymentStatus","newsApi","newsData","api","samTuoiImage","featuredProducts","isLoading","formatPrice","price","fetchFeaturedProducts","buyNow","AOS","defaultImage","activeTab","relatedProducts","isLoadingRelated","reviews","categories","getCategoryName","categoryId","category","fetchProduct","fetchCategories","fetchRelatedProducts","moreParams","moreProducts","rp","increaseQuantity","decreaseQuantity","addToCartQuick","relatedProduct","contactUs","newId","oldId","confirm","showRemoveItemDialog","showClearCartDialog","itemToRemove","updateQuantity","removeItem","confirmRemoveItem","cancelRemoveItem","confirmClearCart","cancelClearCart","checkout","shippingFee","customerInfo","paymentMethod","showSuccessModal","orderId","redirectTimeout","getPaymentMethod","placeOrder","closeSuccessModal","viewOrders","products","currentPage","pageSize","totalProducts","totalPages","selectedCategory","sortOption","filters","pageTitle","pageNumbers","current","pages","start","fetchProducts","fetchedProducts","filteredProducts","selectCategory","resetFilters","prevPage","nextPage","goToPage","page","services","service","handleSubmit","resetForm","_sfc_render","_ctx","_cache","_openBlock","_createElementBlock","_hoisted_1","newsItems","articles","formatDate","date","getCategoryClass","form","reactive","submitForm","byteToHex","unsafeStringify","offset","getRandomValues","rnds8","rng","randomUUID","native","v4","buf","rnds","sessionToken","sessionsString","currentTokenString","user","rememberMe","tokenId","uuidv4","expiresAt","device","session","userId","currentSession","password","removeToken","errorMessage","validateForm","login","__vitePreload","__vite_default__","userInfo","apiError","fallbackLogin","foundUser","account","mockToken","successMessage","agreeTerms","register","isUserMenuOpen","menuItems","userName","_b","userEmail","toggleUserMenu","closeDropdownOnOutsideClick","event","logout","handleLogoutSuccess","dashboardData","fetchDashboardData","productsResponse","ordersResponse","sum","order","usersResponse","formatCurrency","amount","dateString","getStatusColor","getStatusName","totalItems","searchTerm","stockFilter","statusFilter","isModalOpen","isEditMode","currentProductId","productForm","isUpdating","search","slugify","text","updateSlug","redirectToLogin","fetchAllProducts","apiProducts","openAddProductModal","openEditProductModal","closeModal","saveProduct","showDeleteConfirm","productToDelete","openDeleteConfirm","handleDeleteConfirm","deleteProduct","applySearch","confirmDeleteProduct","quickUpdateStatus","getStatusDisplayText","handleApiError","originalProduct","quickUpdateStock","fieldName","getStatusClass","currentServiceId","itemsPerPage","totalServices","serviceForm","filteredServices","matchesSearch","matchesStatus","fetchServices","openAddModal","editService","saveService","toggleServiceStatus","newStatus","confirmDelete","serviceId","deleteService","users","showAddModal","showViewModal","editingUser","selectedUser","userForm","getRoleText","role","getStatusText","viewUser","editUser","deleteUser","closeViewModal","handleImageUpload","file","removeImage","saveUser","categoryFilter","filteredArticles","query","article","articleForm","articleToDeleteId","editArticle","togglePublish","saveArticle","deleteArticle","isDeleteModalOpen","deleteId","categoryForm","filteredCategories","getParentCategoryName","parentId","parent","editCategory","generateSlug","saveCategory","toggleCategoryStatus","deleteCategory","orders","loadingError","selectedStatus","showDetailModal","selectedOrder","statusOptions","filteredOrders","searchLower","fetchOrders","updateOrderStatus","viewOrderDetails","closeDetailModal","saveOrderStatus","exportOrders","sessions","currentSessionId","showLogoutConfirm","sessionToLogout","logoutAll","logoutConfirmTitle","logoutConfirmMessage","currentDevice","detectCurrentDevice","currentLocation","currentLoginTime","otherSessions","getDeviceIcon","deviceLower","userAgent","browser","detectBrowser","diff","diffDays","fetchSessions","mockSessions","refreshSessions","confirmLogoutSession","confirmLogoutAllOtherSessions","handleLogoutConfirm","logoutAllOtherSessions","logoutSession","routes","Home","Products","ProductDetail","Cart","Checkout","About","Services","News","Contact","Login","Register","Dashboard","AdminProducts","AdminServices","Categories","Users","AdminNews","Orders","Sessions","createRouter","createWebHistory","to","from","next","record","adminRoutes","handleError","info","pinia","createPinia","app","createApp","App"],"ignoreList":[2,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,76,77,78,79],"sources":["../../../../../../assets/images/products/sam-tuoi.png","../../src/store/cart.js","../../node_modules/mitt/dist/mitt.mjs","../../src/utils/eventBus.js","../../src/components/layout/TheHeader.vue","../../src/assets/images/products/sam-tuoi.png","../../src/components/layout/TheFooter.vue","../../src/components/NotificationPopup.vue","../../src/utils/notificationService.js","../../src/App.vue","../../node_modules/aos/dist/aos.js","../../node_modules/axios/lib/helpers/bind.js","../../node_modules/axios/lib/utils.js","../../node_modules/axios/lib/core/AxiosError.js","../../node_modules/axios/lib/helpers/null.js","../../node_modules/axios/lib/helpers/toFormData.js","../../node_modules/axios/lib/helpers/AxiosURLSearchParams.js","../../node_modules/axios/lib/helpers/buildURL.js","../../node_modules/axios/lib/core/InterceptorManager.js","../../node_modules/axios/lib/defaults/transitional.js","../../node_modules/axios/lib/platform/browser/classes/URLSearchParams.js","../../node_modules/axios/lib/platform/browser/classes/FormData.js","../../node_modules/axios/lib/platform/browser/classes/Blob.js","../../node_modules/axios/lib/platform/browser/index.js","../../node_modules/axios/lib/platform/common/utils.js","../../node_modules/axios/lib/platform/index.js","../../node_modules/axios/lib/helpers/toURLEncodedForm.js","../../node_modules/axios/lib/helpers/formDataToJSON.js","../../node_modules/axios/lib/defaults/index.js","../../node_modules/axios/lib/helpers/parseHeaders.js","../../node_modules/axios/lib/core/AxiosHeaders.js","../../node_modules/axios/lib/core/transformData.js","../../node_modules/axios/lib/cancel/isCancel.js","../../node_modules/axios/lib/cancel/CanceledError.js","../../node_modules/axios/lib/core/settle.js","../../node_modules/axios/lib/helpers/parseProtocol.js","../../node_modules/axios/lib/helpers/speedometer.js","../../node_modules/axios/lib/helpers/throttle.js","../../node_modules/axios/lib/helpers/progressEventReducer.js","../../node_modules/axios/lib/helpers/isURLSameOrigin.js","../../node_modules/axios/lib/helpers/cookies.js","../../node_modules/axios/lib/helpers/isAbsoluteURL.js","../../node_modules/axios/lib/helpers/combineURLs.js","../../node_modules/axios/lib/core/buildFullPath.js","../../node_modules/axios/lib/core/mergeConfig.js","../../node_modules/axios/lib/helpers/resolveConfig.js","../../node_modules/axios/lib/adapters/xhr.js","../../node_modules/axios/lib/helpers/composeSignals.js","../../node_modules/axios/lib/helpers/trackStream.js","../../node_modules/axios/lib/adapters/fetch.js","../../node_modules/axios/lib/adapters/adapters.js","../../node_modules/axios/lib/core/dispatchRequest.js","../../node_modules/axios/lib/env/data.js","../../node_modules/axios/lib/helpers/validator.js","../../node_modules/axios/lib/core/Axios.js","../../node_modules/axios/lib/cancel/CancelToken.js","../../node_modules/axios/lib/helpers/spread.js","../../node_modules/axios/lib/helpers/isAxiosError.js","../../node_modules/axios/lib/helpers/HttpStatusCode.js","../../node_modules/axios/lib/axios.js","../../node_modules/axios/index.js","../../src/api/index.js","../../src/views/Home.vue","../../src/views/ProductDetail.vue","../../src/components/ConfirmDialog.vue","../../src/views/Cart.vue","../../src/views/Checkout.vue","../../src/views/Products.vue","../../src/views/About.vue","../../src/views/Services.vue","../../src/components/sidebar/ConsultationForm.vue","../../src/components/sidebar/ServicesList.vue","../../src/components/sidebar/HotlineInfo.vue","../../src/components/sidebar/NewsList.vue","../../src/views/News.vue","../../src/views/Contact.vue","../../node_modules/uuid/dist/esm-browser/stringify.js","../../node_modules/uuid/dist/esm-browser/rng.js","../../node_modules/uuid/dist/esm-browser/native.js","../../node_modules/uuid/dist/esm-browser/v4.js","../../src/store/sessionToken.js","../../src/store/auth.js","../../src/views/admin/Login.vue","../../src/views/admin/Register.vue","../../src/components/admin/AdminHeader.vue","../../src/views/admin/Dashboard.vue","../../src/views/admin/Products.vue","../../src/views/admin/Services.vue","../../src/views/admin/Users.vue","../../src/views/admin/News.vue","../../src/views/admin/Categories.vue","../../src/views/admin/Orders.vue","../../src/views/admin/Sessions.vue","../../src/router/index.js","../../src/main.js"],"sourcesContent":["export default \"__VITE_PUBLIC_ASSET__5cc77d59__\"","import { ref, computed } from 'vue'\r\n\r\n// Sử dụng localStorage để lưu giỏ hàng\r\nconst CART_STORAGE_KEY = 'sam-ngoc-linh-cart'\r\n\r\n// Tạo state và methods với Composition API\r\nconst cartItems = ref(loadCartFromStorage() || [])\r\n\r\n// Lưu giỏ hàng xuống localStorage\r\nfunction saveCartToStorage() {\r\n  localStorage.setItem(CART_STORAGE_KEY, JSON.stringify(cartItems.value))\r\n}\r\n\r\n// Đọc giỏ hàng từ localStorage\r\nfunction loadCartFromStorage() {\r\n  const savedCart = localStorage.getItem(CART_STORAGE_KEY)\r\n  return savedCart ? JSON.parse(savedCart) : []\r\n}\r\n\r\n// Tính tổng tiền giỏ hàng\r\nconst cartTotal = computed(() => {\r\n  return cartItems.value.reduce((total, item) => total + (item.price * item.quantity), 0)\r\n})\r\n\r\n// Số lượng sản phẩm trong giỏ hàng\r\nconst cartItemCount = computed(() => {\r\n  return cartItems.value.reduce((count, item) => count + item.quantity, 0)\r\n})\r\n\r\n// Thêm sản phẩm vào giỏ hàng\r\nfunction addToCart(product, quantity = 1) {\r\n  const existingItem = cartItems.value.find(item => item.id === product.id)\r\n  \r\n  if (existingItem) {\r\n    // Sản phẩm đã có trong giỏ hàng, tăng số lượng\r\n    existingItem.quantity += quantity\r\n  } else {\r\n    // Thêm sản phẩm mới vào giỏ hàng\r\n    cartItems.value.push({\r\n      id: product.id,\r\n      name: product.name,\r\n      price: product.price,\r\n      image: product.image,\r\n      quantity: quantity\r\n    })\r\n  }\r\n  \r\n  saveCartToStorage()\r\n}\r\n\r\n// Cập nhật số lượng sản phẩm\r\nfunction updateCartItemQuantity(productId, newQuantity) {\r\n  const item = cartItems.value.find(item => item.id === productId)\r\n  \r\n  if (item) {\r\n    if (newQuantity <= 0) {\r\n      // Nếu số lượng ≤ 0, xóa sản phẩm khỏi giỏ hàng\r\n      removeFromCart(productId)\r\n    } else {\r\n      item.quantity = newQuantity\r\n      saveCartToStorage()\r\n    }\r\n  }\r\n}\r\n\r\n// Xóa sản phẩm khỏi giỏ hàng\r\nfunction removeFromCart(productId) {\r\n  const index = cartItems.value.findIndex(item => item.id === productId)\r\n  \r\n  if (index !== -1) {\r\n    cartItems.value.splice(index, 1)\r\n    saveCartToStorage()\r\n  }\r\n}\r\n\r\n// Xóa toàn bộ giỏ hàng\r\nfunction clearCart() {\r\n  cartItems.value = []\r\n  saveCartToStorage()\r\n}\r\n\r\nexport default {\r\n  cartItems,\r\n  cartTotal,\r\n  cartItemCount,\r\n  addToCart,\r\n  updateCartItemQuantity,\r\n  removeFromCart,\r\n  clearCart\r\n} ","export default function(n){return{all:n=n||new Map,on:function(t,e){var i=n.get(t);i?i.push(e):n.set(t,[e])},off:function(t,e){var i=n.get(t);i&&(e?i.splice(i.indexOf(e)>>>0,1):n.set(t,[]))},emit:function(t,e){var i=n.get(t);i&&i.slice().map(function(n){n(e)}),(i=n.get(\"*\"))&&i.slice().map(function(n){n(t,e)})}}}\n//# sourceMappingURL=mitt.mjs.map\n","import mitt from 'mitt'\r\n\r\nconst emitter = mitt()\r\n\r\nexport default emitter ","<template>\n  <header class=\"bg-white shadow\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      <div class=\"flex justify-between h-16\">\n        <!-- Logo và tên hệ thống -->\n        <div class=\"flex items-center\">\n          <router-link to=\"/\" class=\"flex items-center\">\n            <div class=\"w-10 h-10 bg-green-100 rounded-full overflow-hidden mr-2\">\n              <img src=\"/assets/images/products/sam-tuoi.png\" alt=\"Sâm Ngọc Linh\" class=\"w-full h-full object-cover\">\n            </div>\n            <span class=\"text-xl font-semibold text-gray-900\">Sâm Ngọc Linh</span>\n          </router-link>\n        </div>\n        \n        <!-- Menu chính -->\n        <nav class=\"hidden md:flex items-center space-x-6\">\n          <router-link \n            v-for=\"item in mainMenu\" \n            :key=\"item.path\"\n            :to=\"item.path\"\n            class=\"text-sm font-medium transition-colors\"\n            :class=\"[\n              isActive(item.path) \n                ? 'text-green-600' \n                : 'text-gray-500 hover:text-gray-900'\n            ]\"\n          >\n            {{ item.label }}\n          </router-link>\n        </nav>\n        \n        <!-- Giỏ hàng và tác vụ khác -->\n        <div class=\"flex items-center space-x-4\">\n          <!-- Giỏ hàng -->\n          <router-link to=\"/cart\" class=\"p-2 text-gray-500 hover:text-gray-900 relative\">\n            <i class=\"fas fa-shopping-cart\" :class=\"{ 'animate-cart-bounce': showCartAnimation }\"></i>\n            <span v-if=\"cartItemCount > 0\" class=\"absolute top-0 right-0 bg-green-500 text-white text-xs rounded-full h-4 w-4 flex items-center justify-center\"\n                  :class=\"{ 'animate-pulse': showCartAnimation }\">\n              {{ cartItemCount }}\n            </span>\n          </router-link>\n          \n          <!-- Tìm kiếm -->\n          <button @click=\"toggleSearch\" class=\"p-2 text-gray-500 hover:text-gray-900\">\n            <i class=\"fas fa-search\"></i>\n          </button>\n          \n          <!-- Menu mobile -->\n          <button @click=\"toggleMobileMenu\" class=\"p-2 text-gray-500 hover:text-gray-900 md:hidden\">\n            <i :class=\"isMobileMenuOpen ? 'fas fa-times' : 'fas fa-bars'\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Thanh tìm kiếm -->\n    <div v-if=\"isSearchOpen\" class=\"border-t border-gray-200 py-3\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <form @submit.prevent=\"submitSearch\" class=\"flex\">\n          <input \n            v-model=\"searchQuery\"\n            type=\"text\" \n            placeholder=\"Tìm kiếm sản phẩm...\" \n            class=\"flex-grow px-4 py-2 border border-gray-300 focus:ring-green-500 focus:border-green-500 rounded-l-md\"\n          >\n          <button \n            type=\"submit\" \n            class=\"bg-green-600 text-white px-4 py-2 rounded-r-md hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-green-500\"\n          >\n            <i class=\"fas fa-search\"></i>\n          </button>\n        </form>\n      </div>\n    </div>\n    \n    <!-- Menu mobile -->\n    <div v-if=\"isMobileMenuOpen\" class=\"md:hidden border-t border-gray-200\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3\">\n        <div class=\"space-y-1\">\n          <router-link \n            v-for=\"item in mainMenu\" \n            :key=\"item.path\"\n            :to=\"item.path\"\n            class=\"block py-2 text-base font-medium transition-colors\"\n            :class=\"[\n              isActive(item.path) \n                ? 'text-green-600' \n                : 'text-gray-500 hover:text-gray-900'\n            ]\"\n            @click=\"closeMobileMenu\"\n          >\n            {{ item.label }}\n          </router-link>\n        </div>\n      </div>\n    </div>\n  </header>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport cart from '@/store/cart'\nimport eventBus from '@/utils/eventBus'\n\nconst route = useRoute()\nconst router = useRouter()\n\n// State\nconst isMobileMenuOpen = ref(false)\nconst isSearchOpen = ref(false)\nconst searchQuery = ref('')\nconst cartItemCount = computed(() => cart.cartItemCount.value)\nconst showCartAnimation = ref(false)\n\n// Menu chính\nconst mainMenu = [\n  { label: 'Trang chủ', path: '/' },\n  { label: 'Sản phẩm', path: '/products' },\n  { label: 'Dịch vụ', path: '/services' },\n  { label: 'Tin tức', path: '/news' },\n  { label: 'Giới thiệu', path: '/about' },\n  { label: 'Liên hệ', path: '/contact' }\n]\n\n// Kiểm tra route hiện tại\nfunction isActive(path) {\n  if (path === '/') {\n    return route.path === '/'\n  }\n  return route.path.startsWith(path)\n}\n\n// Mở/đóng menu mobile\nfunction toggleMobileMenu() {\n  isMobileMenuOpen.value = !isMobileMenuOpen.value\n  if (isMobileMenuOpen.value) {\n    isSearchOpen.value = false\n  }\n}\n\n// Đóng menu mobile\nfunction closeMobileMenu() {\n  isMobileMenuOpen.value = false\n}\n\n// Mở/đóng thanh tìm kiếm\nfunction toggleSearch() {\n  isSearchOpen.value = !isSearchOpen.value\n  if (isSearchOpen.value) {\n    isMobileMenuOpen.value = false\n    // Focus vào input tìm kiếm\n    setTimeout(() => {\n      document.querySelector('input[type=\"text\"]')?.focus()\n    }, 100)\n  }\n}\n\n// Xử lý tìm kiếm\nfunction submitSearch() {\n  if (searchQuery.value.trim()) {\n    router.push({\n      path: '/products',\n      query: { search: searchQuery.value }\n    })\n    isSearchOpen.value = false\n  }\n}\n\n// Lắng nghe sự kiện khi sản phẩm được thêm vào giỏ hàng\nfunction onProductAddedToCart() {\n  showCartAnimation.value = true\n  \n  // Tắt animation sau 1.5 giây\n  setTimeout(() => {\n    showCartAnimation.value = false\n  }, 1500)\n}\n\nonMounted(() => {\n  eventBus.on('product-added-to-cart', onProductAddedToCart)\n})\n\nonUnmounted(() => {\n  eventBus.off('product-added-to-cart', onProductAddedToCart)\n})\n</script>\n\n<style scoped>\n@keyframes cart-bounce {\n  0%, 100% {\n    transform: translateY(0);\n  }\n  25% {\n    transform: translateY(-4px) rotate(-10deg);\n  }\n  50% {\n    transform: translateY(0) rotate(0deg);\n  }\n  75% {\n    transform: translateY(-2px) rotate(5deg);\n  }\n}\n\n.animate-cart-bounce {\n  animation: cart-bounce 0.8s ease;\n}\n\n.animate-pulse {\n  animation: pulse 1.5s cubic-bezier(0.4, 0, 0.6, 1) infinite;\n}\n\n@keyframes pulse {\n  0%, 100% {\n    opacity: 1;\n  }\n  50% {\n    opacity: 0.5;\n  }\n}\n</style> ","export default \"__VITE_ASSET__Xz1Dxv2o__\"","<template>\n  <footer class=\"footer\">\n    <div class=\"container\">\n      <div class=\"footer-grid\">\n        <!-- Thông tin công ty -->\n        <div>\n          <div class=\"flex items-center mb-4\">\n            <div class=\"w-10 h-10 bg-green-100 rounded-full overflow-hidden mr-2\">\n              <img src=\"@/assets/images/products/sam-tuoi.png\" alt=\"Sâm Ngọc Linh\" class=\"w-full h-full object-cover\">\n            </div>\n            <span class=\"text-xl font-semibold text-white\">Sâm Ngọc Linh</span>\n          </div>\n          <p class=\"company-desc\">\n            Chuyên cung cấp các sản phẩm sâm Ngọc Linh chất lượng cao, được trồng và chăm sóc theo tiêu chuẩn nghiêm ngặt.\n          </p>\n          <div class=\"social-links\">\n            <a href=\"#\" class=\"social-link\">\n              <i class=\"fab fa-facebook-f\"></i>\n            </a>\n            <a href=\"#\" class=\"social-link\">\n              <i class=\"fab fa-instagram\"></i>\n            </a>\n            <a href=\"#\" class=\"social-link\">\n              <i class=\"fab fa-youtube\"></i>\n            </a>\n          </div>\n        </div>\n        \n        <!-- Menu hỗ trợ khách hàng -->\n        <div>\n          <h3 class=\"footer-heading\">Hỗ trợ khách hàng</h3>\n          <ul class=\"footer-links\">\n            <li>\n              <router-link to=\"/faq\" class=\"footer-link\">\n                Câu hỏi thường gặp\n              </router-link>\n            </li>\n            <li>\n              <router-link to=\"/shipping\" class=\"footer-link\">\n                Chính sách vận chuyển\n              </router-link>\n            </li>\n            <li>\n              <router-link to=\"/returns\" class=\"footer-link\">\n                Chính sách đổi trả\n              </router-link>\n            </li>\n            <li>\n              <router-link to=\"/payment\" class=\"footer-link\">\n                Phương thức thanh toán\n              </router-link>\n            </li>\n          </ul>\n        </div>\n        \n        <!-- Liên kết hữu ích -->\n        <div>\n          <h3 class=\"footer-heading\">Liên kết hữu ích</h3>\n          <ul class=\"footer-links\">\n            <li>\n              <router-link to=\"/about\" class=\"footer-link\">\n                Giới thiệu\n              </router-link>\n            </li>\n            <li>\n              <router-link to=\"/products\" class=\"footer-link\">\n                Sản phẩm\n              </router-link>\n            </li>\n            <li>\n              <router-link to=\"/news\" class=\"footer-link\">\n                Tin tức\n              </router-link>\n            </li>\n            <li>\n              <router-link to=\"/contact\" class=\"footer-link\">\n                Liên hệ\n              </router-link>\n            </li>\n          </ul>\n        </div>\n        \n        <!-- Thông tin liên hệ -->\n        <div>\n          <h3 class=\"footer-heading\">Liên hệ</h3>\n          <ul class=\"footer-links\">\n            <li class=\"contact-item\">\n              <i class=\"fas fa-map-marker-alt mt-1 mr-2 text-gray-400\"></i>\n              <span class=\"text-gray-400\">\n                118 Nguyễn Văn Linh, Quận Thanh Khê, Đà Nẵng\n              </span>\n            </li>\n            <li class=\"contact-item\">\n              <i class=\"fas fa-phone-alt mr-2 text-gray-400\"></i>\n              <span class=\"text-gray-400\">\n                <a href=\"tel:+84912345678\" class=\"contact-link\">\n                  0912 345 678\n                </a>\n              </span>\n            </li>\n            <li class=\"contact-item\">\n              <i class=\"fas fa-envelope mr-2 text-gray-400\"></i>\n              <span class=\"text-gray-400\">\n                <a href=\"mailto:info@samngoclinh.com\" class=\"contact-link\">\n                  info@samngoclinh.com\n                </a>\n              </span>\n            </li>\n          </ul>\n        </div>\n      </div>\n      \n      <!-- Phần chân trang -->\n      <div class=\"footer-bottom\">\n        <div class=\"footer-bottom-content\">\n          <p class=\"copyright\">\n            &copy; {{ currentYear }} Sâm Ngọc Linh. Tất cả các quyền được bảo lưu.\n          </p>\n          <div class=\"legal-links\">\n            <router-link to=\"/privacy\" class=\"legal-link\">\n              Chính sách bảo mật\n            </router-link>\n            <router-link to=\"/terms\" class=\"legal-link\">\n              Điều khoản sử dụng\n            </router-link>\n          </div>\n        </div>\n      </div>\n    </div>\n  </footer>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\n\n// Lấy năm hiện tại cho copyright\nconst currentYear = computed(() => new Date().getFullYear())\n</script>\n\n<style lang=\"scss\" scoped>\n@use \"@/assets/styles/variables\" as *;\n\n.footer {\n  background-color: #1f2937; // gray-900\n  color: $white;\n  padding-top: $spacing-xl;\n  padding-bottom: $spacing-md;\n}\n\n.container {\n  max-width: $container-max-width;\n  margin: 0 auto;\n  padding: 0 $spacing-md;\n  \n  @media (min-width: $breakpoint-sm) {\n    padding: 0 $spacing-lg;\n  }\n  \n  @media (min-width: $breakpoint-lg) {\n    padding: 0 $spacing-xl;\n  }\n}\n\n.footer-grid {\n  display: grid;\n  grid-template-columns: 1fr;\n  gap: $spacing-xl;\n  \n  @media (min-width: $breakpoint-md) {\n    grid-template-columns: 1fr 1fr;\n  }\n  \n  @media (min-width: $breakpoint-lg) {\n    grid-template-columns: repeat(4, 1fr);\n  }\n}\n\n.company-desc {\n  color: #9ca3af; // gray-400\n  margin-bottom: $spacing-md;\n}\n\n.social-links {\n  display: flex;\n  gap: $spacing-md;\n}\n\n.social-link {\n  color: #9ca3af; // gray-400\n  transition: color 0.3s;\n  \n  &:hover {\n    color: $white;\n  }\n}\n\n.footer-heading {\n  font-size: $font-size-lg;\n  font-weight: 600;\n  margin-bottom: $spacing-md;\n}\n\n.footer-links {\n  display: flex;\n  flex-direction: column;\n  gap: $spacing-sm;\n}\n\n.footer-link {\n  color: #9ca3af; // gray-400\n  transition: color 0.3s;\n  \n  &:hover {\n    color: $white;\n  }\n}\n\n.contact-item {\n  display: flex;\n  align-items: flex-start;\n  margin-bottom: $spacing-sm;\n}\n\n.contact-link {\n  color: #9ca3af; // gray-400\n  transition: color 0.3s;\n  \n  &:hover {\n    color: $white;\n  }\n}\n\n.footer-bottom {\n  border-top: 1px solid #374151; // gray-800\n  margin-top: $spacing-xl;\n  padding-top: $spacing-lg;\n}\n\n.footer-bottom-content {\n  display: flex;\n  flex-direction: column;\n  justify-content: space-between;\n  align-items: center;\n  \n  @media (min-width: $breakpoint-md) {\n    flex-direction: row;\n  }\n}\n\n.copyright {\n  color: #9ca3af; // gray-400\n  font-size: 0.875rem;\n  margin-bottom: $spacing-md;\n  \n  @media (min-width: $breakpoint-md) {\n    margin-bottom: 0;\n  }\n}\n\n.legal-links {\n  display: flex;\n  gap: $spacing-md;\n}\n\n.legal-link {\n  color: #9ca3af; // gray-400\n  font-size: 0.875rem;\n  transition: color 0.3s;\n  \n  &:hover {\n    color: $white;\n  }\n}\n</style> ","<template>\r\n  <transition name=\"notification\">\r\n    <div v-if=\"show\" class=\"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-[2px] bg-black/30\">\r\n      <div class=\"bg-white rounded-lg shadow-2xl overflow-hidden max-w-md w-full mx-4 scale-animation\">\r\n        <!-- Success icon with animation -->\r\n        <div class=\"bg-gradient-to-r from-green-600 to-green-500 p-6 flex items-center justify-center\">\r\n          <div class=\"cart-animation\">\r\n            <i class=\"fas fa-shopping-cart text-white text-3xl\"></i>\r\n            <span class=\"bg-white text-green-500 text-xs font-bold absolute rounded-full w-6 h-6 flex items-center justify-center cart-badge\">+1</span>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Content -->\r\n        <div class=\"p-6 text-center\">\r\n          <h3 class=\"text-xl font-bold text-gray-800 mb-3\">{{ title }}</h3>\r\n          <p class=\"text-gray-600 text-base mb-6\">{{ message }}</p>\r\n          <button \r\n            @click=\"closeNotification\" \r\n            class=\"bg-green-600 hover:bg-green-700 text-white px-6 py-2 rounded-lg font-medium transition shadow-md hover:shadow-lg focus:outline-none\"\r\n          >\r\n            OK\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, onMounted, onBeforeUnmount, watch } from 'vue'\r\n\r\nconst props = defineProps({\r\n  title: {\r\n    type: String,\r\n    default: 'Thêm vào giỏ hàng'\r\n  },\r\n  message: {\r\n    type: String,\r\n    default: 'Sản phẩm đã được thêm vào giỏ hàng của bạn.'\r\n  },\r\n  duration: {\r\n    type: Number,\r\n    default: 3000\r\n  },\r\n  show: {\r\n    type: Boolean,\r\n    default: false\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['close'])\r\nconst show = ref(props.show)\r\nlet timeoutId = null\r\n\r\nconst closeNotification = () => {\r\n  show.value = false\r\n  emit('close')\r\n}\r\n\r\nconst startTimer = () => {\r\n  if (timeoutId) clearTimeout(timeoutId)\r\n  \r\n  timeoutId = setTimeout(() => {\r\n    closeNotification()\r\n  }, props.duration)\r\n}\r\n\r\nwatch(() => props.show, (newVal) => {\r\n  show.value = newVal\r\n  if (newVal) {\r\n    startTimer()\r\n  }\r\n})\r\n\r\nonMounted(() => {\r\n  if (show.value) {\r\n    startTimer()\r\n  }\r\n})\r\n\r\nonBeforeUnmount(() => {\r\n  if (timeoutId) {\r\n    clearTimeout(timeoutId)\r\n  }\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.scale-animation {\r\n  animation: pop-in 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;\r\n}\r\n\r\n.cart-animation {\r\n  position: relative;\r\n  animation: bounce 1.2s ease infinite;\r\n}\r\n\r\n.cart-badge {\r\n  position: absolute;\r\n  top: -8px;\r\n  right: -8px;\r\n  animation: pulse 1.5s ease infinite;\r\n}\r\n\r\n.notification-enter-active, .notification-leave-active {\r\n  transition: all 0.4s ease;\r\n}\r\n\r\n.notification-enter-from, .notification-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.notification-enter-from .scale-animation {\r\n  transform: scale(0.8);\r\n}\r\n\r\n.notification-leave-to .scale-animation {\r\n  transform: scale(0.8);\r\n}\r\n\r\n@keyframes pop-in {\r\n  0% {\r\n    transform: scale(0.8);\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n    opacity: 1;\r\n  }\r\n}\r\n\r\n@keyframes bounce {\r\n  0%, 100% {\r\n    transform: translateY(0);\r\n  }\r\n  25% {\r\n    transform: translateY(-8px) rotate(-5deg);\r\n  }\r\n  50% {\r\n    transform: translateY(0) rotate(0deg);\r\n  }\r\n  75% {\r\n    transform: translateY(-4px) rotate(5deg);\r\n  }\r\n}\r\n\r\n@keyframes pulse {\r\n  0%, 100% {\r\n    transform: scale(1);\r\n  }\r\n  50% {\r\n    transform: scale(1.3);\r\n  }\r\n}\r\n</style> ","import { ref } from 'vue'\r\n\r\nconst showNotification = ref(false)\r\nconst notificationData = ref({\r\n  title: '',\r\n  message: '',\r\n  duration: 3000\r\n})\r\n\r\n// Show notification\r\nconst show = (message, options = {}) => {\r\n  notificationData.value = {\r\n    title: options.title || 'Thông báo',\r\n    message: message,\r\n    duration: options.duration || 3000\r\n  }\r\n  \r\n  showNotification.value = true\r\n  \r\n  return new Promise(resolve => {\r\n    setTimeout(() => {\r\n      resolve()\r\n    }, notificationData.value.duration)\r\n  })\r\n}\r\n\r\n// Hide notification\r\nconst hide = () => {\r\n  showNotification.value = false\r\n}\r\n\r\n// Shortcut methods\r\nconst cart = (product, quantity = 1) => {\r\n  const quantityText = quantity > 1 ? `${quantity} sản phẩm` : 'sản phẩm';\r\n  \r\n  return show(`Đã thêm ${quantityText} \"${product.name}\" vào giỏ hàng!`, {\r\n    title: 'Thêm vào giỏ hàng thành công',\r\n    duration: 2000\r\n  })\r\n}\r\n\r\nexport default {\r\n  showNotification,\r\n  notificationData,\r\n  show,\r\n  hide,\r\n  cart\r\n} ","<template>\n  <div class=\"app\">\n    <template v-if=\"!isAdminRoute\">\n      <TheHeader />\n      <main class=\"main-content\">\n        <router-view v-slot=\"{ Component }\">\n          <component :is=\"Component\" />\n        </router-view>\n      </main>\n      <TheFooter />\n    </template>\n    <template v-else>\n      <div class=\"admin-layout\">\n        <router-view></router-view>\n      </div>\n    </template>\n    \n    <!-- Modern Notification -->\n    <NotificationPopup \n      :show=\"notificationService.showNotification.value\"\n      :title=\"notificationService.notificationData.value.title\"\n      :message=\"notificationService.notificationData.value.message\"\n      :duration=\"notificationService.notificationData.value.duration\"\n      @close=\"notificationService.hide\"\n    />\n  </div>\n</template>\n\n<script setup>\nimport { computed } from 'vue'\nimport { useRoute } from 'vue-router'\nimport TheHeader from '@/components/layout/TheHeader.vue'\nimport TheFooter from '@/components/layout/TheFooter.vue'\nimport NotificationPopup from '@/components/NotificationPopup.vue'\nimport notificationService from '@/utils/notificationService'\n\nconst route = useRoute()\nconst isAdminRoute = computed(() => route.path.startsWith('/admin'))\n</script>\n\n<style lang=\"scss\">\n@use \"@/assets/styles/variables\" as *;\n\n.app {\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n}\n\n.main-content {\n  flex: 1;\n  padding: 2rem 0;\n}\n\n.admin-layout {\n  min-height: 100vh;\n}\n</style> ","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.AOS=t():e.AOS=t()}(this,function(){return function(e){function t(o){if(n[o])return n[o].exports;var i=n[o]={exports:{},id:o,loaded:!1};return e[o].call(i.exports,i,i.exports,t),i.loaded=!0,i.exports}var n={};return t.m=e,t.c=n,t.p=\"dist/\",t(0)}([function(e,t,n){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},r=n(1),a=(o(r),n(6)),u=o(a),c=n(7),s=o(c),f=n(8),d=o(f),l=n(9),p=o(l),m=n(10),b=o(m),v=n(11),y=o(v),g=n(14),h=o(g),w=[],k=!1,x={offset:120,delay:0,easing:\"ease\",duration:400,disable:!1,once:!1,startEvent:\"DOMContentLoaded\",throttleDelay:99,debounceDelay:50,disableMutationObserver:!1},j=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(e&&(k=!0),k)return w=(0,y.default)(w,x),(0,b.default)(w,x.once),w},O=function(){w=(0,h.default)(),j()},M=function(){w.forEach(function(e,t){e.node.removeAttribute(\"data-aos\"),e.node.removeAttribute(\"data-aos-easing\"),e.node.removeAttribute(\"data-aos-duration\"),e.node.removeAttribute(\"data-aos-delay\")})},S=function(e){return e===!0||\"mobile\"===e&&p.default.mobile()||\"phone\"===e&&p.default.phone()||\"tablet\"===e&&p.default.tablet()||\"function\"==typeof e&&e()===!0},_=function(e){x=i(x,e),w=(0,h.default)();var t=document.all&&!window.atob;return S(x.disable)||t?M():(x.disableMutationObserver||d.default.isSupported()||(console.info('\\n      aos: MutationObserver is not supported on this browser,\\n      code mutations observing has been disabled.\\n      You may have to call \"refreshHard()\" by yourself.\\n    '),x.disableMutationObserver=!0),document.querySelector(\"body\").setAttribute(\"data-aos-easing\",x.easing),document.querySelector(\"body\").setAttribute(\"data-aos-duration\",x.duration),document.querySelector(\"body\").setAttribute(\"data-aos-delay\",x.delay),\"DOMContentLoaded\"===x.startEvent&&[\"complete\",\"interactive\"].indexOf(document.readyState)>-1?j(!0):\"load\"===x.startEvent?window.addEventListener(x.startEvent,function(){j(!0)}):document.addEventListener(x.startEvent,function(){j(!0)}),window.addEventListener(\"resize\",(0,s.default)(j,x.debounceDelay,!0)),window.addEventListener(\"orientationchange\",(0,s.default)(j,x.debounceDelay,!0)),window.addEventListener(\"scroll\",(0,u.default)(function(){(0,b.default)(w,x.once)},x.throttleDelay)),x.disableMutationObserver||d.default.ready(\"[data-aos]\",O),w)};e.exports={init:_,refresh:j,refreshHard:O}},function(e,t){},,,,,function(e,t){(function(t){\"use strict\";function n(e,t,n){function o(t){var n=b,o=v;return b=v=void 0,k=t,g=e.apply(o,n)}function r(e){return k=e,h=setTimeout(f,t),M?o(e):g}function a(e){var n=e-w,o=e-k,i=t-n;return S?j(i,y-o):i}function c(e){var n=e-w,o=e-k;return void 0===w||n>=t||n<0||S&&o>=y}function f(){var e=O();return c(e)?d(e):void(h=setTimeout(f,a(e)))}function d(e){return h=void 0,_&&b?o(e):(b=v=void 0,g)}function l(){void 0!==h&&clearTimeout(h),k=0,b=w=v=h=void 0}function p(){return void 0===h?g:d(O())}function m(){var e=O(),n=c(e);if(b=arguments,v=this,w=e,n){if(void 0===h)return r(w);if(S)return h=setTimeout(f,t),o(w)}return void 0===h&&(h=setTimeout(f,t)),g}var b,v,y,g,h,w,k=0,M=!1,S=!1,_=!0;if(\"function\"!=typeof e)throw new TypeError(s);return t=u(t)||0,i(n)&&(M=!!n.leading,S=\"maxWait\"in n,y=S?x(u(n.maxWait)||0,t):y,_=\"trailing\"in n?!!n.trailing:_),m.cancel=l,m.flush=p,m}function o(e,t,o){var r=!0,a=!0;if(\"function\"!=typeof e)throw new TypeError(s);return i(o)&&(r=\"leading\"in o?!!o.leading:r,a=\"trailing\"in o?!!o.trailing:a),n(e,t,{leading:r,maxWait:t,trailing:a})}function i(e){var t=\"undefined\"==typeof e?\"undefined\":c(e);return!!e&&(\"object\"==t||\"function\"==t)}function r(e){return!!e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":c(e))}function a(e){return\"symbol\"==(\"undefined\"==typeof e?\"undefined\":c(e))||r(e)&&k.call(e)==d}function u(e){if(\"number\"==typeof e)return e;if(a(e))return f;if(i(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=i(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(l,\"\");var n=m.test(e);return n||b.test(e)?v(e.slice(2),n?2:8):p.test(e)?f:+e}var c=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},s=\"Expected a function\",f=NaN,d=\"[object Symbol]\",l=/^\\s+|\\s+$/g,p=/^[-+]0x[0-9a-f]+$/i,m=/^0b[01]+$/i,b=/^0o[0-7]+$/i,v=parseInt,y=\"object\"==(\"undefined\"==typeof t?\"undefined\":c(t))&&t&&t.Object===Object&&t,g=\"object\"==(\"undefined\"==typeof self?\"undefined\":c(self))&&self&&self.Object===Object&&self,h=y||g||Function(\"return this\")(),w=Object.prototype,k=w.toString,x=Math.max,j=Math.min,O=function(){return h.Date.now()};e.exports=o}).call(t,function(){return this}())},function(e,t){(function(t){\"use strict\";function n(e,t,n){function i(t){var n=b,o=v;return b=v=void 0,O=t,g=e.apply(o,n)}function r(e){return O=e,h=setTimeout(f,t),M?i(e):g}function u(e){var n=e-w,o=e-O,i=t-n;return S?x(i,y-o):i}function s(e){var n=e-w,o=e-O;return void 0===w||n>=t||n<0||S&&o>=y}function f(){var e=j();return s(e)?d(e):void(h=setTimeout(f,u(e)))}function d(e){return h=void 0,_&&b?i(e):(b=v=void 0,g)}function l(){void 0!==h&&clearTimeout(h),O=0,b=w=v=h=void 0}function p(){return void 0===h?g:d(j())}function m(){var e=j(),n=s(e);if(b=arguments,v=this,w=e,n){if(void 0===h)return r(w);if(S)return h=setTimeout(f,t),i(w)}return void 0===h&&(h=setTimeout(f,t)),g}var b,v,y,g,h,w,O=0,M=!1,S=!1,_=!0;if(\"function\"!=typeof e)throw new TypeError(c);return t=a(t)||0,o(n)&&(M=!!n.leading,S=\"maxWait\"in n,y=S?k(a(n.maxWait)||0,t):y,_=\"trailing\"in n?!!n.trailing:_),m.cancel=l,m.flush=p,m}function o(e){var t=\"undefined\"==typeof e?\"undefined\":u(e);return!!e&&(\"object\"==t||\"function\"==t)}function i(e){return!!e&&\"object\"==(\"undefined\"==typeof e?\"undefined\":u(e))}function r(e){return\"symbol\"==(\"undefined\"==typeof e?\"undefined\":u(e))||i(e)&&w.call(e)==f}function a(e){if(\"number\"==typeof e)return e;if(r(e))return s;if(o(e)){var t=\"function\"==typeof e.valueOf?e.valueOf():e;e=o(t)?t+\"\":t}if(\"string\"!=typeof e)return 0===e?e:+e;e=e.replace(d,\"\");var n=p.test(e);return n||m.test(e)?b(e.slice(2),n?2:8):l.test(e)?s:+e}var u=\"function\"==typeof Symbol&&\"symbol\"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&\"function\"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?\"symbol\":typeof e},c=\"Expected a function\",s=NaN,f=\"[object Symbol]\",d=/^\\s+|\\s+$/g,l=/^[-+]0x[0-9a-f]+$/i,p=/^0b[01]+$/i,m=/^0o[0-7]+$/i,b=parseInt,v=\"object\"==(\"undefined\"==typeof t?\"undefined\":u(t))&&t&&t.Object===Object&&t,y=\"object\"==(\"undefined\"==typeof self?\"undefined\":u(self))&&self&&self.Object===Object&&self,g=v||y||Function(\"return this\")(),h=Object.prototype,w=h.toString,k=Math.max,x=Math.min,j=function(){return g.Date.now()};e.exports=n}).call(t,function(){return this}())},function(e,t){\"use strict\";function n(e){var t=void 0,o=void 0,i=void 0;for(t=0;t<e.length;t+=1){if(o=e[t],o.dataset&&o.dataset.aos)return!0;if(i=o.children&&n(o.children))return!0}return!1}function o(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function i(){return!!o()}function r(e,t){var n=window.document,i=o(),r=new i(a);u=t,r.observe(n.documentElement,{childList:!0,subtree:!0,removedNodes:!0})}function a(e){e&&e.forEach(function(e){var t=Array.prototype.slice.call(e.addedNodes),o=Array.prototype.slice.call(e.removedNodes),i=t.concat(o);if(n(i))return u()})}Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(){};t.default={isSupported:i,ready:r}},function(e,t){\"use strict\";function n(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function o(){return navigator.userAgent||navigator.vendor||window.opera||\"\"}Object.defineProperty(t,\"__esModule\",{value:!0});var i=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i,a=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i,u=/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i,c=/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i,s=function(){function e(){n(this,e)}return i(e,[{key:\"phone\",value:function(){var e=o();return!(!r.test(e)&&!a.test(e.substr(0,4)))}},{key:\"mobile\",value:function(){var e=o();return!(!u.test(e)&&!c.test(e.substr(0,4)))}},{key:\"tablet\",value:function(){return this.mobile()&&!this.phone()}}]),e}();t.default=new s},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e,t,n){var o=e.node.getAttribute(\"data-aos-once\");t>e.position?e.node.classList.add(\"aos-animate\"):\"undefined\"!=typeof o&&(\"false\"===o||!n&&\"true\"!==o)&&e.node.classList.remove(\"aos-animate\")},o=function(e,t){var o=window.pageYOffset,i=window.innerHeight;e.forEach(function(e,r){n(e,i+o,t)})};t.default=o},function(e,t,n){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(12),r=o(i),a=function(e,t){return e.forEach(function(e,n){e.node.classList.add(\"aos-init\"),e.position=(0,r.default)(e.node,t.offset)}),e};t.default=a},function(e,t,n){\"use strict\";function o(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,\"__esModule\",{value:!0});var i=n(13),r=o(i),a=function(e,t){var n=0,o=0,i=window.innerHeight,a={offset:e.getAttribute(\"data-aos-offset\"),anchor:e.getAttribute(\"data-aos-anchor\"),anchorPlacement:e.getAttribute(\"data-aos-anchor-placement\")};switch(a.offset&&!isNaN(a.offset)&&(o=parseInt(a.offset)),a.anchor&&document.querySelectorAll(a.anchor)&&(e=document.querySelectorAll(a.anchor)[0]),n=(0,r.default)(e).top,a.anchorPlacement){case\"top-bottom\":break;case\"center-bottom\":n+=e.offsetHeight/2;break;case\"bottom-bottom\":n+=e.offsetHeight;break;case\"top-center\":n+=i/2;break;case\"bottom-center\":n+=i/2+e.offsetHeight;break;case\"center-center\":n+=i/2+e.offsetHeight/2;break;case\"top-top\":n+=i;break;case\"bottom-top\":n+=e.offsetHeight+i;break;case\"center-top\":n+=e.offsetHeight/2+i}return a.anchorPlacement||a.offset||isNaN(t)||(o=t),n+o};t.default=a},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e){for(var t=0,n=0;e&&!isNaN(e.offsetLeft)&&!isNaN(e.offsetTop);)t+=e.offsetLeft-(\"BODY\"!=e.tagName?e.scrollLeft:0),n+=e.offsetTop-(\"BODY\"!=e.tagName?e.scrollTop:0),e=e.offsetParent;return{top:n,left:t}};t.default=n},function(e,t){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var n=function(e){return e=e||document.querySelectorAll(\"[data-aos]\"),Array.prototype.map.call(e,function(e){return{node:e}})};t.default=n}])});","'use strict';\n\nexport default function bind(fn, thisArg) {\n  return function wrap() {\n    return fn.apply(thisArg, arguments);\n  };\n}\n","'use strict';\n\nimport bind from './helpers/bind.js';\n\n// utils is a library of generic helper functions non-specific to axios\n\nconst {toString} = Object.prototype;\nconst {getPrototypeOf} = Object;\n\nconst kindOf = (cache => thing => {\n    const str = toString.call(thing);\n    return cache[str] || (cache[str] = str.slice(8, -1).toLowerCase());\n})(Object.create(null));\n\nconst kindOfTest = (type) => {\n  type = type.toLowerCase();\n  return (thing) => kindOf(thing) === type\n}\n\nconst typeOfTest = type => thing => typeof thing === type;\n\n/**\n * Determine if a value is an Array\n *\n * @param {Object} val The value to test\n *\n * @returns {boolean} True if value is an Array, otherwise false\n */\nconst {isArray} = Array;\n\n/**\n * Determine if a value is undefined\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if the value is undefined, otherwise false\n */\nconst isUndefined = typeOfTest('undefined');\n\n/**\n * Determine if a value is a Buffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Buffer, otherwise false\n */\nfunction isBuffer(val) {\n  return val !== null && !isUndefined(val) && val.constructor !== null && !isUndefined(val.constructor)\n    && isFunction(val.constructor.isBuffer) && val.constructor.isBuffer(val);\n}\n\n/**\n * Determine if a value is an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is an ArrayBuffer, otherwise false\n */\nconst isArrayBuffer = kindOfTest('ArrayBuffer');\n\n\n/**\n * Determine if a value is a view on an ArrayBuffer\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a view on an ArrayBuffer, otherwise false\n */\nfunction isArrayBufferView(val) {\n  let result;\n  if ((typeof ArrayBuffer !== 'undefined') && (ArrayBuffer.isView)) {\n    result = ArrayBuffer.isView(val);\n  } else {\n    result = (val) && (val.buffer) && (isArrayBuffer(val.buffer));\n  }\n  return result;\n}\n\n/**\n * Determine if a value is a String\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a String, otherwise false\n */\nconst isString = typeOfTest('string');\n\n/**\n * Determine if a value is a Function\n *\n * @param {*} val The value to test\n * @returns {boolean} True if value is a Function, otherwise false\n */\nconst isFunction = typeOfTest('function');\n\n/**\n * Determine if a value is a Number\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Number, otherwise false\n */\nconst isNumber = typeOfTest('number');\n\n/**\n * Determine if a value is an Object\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an Object, otherwise false\n */\nconst isObject = (thing) => thing !== null && typeof thing === 'object';\n\n/**\n * Determine if a value is a Boolean\n *\n * @param {*} thing The value to test\n * @returns {boolean} True if value is a Boolean, otherwise false\n */\nconst isBoolean = thing => thing === true || thing === false;\n\n/**\n * Determine if a value is a plain Object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a plain Object, otherwise false\n */\nconst isPlainObject = (val) => {\n  if (kindOf(val) !== 'object') {\n    return false;\n  }\n\n  const prototype = getPrototypeOf(val);\n  return (prototype === null || prototype === Object.prototype || Object.getPrototypeOf(prototype) === null) && !(Symbol.toStringTag in val) && !(Symbol.iterator in val);\n}\n\n/**\n * Determine if a value is a Date\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Date, otherwise false\n */\nconst isDate = kindOfTest('Date');\n\n/**\n * Determine if a value is a File\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFile = kindOfTest('File');\n\n/**\n * Determine if a value is a Blob\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Blob, otherwise false\n */\nconst isBlob = kindOfTest('Blob');\n\n/**\n * Determine if a value is a FileList\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a File, otherwise false\n */\nconst isFileList = kindOfTest('FileList');\n\n/**\n * Determine if a value is a Stream\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a Stream, otherwise false\n */\nconst isStream = (val) => isObject(val) && isFunction(val.pipe);\n\n/**\n * Determine if a value is a FormData\n *\n * @param {*} thing The value to test\n *\n * @returns {boolean} True if value is an FormData, otherwise false\n */\nconst isFormData = (thing) => {\n  let kind;\n  return thing && (\n    (typeof FormData === 'function' && thing instanceof FormData) || (\n      isFunction(thing.append) && (\n        (kind = kindOf(thing)) === 'formdata' ||\n        // detect form-data instance\n        (kind === 'object' && isFunction(thing.toString) && thing.toString() === '[object FormData]')\n      )\n    )\n  )\n}\n\n/**\n * Determine if a value is a URLSearchParams object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a URLSearchParams object, otherwise false\n */\nconst isURLSearchParams = kindOfTest('URLSearchParams');\n\nconst [isReadableStream, isRequest, isResponse, isHeaders] = ['ReadableStream', 'Request', 'Response', 'Headers'].map(kindOfTest);\n\n/**\n * Trim excess whitespace off the beginning and end of a string\n *\n * @param {String} str The String to trim\n *\n * @returns {String} The String freed of excess whitespace\n */\nconst trim = (str) => str.trim ?\n  str.trim() : str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n\n/**\n * Iterate over an Array or an Object invoking a function for each item.\n *\n * If `obj` is an Array callback will be called passing\n * the value, index, and complete array for each item.\n *\n * If 'obj' is an Object callback will be called passing\n * the value, key, and complete object for each property.\n *\n * @param {Object|Array} obj The object to iterate\n * @param {Function} fn The callback to invoke for each item\n *\n * @param {Boolean} [allOwnKeys = false]\n * @returns {any}\n */\nfunction forEach(obj, fn, {allOwnKeys = false} = {}) {\n  // Don't bother if no value provided\n  if (obj === null || typeof obj === 'undefined') {\n    return;\n  }\n\n  let i;\n  let l;\n\n  // Force an array if not already something iterable\n  if (typeof obj !== 'object') {\n    /*eslint no-param-reassign:0*/\n    obj = [obj];\n  }\n\n  if (isArray(obj)) {\n    // Iterate over array values\n    for (i = 0, l = obj.length; i < l; i++) {\n      fn.call(null, obj[i], i, obj);\n    }\n  } else {\n    // Iterate over object keys\n    const keys = allOwnKeys ? Object.getOwnPropertyNames(obj) : Object.keys(obj);\n    const len = keys.length;\n    let key;\n\n    for (i = 0; i < len; i++) {\n      key = keys[i];\n      fn.call(null, obj[key], key, obj);\n    }\n  }\n}\n\nfunction findKey(obj, key) {\n  key = key.toLowerCase();\n  const keys = Object.keys(obj);\n  let i = keys.length;\n  let _key;\n  while (i-- > 0) {\n    _key = keys[i];\n    if (key === _key.toLowerCase()) {\n      return _key;\n    }\n  }\n  return null;\n}\n\nconst _global = (() => {\n  /*eslint no-undef:0*/\n  if (typeof globalThis !== \"undefined\") return globalThis;\n  return typeof self !== \"undefined\" ? self : (typeof window !== 'undefined' ? window : global)\n})();\n\nconst isContextDefined = (context) => !isUndefined(context) && context !== _global;\n\n/**\n * Accepts varargs expecting each argument to be an object, then\n * immutably merges the properties of each object and returns result.\n *\n * When multiple objects contain the same key the later object in\n * the arguments list will take precedence.\n *\n * Example:\n *\n * ```js\n * var result = merge({foo: 123}, {foo: 456});\n * console.log(result.foo); // outputs 456\n * ```\n *\n * @param {Object} obj1 Object to merge\n *\n * @returns {Object} Result of all merge properties\n */\nfunction merge(/* obj1, obj2, obj3, ... */) {\n  const {caseless} = isContextDefined(this) && this || {};\n  const result = {};\n  const assignValue = (val, key) => {\n    const targetKey = caseless && findKey(result, key) || key;\n    if (isPlainObject(result[targetKey]) && isPlainObject(val)) {\n      result[targetKey] = merge(result[targetKey], val);\n    } else if (isPlainObject(val)) {\n      result[targetKey] = merge({}, val);\n    } else if (isArray(val)) {\n      result[targetKey] = val.slice();\n    } else {\n      result[targetKey] = val;\n    }\n  }\n\n  for (let i = 0, l = arguments.length; i < l; i++) {\n    arguments[i] && forEach(arguments[i], assignValue);\n  }\n  return result;\n}\n\n/**\n * Extends object a by mutably adding to it the properties of object b.\n *\n * @param {Object} a The object to be extended\n * @param {Object} b The object to copy properties from\n * @param {Object} thisArg The object to bind function to\n *\n * @param {Boolean} [allOwnKeys]\n * @returns {Object} The resulting value of object a\n */\nconst extend = (a, b, thisArg, {allOwnKeys}= {}) => {\n  forEach(b, (val, key) => {\n    if (thisArg && isFunction(val)) {\n      a[key] = bind(val, thisArg);\n    } else {\n      a[key] = val;\n    }\n  }, {allOwnKeys});\n  return a;\n}\n\n/**\n * Remove byte order marker. This catches EF BB BF (the UTF-8 BOM)\n *\n * @param {string} content with BOM\n *\n * @returns {string} content value without BOM\n */\nconst stripBOM = (content) => {\n  if (content.charCodeAt(0) === 0xFEFF) {\n    content = content.slice(1);\n  }\n  return content;\n}\n\n/**\n * Inherit the prototype methods from one constructor into another\n * @param {function} constructor\n * @param {function} superConstructor\n * @param {object} [props]\n * @param {object} [descriptors]\n *\n * @returns {void}\n */\nconst inherits = (constructor, superConstructor, props, descriptors) => {\n  constructor.prototype = Object.create(superConstructor.prototype, descriptors);\n  constructor.prototype.constructor = constructor;\n  Object.defineProperty(constructor, 'super', {\n    value: superConstructor.prototype\n  });\n  props && Object.assign(constructor.prototype, props);\n}\n\n/**\n * Resolve object with deep prototype chain to a flat object\n * @param {Object} sourceObj source object\n * @param {Object} [destObj]\n * @param {Function|Boolean} [filter]\n * @param {Function} [propFilter]\n *\n * @returns {Object}\n */\nconst toFlatObject = (sourceObj, destObj, filter, propFilter) => {\n  let props;\n  let i;\n  let prop;\n  const merged = {};\n\n  destObj = destObj || {};\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  if (sourceObj == null) return destObj;\n\n  do {\n    props = Object.getOwnPropertyNames(sourceObj);\n    i = props.length;\n    while (i-- > 0) {\n      prop = props[i];\n      if ((!propFilter || propFilter(prop, sourceObj, destObj)) && !merged[prop]) {\n        destObj[prop] = sourceObj[prop];\n        merged[prop] = true;\n      }\n    }\n    sourceObj = filter !== false && getPrototypeOf(sourceObj);\n  } while (sourceObj && (!filter || filter(sourceObj, destObj)) && sourceObj !== Object.prototype);\n\n  return destObj;\n}\n\n/**\n * Determines whether a string ends with the characters of a specified string\n *\n * @param {String} str\n * @param {String} searchString\n * @param {Number} [position= 0]\n *\n * @returns {boolean}\n */\nconst endsWith = (str, searchString, position) => {\n  str = String(str);\n  if (position === undefined || position > str.length) {\n    position = str.length;\n  }\n  position -= searchString.length;\n  const lastIndex = str.indexOf(searchString, position);\n  return lastIndex !== -1 && lastIndex === position;\n}\n\n\n/**\n * Returns new array from array like object or null if failed\n *\n * @param {*} [thing]\n *\n * @returns {?Array}\n */\nconst toArray = (thing) => {\n  if (!thing) return null;\n  if (isArray(thing)) return thing;\n  let i = thing.length;\n  if (!isNumber(i)) return null;\n  const arr = new Array(i);\n  while (i-- > 0) {\n    arr[i] = thing[i];\n  }\n  return arr;\n}\n\n/**\n * Checking if the Uint8Array exists and if it does, it returns a function that checks if the\n * thing passed in is an instance of Uint8Array\n *\n * @param {TypedArray}\n *\n * @returns {Array}\n */\n// eslint-disable-next-line func-names\nconst isTypedArray = (TypedArray => {\n  // eslint-disable-next-line func-names\n  return thing => {\n    return TypedArray && thing instanceof TypedArray;\n  };\n})(typeof Uint8Array !== 'undefined' && getPrototypeOf(Uint8Array));\n\n/**\n * For each entry in the object, call the function with the key and value.\n *\n * @param {Object<any, any>} obj - The object to iterate over.\n * @param {Function} fn - The function to call for each entry.\n *\n * @returns {void}\n */\nconst forEachEntry = (obj, fn) => {\n  const generator = obj && obj[Symbol.iterator];\n\n  const iterator = generator.call(obj);\n\n  let result;\n\n  while ((result = iterator.next()) && !result.done) {\n    const pair = result.value;\n    fn.call(obj, pair[0], pair[1]);\n  }\n}\n\n/**\n * It takes a regular expression and a string, and returns an array of all the matches\n *\n * @param {string} regExp - The regular expression to match against.\n * @param {string} str - The string to search.\n *\n * @returns {Array<boolean>}\n */\nconst matchAll = (regExp, str) => {\n  let matches;\n  const arr = [];\n\n  while ((matches = regExp.exec(str)) !== null) {\n    arr.push(matches);\n  }\n\n  return arr;\n}\n\n/* Checking if the kindOfTest function returns true when passed an HTMLFormElement. */\nconst isHTMLForm = kindOfTest('HTMLFormElement');\n\nconst toCamelCase = str => {\n  return str.toLowerCase().replace(/[-_\\s]([a-z\\d])(\\w*)/g,\n    function replacer(m, p1, p2) {\n      return p1.toUpperCase() + p2;\n    }\n  );\n};\n\n/* Creating a function that will check if an object has a property. */\nconst hasOwnProperty = (({hasOwnProperty}) => (obj, prop) => hasOwnProperty.call(obj, prop))(Object.prototype);\n\n/**\n * Determine if a value is a RegExp object\n *\n * @param {*} val The value to test\n *\n * @returns {boolean} True if value is a RegExp object, otherwise false\n */\nconst isRegExp = kindOfTest('RegExp');\n\nconst reduceDescriptors = (obj, reducer) => {\n  const descriptors = Object.getOwnPropertyDescriptors(obj);\n  const reducedDescriptors = {};\n\n  forEach(descriptors, (descriptor, name) => {\n    let ret;\n    if ((ret = reducer(descriptor, name, obj)) !== false) {\n      reducedDescriptors[name] = ret || descriptor;\n    }\n  });\n\n  Object.defineProperties(obj, reducedDescriptors);\n}\n\n/**\n * Makes all methods read-only\n * @param {Object} obj\n */\n\nconst freezeMethods = (obj) => {\n  reduceDescriptors(obj, (descriptor, name) => {\n    // skip restricted props in strict mode\n    if (isFunction(obj) && ['arguments', 'caller', 'callee'].indexOf(name) !== -1) {\n      return false;\n    }\n\n    const value = obj[name];\n\n    if (!isFunction(value)) return;\n\n    descriptor.enumerable = false;\n\n    if ('writable' in descriptor) {\n      descriptor.writable = false;\n      return;\n    }\n\n    if (!descriptor.set) {\n      descriptor.set = () => {\n        throw Error('Can not rewrite read-only method \\'' + name + '\\'');\n      };\n    }\n  });\n}\n\nconst toObjectSet = (arrayOrString, delimiter) => {\n  const obj = {};\n\n  const define = (arr) => {\n    arr.forEach(value => {\n      obj[value] = true;\n    });\n  }\n\n  isArray(arrayOrString) ? define(arrayOrString) : define(String(arrayOrString).split(delimiter));\n\n  return obj;\n}\n\nconst noop = () => {}\n\nconst toFiniteNumber = (value, defaultValue) => {\n  return value != null && Number.isFinite(value = +value) ? value : defaultValue;\n}\n\n/**\n * If the thing is a FormData object, return true, otherwise return false.\n *\n * @param {unknown} thing - The thing to check.\n *\n * @returns {boolean}\n */\nfunction isSpecCompliantForm(thing) {\n  return !!(thing && isFunction(thing.append) && thing[Symbol.toStringTag] === 'FormData' && thing[Symbol.iterator]);\n}\n\nconst toJSONObject = (obj) => {\n  const stack = new Array(10);\n\n  const visit = (source, i) => {\n\n    if (isObject(source)) {\n      if (stack.indexOf(source) >= 0) {\n        return;\n      }\n\n      if(!('toJSON' in source)) {\n        stack[i] = source;\n        const target = isArray(source) ? [] : {};\n\n        forEach(source, (value, key) => {\n          const reducedValue = visit(value, i + 1);\n          !isUndefined(reducedValue) && (target[key] = reducedValue);\n        });\n\n        stack[i] = undefined;\n\n        return target;\n      }\n    }\n\n    return source;\n  }\n\n  return visit(obj, 0);\n}\n\nconst isAsyncFn = kindOfTest('AsyncFunction');\n\nconst isThenable = (thing) =>\n  thing && (isObject(thing) || isFunction(thing)) && isFunction(thing.then) && isFunction(thing.catch);\n\n// original code\n// https://github.com/DigitalBrainJS/AxiosPromise/blob/16deab13710ec09779922131f3fa5954320f83ab/lib/utils.js#L11-L34\n\nconst _setImmediate = ((setImmediateSupported, postMessageSupported) => {\n  if (setImmediateSupported) {\n    return setImmediate;\n  }\n\n  return postMessageSupported ? ((token, callbacks) => {\n    _global.addEventListener(\"message\", ({source, data}) => {\n      if (source === _global && data === token) {\n        callbacks.length && callbacks.shift()();\n      }\n    }, false);\n\n    return (cb) => {\n      callbacks.push(cb);\n      _global.postMessage(token, \"*\");\n    }\n  })(`axios@${Math.random()}`, []) : (cb) => setTimeout(cb);\n})(\n  typeof setImmediate === 'function',\n  isFunction(_global.postMessage)\n);\n\nconst asap = typeof queueMicrotask !== 'undefined' ?\n  queueMicrotask.bind(_global) : ( typeof process !== 'undefined' && process.nextTick || _setImmediate);\n\n// *********************\n\nexport default {\n  isArray,\n  isArrayBuffer,\n  isBuffer,\n  isFormData,\n  isArrayBufferView,\n  isString,\n  isNumber,\n  isBoolean,\n  isObject,\n  isPlainObject,\n  isReadableStream,\n  isRequest,\n  isResponse,\n  isHeaders,\n  isUndefined,\n  isDate,\n  isFile,\n  isBlob,\n  isRegExp,\n  isFunction,\n  isStream,\n  isURLSearchParams,\n  isTypedArray,\n  isFileList,\n  forEach,\n  merge,\n  extend,\n  trim,\n  stripBOM,\n  inherits,\n  toFlatObject,\n  kindOf,\n  kindOfTest,\n  endsWith,\n  toArray,\n  forEachEntry,\n  matchAll,\n  isHTMLForm,\n  hasOwnProperty,\n  hasOwnProp: hasOwnProperty, // an alias to avoid ESLint no-prototype-builtins detection\n  reduceDescriptors,\n  freezeMethods,\n  toObjectSet,\n  toCamelCase,\n  noop,\n  toFiniteNumber,\n  findKey,\n  global: _global,\n  isContextDefined,\n  isSpecCompliantForm,\n  toJSONObject,\n  isAsyncFn,\n  isThenable,\n  setImmediate: _setImmediate,\n  asap\n};\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * Create an Error with the specified message, config, error code, request and response.\n *\n * @param {string} message The error message.\n * @param {string} [code] The error code (for example, 'ECONNABORTED').\n * @param {Object} [config] The config.\n * @param {Object} [request] The request.\n * @param {Object} [response] The response.\n *\n * @returns {Error} The created error.\n */\nfunction AxiosError(message, code, config, request, response) {\n  Error.call(this);\n\n  if (Error.captureStackTrace) {\n    Error.captureStackTrace(this, this.constructor);\n  } else {\n    this.stack = (new Error()).stack;\n  }\n\n  this.message = message;\n  this.name = 'AxiosError';\n  code && (this.code = code);\n  config && (this.config = config);\n  request && (this.request = request);\n  if (response) {\n    this.response = response;\n    this.status = response.status ? response.status : null;\n  }\n}\n\nutils.inherits(AxiosError, Error, {\n  toJSON: function toJSON() {\n    return {\n      // Standard\n      message: this.message,\n      name: this.name,\n      // Microsoft\n      description: this.description,\n      number: this.number,\n      // Mozilla\n      fileName: this.fileName,\n      lineNumber: this.lineNumber,\n      columnNumber: this.columnNumber,\n      stack: this.stack,\n      // Axios\n      config: utils.toJSONObject(this.config),\n      code: this.code,\n      status: this.status\n    };\n  }\n});\n\nconst prototype = AxiosError.prototype;\nconst descriptors = {};\n\n[\n  'ERR_BAD_OPTION_VALUE',\n  'ERR_BAD_OPTION',\n  'ECONNABORTED',\n  'ETIMEDOUT',\n  'ERR_NETWORK',\n  'ERR_FR_TOO_MANY_REDIRECTS',\n  'ERR_DEPRECATED',\n  'ERR_BAD_RESPONSE',\n  'ERR_BAD_REQUEST',\n  'ERR_CANCELED',\n  'ERR_NOT_SUPPORT',\n  'ERR_INVALID_URL'\n// eslint-disable-next-line func-names\n].forEach(code => {\n  descriptors[code] = {value: code};\n});\n\nObject.defineProperties(AxiosError, descriptors);\nObject.defineProperty(prototype, 'isAxiosError', {value: true});\n\n// eslint-disable-next-line func-names\nAxiosError.from = (error, code, config, request, response, customProps) => {\n  const axiosError = Object.create(prototype);\n\n  utils.toFlatObject(error, axiosError, function filter(obj) {\n    return obj !== Error.prototype;\n  }, prop => {\n    return prop !== 'isAxiosError';\n  });\n\n  AxiosError.call(axiosError, error.message, code, config, request, response);\n\n  axiosError.cause = error;\n\n  axiosError.name = error.name;\n\n  customProps && Object.assign(axiosError, customProps);\n\n  return axiosError;\n};\n\nexport default AxiosError;\n","// eslint-disable-next-line strict\nexport default null;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\n// temporary hotfix to avoid circular references until AxiosURLSearchParams is refactored\nimport PlatformFormData from '../platform/node/classes/FormData.js';\n\n/**\n * Determines if the given thing is a array or js object.\n *\n * @param {string} thing - The object or array to be visited.\n *\n * @returns {boolean}\n */\nfunction isVisitable(thing) {\n  return utils.isPlainObject(thing) || utils.isArray(thing);\n}\n\n/**\n * It removes the brackets from the end of a string\n *\n * @param {string} key - The key of the parameter.\n *\n * @returns {string} the key without the brackets.\n */\nfunction removeBrackets(key) {\n  return utils.endsWith(key, '[]') ? key.slice(0, -2) : key;\n}\n\n/**\n * It takes a path, a key, and a boolean, and returns a string\n *\n * @param {string} path - The path to the current key.\n * @param {string} key - The key of the current object being iterated over.\n * @param {string} dots - If true, the key will be rendered with dots instead of brackets.\n *\n * @returns {string} The path to the current key.\n */\nfunction renderKey(path, key, dots) {\n  if (!path) return key;\n  return path.concat(key).map(function each(token, i) {\n    // eslint-disable-next-line no-param-reassign\n    token = removeBrackets(token);\n    return !dots && i ? '[' + token + ']' : token;\n  }).join(dots ? '.' : '');\n}\n\n/**\n * If the array is an array and none of its elements are visitable, then it's a flat array.\n *\n * @param {Array<any>} arr - The array to check\n *\n * @returns {boolean}\n */\nfunction isFlatArray(arr) {\n  return utils.isArray(arr) && !arr.some(isVisitable);\n}\n\nconst predicates = utils.toFlatObject(utils, {}, null, function filter(prop) {\n  return /^is[A-Z]/.test(prop);\n});\n\n/**\n * Convert a data object to FormData\n *\n * @param {Object} obj\n * @param {?Object} [formData]\n * @param {?Object} [options]\n * @param {Function} [options.visitor]\n * @param {Boolean} [options.metaTokens = true]\n * @param {Boolean} [options.dots = false]\n * @param {?Boolean} [options.indexes = false]\n *\n * @returns {Object}\n **/\n\n/**\n * It converts an object into a FormData object\n *\n * @param {Object<any, any>} obj - The object to convert to form data.\n * @param {string} formData - The FormData object to append to.\n * @param {Object<string, any>} options\n *\n * @returns\n */\nfunction toFormData(obj, formData, options) {\n  if (!utils.isObject(obj)) {\n    throw new TypeError('target must be an object');\n  }\n\n  // eslint-disable-next-line no-param-reassign\n  formData = formData || new (PlatformFormData || FormData)();\n\n  // eslint-disable-next-line no-param-reassign\n  options = utils.toFlatObject(options, {\n    metaTokens: true,\n    dots: false,\n    indexes: false\n  }, false, function defined(option, source) {\n    // eslint-disable-next-line no-eq-null,eqeqeq\n    return !utils.isUndefined(source[option]);\n  });\n\n  const metaTokens = options.metaTokens;\n  // eslint-disable-next-line no-use-before-define\n  const visitor = options.visitor || defaultVisitor;\n  const dots = options.dots;\n  const indexes = options.indexes;\n  const _Blob = options.Blob || typeof Blob !== 'undefined' && Blob;\n  const useBlob = _Blob && utils.isSpecCompliantForm(formData);\n\n  if (!utils.isFunction(visitor)) {\n    throw new TypeError('visitor must be a function');\n  }\n\n  function convertValue(value) {\n    if (value === null) return '';\n\n    if (utils.isDate(value)) {\n      return value.toISOString();\n    }\n\n    if (!useBlob && utils.isBlob(value)) {\n      throw new AxiosError('Blob is not supported. Use a Buffer instead.');\n    }\n\n    if (utils.isArrayBuffer(value) || utils.isTypedArray(value)) {\n      return useBlob && typeof Blob === 'function' ? new Blob([value]) : Buffer.from(value);\n    }\n\n    return value;\n  }\n\n  /**\n   * Default visitor.\n   *\n   * @param {*} value\n   * @param {String|Number} key\n   * @param {Array<String|Number>} path\n   * @this {FormData}\n   *\n   * @returns {boolean} return true to visit the each prop of the value recursively\n   */\n  function defaultVisitor(value, key, path) {\n    let arr = value;\n\n    if (value && !path && typeof value === 'object') {\n      if (utils.endsWith(key, '{}')) {\n        // eslint-disable-next-line no-param-reassign\n        key = metaTokens ? key : key.slice(0, -2);\n        // eslint-disable-next-line no-param-reassign\n        value = JSON.stringify(value);\n      } else if (\n        (utils.isArray(value) && isFlatArray(value)) ||\n        ((utils.isFileList(value) || utils.endsWith(key, '[]')) && (arr = utils.toArray(value))\n        )) {\n        // eslint-disable-next-line no-param-reassign\n        key = removeBrackets(key);\n\n        arr.forEach(function each(el, index) {\n          !(utils.isUndefined(el) || el === null) && formData.append(\n            // eslint-disable-next-line no-nested-ternary\n            indexes === true ? renderKey([key], index, dots) : (indexes === null ? key : key + '[]'),\n            convertValue(el)\n          );\n        });\n        return false;\n      }\n    }\n\n    if (isVisitable(value)) {\n      return true;\n    }\n\n    formData.append(renderKey(path, key, dots), convertValue(value));\n\n    return false;\n  }\n\n  const stack = [];\n\n  const exposedHelpers = Object.assign(predicates, {\n    defaultVisitor,\n    convertValue,\n    isVisitable\n  });\n\n  function build(value, path) {\n    if (utils.isUndefined(value)) return;\n\n    if (stack.indexOf(value) !== -1) {\n      throw Error('Circular reference detected in ' + path.join('.'));\n    }\n\n    stack.push(value);\n\n    utils.forEach(value, function each(el, key) {\n      const result = !(utils.isUndefined(el) || el === null) && visitor.call(\n        formData, el, utils.isString(key) ? key.trim() : key, path, exposedHelpers\n      );\n\n      if (result === true) {\n        build(el, path ? path.concat(key) : [key]);\n      }\n    });\n\n    stack.pop();\n  }\n\n  if (!utils.isObject(obj)) {\n    throw new TypeError('data must be an object');\n  }\n\n  build(obj);\n\n  return formData;\n}\n\nexport default toFormData;\n","'use strict';\n\nimport toFormData from './toFormData.js';\n\n/**\n * It encodes a string by replacing all characters that are not in the unreserved set with\n * their percent-encoded equivalents\n *\n * @param {string} str - The string to encode.\n *\n * @returns {string} The encoded string.\n */\nfunction encode(str) {\n  const charMap = {\n    '!': '%21',\n    \"'\": '%27',\n    '(': '%28',\n    ')': '%29',\n    '~': '%7E',\n    '%20': '+',\n    '%00': '\\x00'\n  };\n  return encodeURIComponent(str).replace(/[!'()~]|%20|%00/g, function replacer(match) {\n    return charMap[match];\n  });\n}\n\n/**\n * It takes a params object and converts it to a FormData object\n *\n * @param {Object<string, any>} params - The parameters to be converted to a FormData object.\n * @param {Object<string, any>} options - The options object passed to the Axios constructor.\n *\n * @returns {void}\n */\nfunction AxiosURLSearchParams(params, options) {\n  this._pairs = [];\n\n  params && toFormData(params, this, options);\n}\n\nconst prototype = AxiosURLSearchParams.prototype;\n\nprototype.append = function append(name, value) {\n  this._pairs.push([name, value]);\n};\n\nprototype.toString = function toString(encoder) {\n  const _encode = encoder ? function(value) {\n    return encoder.call(this, value, encode);\n  } : encode;\n\n  return this._pairs.map(function each(pair) {\n    return _encode(pair[0]) + '=' + _encode(pair[1]);\n  }, '').join('&');\n};\n\nexport default AxiosURLSearchParams;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosURLSearchParams from '../helpers/AxiosURLSearchParams.js';\n\n/**\n * It replaces all instances of the characters `:`, `$`, `,`, `+`, `[`, and `]` with their\n * URI encoded counterparts\n *\n * @param {string} val The value to be encoded.\n *\n * @returns {string} The encoded value.\n */\nfunction encode(val) {\n  return encodeURIComponent(val).\n    replace(/%3A/gi, ':').\n    replace(/%24/g, '$').\n    replace(/%2C/gi, ',').\n    replace(/%20/g, '+').\n    replace(/%5B/gi, '[').\n    replace(/%5D/gi, ']');\n}\n\n/**\n * Build a URL by appending params to the end\n *\n * @param {string} url The base of the url (e.g., http://www.google.com)\n * @param {object} [params] The params to be appended\n * @param {?(object|Function)} options\n *\n * @returns {string} The formatted url\n */\nexport default function buildURL(url, params, options) {\n  /*eslint no-param-reassign:0*/\n  if (!params) {\n    return url;\n  }\n  \n  const _encode = options && options.encode || encode;\n\n  if (utils.isFunction(options)) {\n    options = {\n      serialize: options\n    };\n  } \n\n  const serializeFn = options && options.serialize;\n\n  let serializedParams;\n\n  if (serializeFn) {\n    serializedParams = serializeFn(params, options);\n  } else {\n    serializedParams = utils.isURLSearchParams(params) ?\n      params.toString() :\n      new AxiosURLSearchParams(params, options).toString(_encode);\n  }\n\n  if (serializedParams) {\n    const hashmarkIndex = url.indexOf(\"#\");\n\n    if (hashmarkIndex !== -1) {\n      url = url.slice(0, hashmarkIndex);\n    }\n    url += (url.indexOf('?') === -1 ? '?' : '&') + serializedParams;\n  }\n\n  return url;\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\nclass InterceptorManager {\n  constructor() {\n    this.handlers = [];\n  }\n\n  /**\n   * Add a new interceptor to the stack\n   *\n   * @param {Function} fulfilled The function to handle `then` for a `Promise`\n   * @param {Function} rejected The function to handle `reject` for a `Promise`\n   *\n   * @return {Number} An ID used to remove interceptor later\n   */\n  use(fulfilled, rejected, options) {\n    this.handlers.push({\n      fulfilled,\n      rejected,\n      synchronous: options ? options.synchronous : false,\n      runWhen: options ? options.runWhen : null\n    });\n    return this.handlers.length - 1;\n  }\n\n  /**\n   * Remove an interceptor from the stack\n   *\n   * @param {Number} id The ID that was returned by `use`\n   *\n   * @returns {Boolean} `true` if the interceptor was removed, `false` otherwise\n   */\n  eject(id) {\n    if (this.handlers[id]) {\n      this.handlers[id] = null;\n    }\n  }\n\n  /**\n   * Clear all interceptors from the stack\n   *\n   * @returns {void}\n   */\n  clear() {\n    if (this.handlers) {\n      this.handlers = [];\n    }\n  }\n\n  /**\n   * Iterate over all the registered interceptors\n   *\n   * This method is particularly useful for skipping over any\n   * interceptors that may have become `null` calling `eject`.\n   *\n   * @param {Function} fn The function to call for each interceptor\n   *\n   * @returns {void}\n   */\n  forEach(fn) {\n    utils.forEach(this.handlers, function forEachHandler(h) {\n      if (h !== null) {\n        fn(h);\n      }\n    });\n  }\n}\n\nexport default InterceptorManager;\n","'use strict';\n\nexport default {\n  silentJSONParsing: true,\n  forcedJSONParsing: true,\n  clarifyTimeoutError: false\n};\n","'use strict';\n\nimport AxiosURLSearchParams from '../../../helpers/AxiosURLSearchParams.js';\nexport default typeof URLSearchParams !== 'undefined' ? URLSearchParams : AxiosURLSearchParams;\n","'use strict';\n\nexport default typeof FormData !== 'undefined' ? FormData : null;\n","'use strict'\n\nexport default typeof Blob !== 'undefined' ? Blob : null\n","import URLSearchParams from './classes/URLSearchParams.js'\nimport FormData from './classes/FormData.js'\nimport Blob from './classes/Blob.js'\n\nexport default {\n  isBrowser: true,\n  classes: {\n    URLSearchParams,\n    FormData,\n    Blob\n  },\n  protocols: ['http', 'https', 'file', 'blob', 'url', 'data']\n};\n","const hasBrowserEnv = typeof window !== 'undefined' && typeof document !== 'undefined';\n\nconst _navigator = typeof navigator === 'object' && navigator || undefined;\n\n/**\n * Determine if we're running in a standard browser environment\n *\n * This allows axios to run in a web worker, and react-native.\n * Both environments support XMLHttpRequest, but not fully standard globals.\n *\n * web workers:\n *  typeof window -> undefined\n *  typeof document -> undefined\n *\n * react-native:\n *  navigator.product -> 'ReactNative'\n * nativescript\n *  navigator.product -> 'NativeScript' or 'NS'\n *\n * @returns {boolean}\n */\nconst hasStandardBrowserEnv = hasBrowserEnv &&\n  (!_navigator || ['ReactNative', 'NativeScript', 'NS'].indexOf(_navigator.product) < 0);\n\n/**\n * Determine if we're running in a standard browser webWorker environment\n *\n * Although the `isStandardBrowserEnv` method indicates that\n * `allows axios to run in a web worker`, the WebWorker will still be\n * filtered out due to its judgment standard\n * `typeof window !== 'undefined' && typeof document !== 'undefined'`.\n * This leads to a problem when axios post `FormData` in webWorker\n */\nconst hasStandardBrowserWebWorkerEnv = (() => {\n  return (\n    typeof WorkerGlobalScope !== 'undefined' &&\n    // eslint-disable-next-line no-undef\n    self instanceof WorkerGlobalScope &&\n    typeof self.importScripts === 'function'\n  );\n})();\n\nconst origin = hasBrowserEnv && window.location.href || 'http://localhost';\n\nexport {\n  hasBrowserEnv,\n  hasStandardBrowserWebWorkerEnv,\n  hasStandardBrowserEnv,\n  _navigator as navigator,\n  origin\n}\n","import platform from './node/index.js';\nimport * as utils from './common/utils.js';\n\nexport default {\n  ...utils,\n  ...platform\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport toFormData from './toFormData.js';\nimport platform from '../platform/index.js';\n\nexport default function toURLEncodedForm(data, options) {\n  return toFormData(data, new platform.classes.URLSearchParams(), Object.assign({\n    visitor: function(value, key, path, helpers) {\n      if (platform.isNode && utils.isBuffer(value)) {\n        this.append(key, value.toString('base64'));\n        return false;\n      }\n\n      return helpers.defaultVisitor.apply(this, arguments);\n    }\n  }, options));\n}\n","'use strict';\n\nimport utils from '../utils.js';\n\n/**\n * It takes a string like `foo[x][y][z]` and returns an array like `['foo', 'x', 'y', 'z']\n *\n * @param {string} name - The name of the property to get.\n *\n * @returns An array of strings.\n */\nfunction parsePropPath(name) {\n  // foo[x][y][z]\n  // foo.x.y.z\n  // foo-x-y-z\n  // foo x y z\n  return utils.matchAll(/\\w+|\\[(\\w*)]/g, name).map(match => {\n    return match[0] === '[]' ? '' : match[1] || match[0];\n  });\n}\n\n/**\n * Convert an array to an object.\n *\n * @param {Array<any>} arr - The array to convert to an object.\n *\n * @returns An object with the same keys and values as the array.\n */\nfunction arrayToObject(arr) {\n  const obj = {};\n  const keys = Object.keys(arr);\n  let i;\n  const len = keys.length;\n  let key;\n  for (i = 0; i < len; i++) {\n    key = keys[i];\n    obj[key] = arr[key];\n  }\n  return obj;\n}\n\n/**\n * It takes a FormData object and returns a JavaScript object\n *\n * @param {string} formData The FormData object to convert to JSON.\n *\n * @returns {Object<string, any> | null} The converted object.\n */\nfunction formDataToJSON(formData) {\n  function buildPath(path, value, target, index) {\n    let name = path[index++];\n\n    if (name === '__proto__') return true;\n\n    const isNumericKey = Number.isFinite(+name);\n    const isLast = index >= path.length;\n    name = !name && utils.isArray(target) ? target.length : name;\n\n    if (isLast) {\n      if (utils.hasOwnProp(target, name)) {\n        target[name] = [target[name], value];\n      } else {\n        target[name] = value;\n      }\n\n      return !isNumericKey;\n    }\n\n    if (!target[name] || !utils.isObject(target[name])) {\n      target[name] = [];\n    }\n\n    const result = buildPath(path, value, target[name], index);\n\n    if (result && utils.isArray(target[name])) {\n      target[name] = arrayToObject(target[name]);\n    }\n\n    return !isNumericKey;\n  }\n\n  if (utils.isFormData(formData) && utils.isFunction(formData.entries)) {\n    const obj = {};\n\n    utils.forEachEntry(formData, (name, value) => {\n      buildPath(parsePropPath(name), value, obj, 0);\n    });\n\n    return obj;\n  }\n\n  return null;\n}\n\nexport default formDataToJSON;\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosError from '../core/AxiosError.js';\nimport transitionalDefaults from './transitional.js';\nimport toFormData from '../helpers/toFormData.js';\nimport toURLEncodedForm from '../helpers/toURLEncodedForm.js';\nimport platform from '../platform/index.js';\nimport formDataToJSON from '../helpers/formDataToJSON.js';\n\n/**\n * It takes a string, tries to parse it, and if it fails, it returns the stringified version\n * of the input\n *\n * @param {any} rawValue - The value to be stringified.\n * @param {Function} parser - A function that parses a string into a JavaScript object.\n * @param {Function} encoder - A function that takes a value and returns a string.\n *\n * @returns {string} A stringified version of the rawValue.\n */\nfunction stringifySafely(rawValue, parser, encoder) {\n  if (utils.isString(rawValue)) {\n    try {\n      (parser || JSON.parse)(rawValue);\n      return utils.trim(rawValue);\n    } catch (e) {\n      if (e.name !== 'SyntaxError') {\n        throw e;\n      }\n    }\n  }\n\n  return (encoder || JSON.stringify)(rawValue);\n}\n\nconst defaults = {\n\n  transitional: transitionalDefaults,\n\n  adapter: ['xhr', 'http', 'fetch'],\n\n  transformRequest: [function transformRequest(data, headers) {\n    const contentType = headers.getContentType() || '';\n    const hasJSONContentType = contentType.indexOf('application/json') > -1;\n    const isObjectPayload = utils.isObject(data);\n\n    if (isObjectPayload && utils.isHTMLForm(data)) {\n      data = new FormData(data);\n    }\n\n    const isFormData = utils.isFormData(data);\n\n    if (isFormData) {\n      return hasJSONContentType ? JSON.stringify(formDataToJSON(data)) : data;\n    }\n\n    if (utils.isArrayBuffer(data) ||\n      utils.isBuffer(data) ||\n      utils.isStream(data) ||\n      utils.isFile(data) ||\n      utils.isBlob(data) ||\n      utils.isReadableStream(data)\n    ) {\n      return data;\n    }\n    if (utils.isArrayBufferView(data)) {\n      return data.buffer;\n    }\n    if (utils.isURLSearchParams(data)) {\n      headers.setContentType('application/x-www-form-urlencoded;charset=utf-8', false);\n      return data.toString();\n    }\n\n    let isFileList;\n\n    if (isObjectPayload) {\n      if (contentType.indexOf('application/x-www-form-urlencoded') > -1) {\n        return toURLEncodedForm(data, this.formSerializer).toString();\n      }\n\n      if ((isFileList = utils.isFileList(data)) || contentType.indexOf('multipart/form-data') > -1) {\n        const _FormData = this.env && this.env.FormData;\n\n        return toFormData(\n          isFileList ? {'files[]': data} : data,\n          _FormData && new _FormData(),\n          this.formSerializer\n        );\n      }\n    }\n\n    if (isObjectPayload || hasJSONContentType ) {\n      headers.setContentType('application/json', false);\n      return stringifySafely(data);\n    }\n\n    return data;\n  }],\n\n  transformResponse: [function transformResponse(data) {\n    const transitional = this.transitional || defaults.transitional;\n    const forcedJSONParsing = transitional && transitional.forcedJSONParsing;\n    const JSONRequested = this.responseType === 'json';\n\n    if (utils.isResponse(data) || utils.isReadableStream(data)) {\n      return data;\n    }\n\n    if (data && utils.isString(data) && ((forcedJSONParsing && !this.responseType) || JSONRequested)) {\n      const silentJSONParsing = transitional && transitional.silentJSONParsing;\n      const strictJSONParsing = !silentJSONParsing && JSONRequested;\n\n      try {\n        return JSON.parse(data);\n      } catch (e) {\n        if (strictJSONParsing) {\n          if (e.name === 'SyntaxError') {\n            throw AxiosError.from(e, AxiosError.ERR_BAD_RESPONSE, this, null, this.response);\n          }\n          throw e;\n        }\n      }\n    }\n\n    return data;\n  }],\n\n  /**\n   * A timeout in milliseconds to abort a request. If set to 0 (default) a\n   * timeout is not created.\n   */\n  timeout: 0,\n\n  xsrfCookieName: 'XSRF-TOKEN',\n  xsrfHeaderName: 'X-XSRF-TOKEN',\n\n  maxContentLength: -1,\n  maxBodyLength: -1,\n\n  env: {\n    FormData: platform.classes.FormData,\n    Blob: platform.classes.Blob\n  },\n\n  validateStatus: function validateStatus(status) {\n    return status >= 200 && status < 300;\n  },\n\n  headers: {\n    common: {\n      'Accept': 'application/json, text/plain, */*',\n      'Content-Type': undefined\n    }\n  }\n};\n\nutils.forEach(['delete', 'get', 'head', 'post', 'put', 'patch'], (method) => {\n  defaults.headers[method] = {};\n});\n\nexport default defaults;\n","'use strict';\n\nimport utils from './../utils.js';\n\n// RawAxiosHeaders whose duplicates are ignored by node\n// c.f. https://nodejs.org/api/http.html#http_message_headers\nconst ignoreDuplicateOf = utils.toObjectSet([\n  'age', 'authorization', 'content-length', 'content-type', 'etag',\n  'expires', 'from', 'host', 'if-modified-since', 'if-unmodified-since',\n  'last-modified', 'location', 'max-forwards', 'proxy-authorization',\n  'referer', 'retry-after', 'user-agent'\n]);\n\n/**\n * Parse headers into an object\n *\n * ```\n * Date: Wed, 27 Aug 2014 08:58:49 GMT\n * Content-Type: application/json\n * Connection: keep-alive\n * Transfer-Encoding: chunked\n * ```\n *\n * @param {String} rawHeaders Headers needing to be parsed\n *\n * @returns {Object} Headers parsed into an object\n */\nexport default rawHeaders => {\n  const parsed = {};\n  let key;\n  let val;\n  let i;\n\n  rawHeaders && rawHeaders.split('\\n').forEach(function parser(line) {\n    i = line.indexOf(':');\n    key = line.substring(0, i).trim().toLowerCase();\n    val = line.substring(i + 1).trim();\n\n    if (!key || (parsed[key] && ignoreDuplicateOf[key])) {\n      return;\n    }\n\n    if (key === 'set-cookie') {\n      if (parsed[key]) {\n        parsed[key].push(val);\n      } else {\n        parsed[key] = [val];\n      }\n    } else {\n      parsed[key] = parsed[key] ? parsed[key] + ', ' + val : val;\n    }\n  });\n\n  return parsed;\n};\n","'use strict';\n\nimport utils from '../utils.js';\nimport parseHeaders from '../helpers/parseHeaders.js';\n\nconst $internals = Symbol('internals');\n\nfunction normalizeHeader(header) {\n  return header && String(header).trim().toLowerCase();\n}\n\nfunction normalizeValue(value) {\n  if (value === false || value == null) {\n    return value;\n  }\n\n  return utils.isArray(value) ? value.map(normalizeValue) : String(value);\n}\n\nfunction parseTokens(str) {\n  const tokens = Object.create(null);\n  const tokensRE = /([^\\s,;=]+)\\s*(?:=\\s*([^,;]+))?/g;\n  let match;\n\n  while ((match = tokensRE.exec(str))) {\n    tokens[match[1]] = match[2];\n  }\n\n  return tokens;\n}\n\nconst isValidHeaderName = (str) => /^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(str.trim());\n\nfunction matchHeaderValue(context, value, header, filter, isHeaderNameFilter) {\n  if (utils.isFunction(filter)) {\n    return filter.call(this, value, header);\n  }\n\n  if (isHeaderNameFilter) {\n    value = header;\n  }\n\n  if (!utils.isString(value)) return;\n\n  if (utils.isString(filter)) {\n    return value.indexOf(filter) !== -1;\n  }\n\n  if (utils.isRegExp(filter)) {\n    return filter.test(value);\n  }\n}\n\nfunction formatHeader(header) {\n  return header.trim()\n    .toLowerCase().replace(/([a-z\\d])(\\w*)/g, (w, char, str) => {\n      return char.toUpperCase() + str;\n    });\n}\n\nfunction buildAccessors(obj, header) {\n  const accessorName = utils.toCamelCase(' ' + header);\n\n  ['get', 'set', 'has'].forEach(methodName => {\n    Object.defineProperty(obj, methodName + accessorName, {\n      value: function(arg1, arg2, arg3) {\n        return this[methodName].call(this, header, arg1, arg2, arg3);\n      },\n      configurable: true\n    });\n  });\n}\n\nclass AxiosHeaders {\n  constructor(headers) {\n    headers && this.set(headers);\n  }\n\n  set(header, valueOrRewrite, rewrite) {\n    const self = this;\n\n    function setHeader(_value, _header, _rewrite) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!lHeader) {\n        throw new Error('header name must be a non-empty string');\n      }\n\n      const key = utils.findKey(self, lHeader);\n\n      if(!key || self[key] === undefined || _rewrite === true || (_rewrite === undefined && self[key] !== false)) {\n        self[key || _header] = normalizeValue(_value);\n      }\n    }\n\n    const setHeaders = (headers, _rewrite) =>\n      utils.forEach(headers, (_value, _header) => setHeader(_value, _header, _rewrite));\n\n    if (utils.isPlainObject(header) || header instanceof this.constructor) {\n      setHeaders(header, valueOrRewrite)\n    } else if(utils.isString(header) && (header = header.trim()) && !isValidHeaderName(header)) {\n      setHeaders(parseHeaders(header), valueOrRewrite);\n    } else if (utils.isHeaders(header)) {\n      for (const [key, value] of header.entries()) {\n        setHeader(value, key, rewrite);\n      }\n    } else {\n      header != null && setHeader(valueOrRewrite, header, rewrite);\n    }\n\n    return this;\n  }\n\n  get(header, parser) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      if (key) {\n        const value = this[key];\n\n        if (!parser) {\n          return value;\n        }\n\n        if (parser === true) {\n          return parseTokens(value);\n        }\n\n        if (utils.isFunction(parser)) {\n          return parser.call(this, value, key);\n        }\n\n        if (utils.isRegExp(parser)) {\n          return parser.exec(value);\n        }\n\n        throw new TypeError('parser must be boolean|regexp|function');\n      }\n    }\n  }\n\n  has(header, matcher) {\n    header = normalizeHeader(header);\n\n    if (header) {\n      const key = utils.findKey(this, header);\n\n      return !!(key && this[key] !== undefined && (!matcher || matchHeaderValue(this, this[key], key, matcher)));\n    }\n\n    return false;\n  }\n\n  delete(header, matcher) {\n    const self = this;\n    let deleted = false;\n\n    function deleteHeader(_header) {\n      _header = normalizeHeader(_header);\n\n      if (_header) {\n        const key = utils.findKey(self, _header);\n\n        if (key && (!matcher || matchHeaderValue(self, self[key], key, matcher))) {\n          delete self[key];\n\n          deleted = true;\n        }\n      }\n    }\n\n    if (utils.isArray(header)) {\n      header.forEach(deleteHeader);\n    } else {\n      deleteHeader(header);\n    }\n\n    return deleted;\n  }\n\n  clear(matcher) {\n    const keys = Object.keys(this);\n    let i = keys.length;\n    let deleted = false;\n\n    while (i--) {\n      const key = keys[i];\n      if(!matcher || matchHeaderValue(this, this[key], key, matcher, true)) {\n        delete this[key];\n        deleted = true;\n      }\n    }\n\n    return deleted;\n  }\n\n  normalize(format) {\n    const self = this;\n    const headers = {};\n\n    utils.forEach(this, (value, header) => {\n      const key = utils.findKey(headers, header);\n\n      if (key) {\n        self[key] = normalizeValue(value);\n        delete self[header];\n        return;\n      }\n\n      const normalized = format ? formatHeader(header) : String(header).trim();\n\n      if (normalized !== header) {\n        delete self[header];\n      }\n\n      self[normalized] = normalizeValue(value);\n\n      headers[normalized] = true;\n    });\n\n    return this;\n  }\n\n  concat(...targets) {\n    return this.constructor.concat(this, ...targets);\n  }\n\n  toJSON(asStrings) {\n    const obj = Object.create(null);\n\n    utils.forEach(this, (value, header) => {\n      value != null && value !== false && (obj[header] = asStrings && utils.isArray(value) ? value.join(', ') : value);\n    });\n\n    return obj;\n  }\n\n  [Symbol.iterator]() {\n    return Object.entries(this.toJSON())[Symbol.iterator]();\n  }\n\n  toString() {\n    return Object.entries(this.toJSON()).map(([header, value]) => header + ': ' + value).join('\\n');\n  }\n\n  get [Symbol.toStringTag]() {\n    return 'AxiosHeaders';\n  }\n\n  static from(thing) {\n    return thing instanceof this ? thing : new this(thing);\n  }\n\n  static concat(first, ...targets) {\n    const computed = new this(first);\n\n    targets.forEach((target) => computed.set(target));\n\n    return computed;\n  }\n\n  static accessor(header) {\n    const internals = this[$internals] = (this[$internals] = {\n      accessors: {}\n    });\n\n    const accessors = internals.accessors;\n    const prototype = this.prototype;\n\n    function defineAccessor(_header) {\n      const lHeader = normalizeHeader(_header);\n\n      if (!accessors[lHeader]) {\n        buildAccessors(prototype, _header);\n        accessors[lHeader] = true;\n      }\n    }\n\n    utils.isArray(header) ? header.forEach(defineAccessor) : defineAccessor(header);\n\n    return this;\n  }\n}\n\nAxiosHeaders.accessor(['Content-Type', 'Content-Length', 'Accept', 'Accept-Encoding', 'User-Agent', 'Authorization']);\n\n// reserved names hotfix\nutils.reduceDescriptors(AxiosHeaders.prototype, ({value}, key) => {\n  let mapped = key[0].toUpperCase() + key.slice(1); // map `set` => `Set`\n  return {\n    get: () => value,\n    set(headerValue) {\n      this[mapped] = headerValue;\n    }\n  }\n});\n\nutils.freezeMethods(AxiosHeaders);\n\nexport default AxiosHeaders;\n","'use strict';\n\nimport utils from './../utils.js';\nimport defaults from '../defaults/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\n\n/**\n * Transform the data for a request or a response\n *\n * @param {Array|Function} fns A single function or Array of functions\n * @param {?Object} response The response object\n *\n * @returns {*} The resulting transformed data\n */\nexport default function transformData(fns, response) {\n  const config = this || defaults;\n  const context = response || config;\n  const headers = AxiosHeaders.from(context.headers);\n  let data = context.data;\n\n  utils.forEach(fns, function transform(fn) {\n    data = fn.call(config, data, headers.normalize(), response ? response.status : undefined);\n  });\n\n  headers.normalize();\n\n  return data;\n}\n","'use strict';\n\nexport default function isCancel(value) {\n  return !!(value && value.__CANCEL__);\n}\n","'use strict';\n\nimport AxiosError from '../core/AxiosError.js';\nimport utils from '../utils.js';\n\n/**\n * A `CanceledError` is an object that is thrown when an operation is canceled.\n *\n * @param {string=} message The message.\n * @param {Object=} config The config.\n * @param {Object=} request The request.\n *\n * @returns {CanceledError} The created error.\n */\nfunction CanceledError(message, config, request) {\n  // eslint-disable-next-line no-eq-null,eqeqeq\n  AxiosError.call(this, message == null ? 'canceled' : message, AxiosError.ERR_CANCELED, config, request);\n  this.name = 'CanceledError';\n}\n\nutils.inherits(CanceledError, AxiosError, {\n  __CANCEL__: true\n});\n\nexport default CanceledError;\n","'use strict';\n\nimport AxiosError from './AxiosError.js';\n\n/**\n * Resolve or reject a Promise based on response status.\n *\n * @param {Function} resolve A function that resolves the promise.\n * @param {Function} reject A function that rejects the promise.\n * @param {object} response The response.\n *\n * @returns {object} The response.\n */\nexport default function settle(resolve, reject, response) {\n  const validateStatus = response.config.validateStatus;\n  if (!response.status || !validateStatus || validateStatus(response.status)) {\n    resolve(response);\n  } else {\n    reject(new AxiosError(\n      'Request failed with status code ' + response.status,\n      [AxiosError.ERR_BAD_REQUEST, AxiosError.ERR_BAD_RESPONSE][Math.floor(response.status / 100) - 4],\n      response.config,\n      response.request,\n      response\n    ));\n  }\n}\n","'use strict';\n\nexport default function parseProtocol(url) {\n  const match = /^([-+\\w]{1,25})(:?\\/\\/|:)/.exec(url);\n  return match && match[1] || '';\n}\n","'use strict';\n\n/**\n * Calculate data maxRate\n * @param {Number} [samplesCount= 10]\n * @param {Number} [min= 1000]\n * @returns {Function}\n */\nfunction speedometer(samplesCount, min) {\n  samplesCount = samplesCount || 10;\n  const bytes = new Array(samplesCount);\n  const timestamps = new Array(samplesCount);\n  let head = 0;\n  let tail = 0;\n  let firstSampleTS;\n\n  min = min !== undefined ? min : 1000;\n\n  return function push(chunkLength) {\n    const now = Date.now();\n\n    const startedAt = timestamps[tail];\n\n    if (!firstSampleTS) {\n      firstSampleTS = now;\n    }\n\n    bytes[head] = chunkLength;\n    timestamps[head] = now;\n\n    let i = tail;\n    let bytesCount = 0;\n\n    while (i !== head) {\n      bytesCount += bytes[i++];\n      i = i % samplesCount;\n    }\n\n    head = (head + 1) % samplesCount;\n\n    if (head === tail) {\n      tail = (tail + 1) % samplesCount;\n    }\n\n    if (now - firstSampleTS < min) {\n      return;\n    }\n\n    const passed = startedAt && now - startedAt;\n\n    return passed ? Math.round(bytesCount * 1000 / passed) : undefined;\n  };\n}\n\nexport default speedometer;\n","/**\n * Throttle decorator\n * @param {Function} fn\n * @param {Number} freq\n * @return {Function}\n */\nfunction throttle(fn, freq) {\n  let timestamp = 0;\n  let threshold = 1000 / freq;\n  let lastArgs;\n  let timer;\n\n  const invoke = (args, now = Date.now()) => {\n    timestamp = now;\n    lastArgs = null;\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n    fn.apply(null, args);\n  }\n\n  const throttled = (...args) => {\n    const now = Date.now();\n    const passed = now - timestamp;\n    if ( passed >= threshold) {\n      invoke(args, now);\n    } else {\n      lastArgs = args;\n      if (!timer) {\n        timer = setTimeout(() => {\n          timer = null;\n          invoke(lastArgs)\n        }, threshold - passed);\n      }\n    }\n  }\n\n  const flush = () => lastArgs && invoke(lastArgs);\n\n  return [throttled, flush];\n}\n\nexport default throttle;\n","import speedometer from \"./speedometer.js\";\nimport throttle from \"./throttle.js\";\nimport utils from \"../utils.js\";\n\nexport const progressEventReducer = (listener, isDownloadStream, freq = 3) => {\n  let bytesNotified = 0;\n  const _speedometer = speedometer(50, 250);\n\n  return throttle(e => {\n    const loaded = e.loaded;\n    const total = e.lengthComputable ? e.total : undefined;\n    const progressBytes = loaded - bytesNotified;\n    const rate = _speedometer(progressBytes);\n    const inRange = loaded <= total;\n\n    bytesNotified = loaded;\n\n    const data = {\n      loaded,\n      total,\n      progress: total ? (loaded / total) : undefined,\n      bytes: progressBytes,\n      rate: rate ? rate : undefined,\n      estimated: rate && total && inRange ? (total - loaded) / rate : undefined,\n      event: e,\n      lengthComputable: total != null,\n      [isDownloadStream ? 'download' : 'upload']: true\n    };\n\n    listener(data);\n  }, freq);\n}\n\nexport const progressEventDecorator = (total, throttled) => {\n  const lengthComputable = total != null;\n\n  return [(loaded) => throttled[0]({\n    lengthComputable,\n    total,\n    loaded\n  }), throttled[1]];\n}\n\nexport const asyncDecorator = (fn) => (...args) => utils.asap(() => fn(...args));\n","import platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ? ((origin, isMSIE) => (url) => {\n  url = new URL(url, platform.origin);\n\n  return (\n    origin.protocol === url.protocol &&\n    origin.host === url.host &&\n    (isMSIE || origin.port === url.port)\n  );\n})(\n  new URL(platform.origin),\n  platform.navigator && /(msie|trident)/i.test(platform.navigator.userAgent)\n) : () => true;\n","import utils from './../utils.js';\nimport platform from '../platform/index.js';\n\nexport default platform.hasStandardBrowserEnv ?\n\n  // Standard browser envs support document.cookie\n  {\n    write(name, value, expires, path, domain, secure) {\n      const cookie = [name + '=' + encodeURIComponent(value)];\n\n      utils.isNumber(expires) && cookie.push('expires=' + new Date(expires).toGMTString());\n\n      utils.isString(path) && cookie.push('path=' + path);\n\n      utils.isString(domain) && cookie.push('domain=' + domain);\n\n      secure === true && cookie.push('secure');\n\n      document.cookie = cookie.join('; ');\n    },\n\n    read(name) {\n      const match = document.cookie.match(new RegExp('(^|;\\\\s*)(' + name + ')=([^;]*)'));\n      return (match ? decodeURIComponent(match[3]) : null);\n    },\n\n    remove(name) {\n      this.write(name, '', Date.now() - 86400000);\n    }\n  }\n\n  :\n\n  // Non-standard browser env (web workers, react-native) lack needed support.\n  {\n    write() {},\n    read() {\n      return null;\n    },\n    remove() {}\n  };\n\n","'use strict';\n\n/**\n * Determines whether the specified URL is absolute\n *\n * @param {string} url The URL to test\n *\n * @returns {boolean} True if the specified URL is absolute, otherwise false\n */\nexport default function isAbsoluteURL(url) {\n  // A URL is considered absolute if it begins with \"<scheme>://\" or \"//\" (protocol-relative URL).\n  // RFC 3986 defines scheme name as a sequence of characters beginning with a letter and followed\n  // by any combination of letters, digits, plus, period, or hyphen.\n  return /^([a-z][a-z\\d+\\-.]*:)?\\/\\//i.test(url);\n}\n","'use strict';\n\n/**\n * Creates a new URL by combining the specified URLs\n *\n * @param {string} baseURL The base URL\n * @param {string} relativeURL The relative URL\n *\n * @returns {string} The combined URL\n */\nexport default function combineURLs(baseURL, relativeURL) {\n  return relativeURL\n    ? baseURL.replace(/\\/?\\/$/, '') + '/' + relativeURL.replace(/^\\/+/, '')\n    : baseURL;\n}\n","'use strict';\n\nimport isAbsoluteURL from '../helpers/isAbsoluteURL.js';\nimport combineURLs from '../helpers/combineURLs.js';\n\n/**\n * Creates a new URL by combining the baseURL with the requestedURL,\n * only when the requestedURL is not already an absolute URL.\n * If the requestURL is absolute, this function returns the requestedURL untouched.\n *\n * @param {string} baseURL The base URL\n * @param {string} requestedURL Absolute or relative URL to combine\n *\n * @returns {string} The combined full path\n */\nexport default function buildFullPath(baseURL, requestedURL, allowAbsoluteUrls) {\n  let isRelativeUrl = !isAbsoluteURL(requestedURL);\n  if (baseURL && (isRelativeUrl || allowAbsoluteUrls == false)) {\n    return combineURLs(baseURL, requestedURL);\n  }\n  return requestedURL;\n}\n","'use strict';\n\nimport utils from '../utils.js';\nimport AxiosHeaders from \"./AxiosHeaders.js\";\n\nconst headersToObject = (thing) => thing instanceof AxiosHeaders ? { ...thing } : thing;\n\n/**\n * Config-specific merge-function which creates a new config-object\n * by merging two configuration objects together.\n *\n * @param {Object} config1\n * @param {Object} config2\n *\n * @returns {Object} New object resulting from merging config2 to config1\n */\nexport default function mergeConfig(config1, config2) {\n  // eslint-disable-next-line no-param-reassign\n  config2 = config2 || {};\n  const config = {};\n\n  function getMergedValue(target, source, prop, caseless) {\n    if (utils.isPlainObject(target) && utils.isPlainObject(source)) {\n      return utils.merge.call({caseless}, target, source);\n    } else if (utils.isPlainObject(source)) {\n      return utils.merge({}, source);\n    } else if (utils.isArray(source)) {\n      return source.slice();\n    }\n    return source;\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDeepProperties(a, b, prop , caseless) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(a, b, prop , caseless);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a, prop , caseless);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function valueFromConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function defaultToConfig2(a, b) {\n    if (!utils.isUndefined(b)) {\n      return getMergedValue(undefined, b);\n    } else if (!utils.isUndefined(a)) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  // eslint-disable-next-line consistent-return\n  function mergeDirectKeys(a, b, prop) {\n    if (prop in config2) {\n      return getMergedValue(a, b);\n    } else if (prop in config1) {\n      return getMergedValue(undefined, a);\n    }\n  }\n\n  const mergeMap = {\n    url: valueFromConfig2,\n    method: valueFromConfig2,\n    data: valueFromConfig2,\n    baseURL: defaultToConfig2,\n    transformRequest: defaultToConfig2,\n    transformResponse: defaultToConfig2,\n    paramsSerializer: defaultToConfig2,\n    timeout: defaultToConfig2,\n    timeoutMessage: defaultToConfig2,\n    withCredentials: defaultToConfig2,\n    withXSRFToken: defaultToConfig2,\n    adapter: defaultToConfig2,\n    responseType: defaultToConfig2,\n    xsrfCookieName: defaultToConfig2,\n    xsrfHeaderName: defaultToConfig2,\n    onUploadProgress: defaultToConfig2,\n    onDownloadProgress: defaultToConfig2,\n    decompress: defaultToConfig2,\n    maxContentLength: defaultToConfig2,\n    maxBodyLength: defaultToConfig2,\n    beforeRedirect: defaultToConfig2,\n    transport: defaultToConfig2,\n    httpAgent: defaultToConfig2,\n    httpsAgent: defaultToConfig2,\n    cancelToken: defaultToConfig2,\n    socketPath: defaultToConfig2,\n    responseEncoding: defaultToConfig2,\n    validateStatus: mergeDirectKeys,\n    headers: (a, b , prop) => mergeDeepProperties(headersToObject(a), headersToObject(b),prop, true)\n  };\n\n  utils.forEach(Object.keys(Object.assign({}, config1, config2)), function computeConfigValue(prop) {\n    const merge = mergeMap[prop] || mergeDeepProperties;\n    const configValue = merge(config1[prop], config2[prop], prop);\n    (utils.isUndefined(configValue) && merge !== mergeDirectKeys) || (config[prop] = configValue);\n  });\n\n  return config;\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport isURLSameOrigin from \"./isURLSameOrigin.js\";\nimport cookies from \"./cookies.js\";\nimport buildFullPath from \"../core/buildFullPath.js\";\nimport mergeConfig from \"../core/mergeConfig.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport buildURL from \"./buildURL.js\";\n\nexport default (config) => {\n  const newConfig = mergeConfig({}, config);\n\n  let {data, withXSRFToken, xsrfHeaderName, xsrfCookieName, headers, auth} = newConfig;\n\n  newConfig.headers = headers = AxiosHeaders.from(headers);\n\n  newConfig.url = buildURL(buildFullPath(newConfig.baseURL, newConfig.url, newConfig.allowAbsoluteUrls), config.params, config.paramsSerializer);\n\n  // HTTP basic authentication\n  if (auth) {\n    headers.set('Authorization', 'Basic ' +\n      btoa((auth.username || '') + ':' + (auth.password ? unescape(encodeURIComponent(auth.password)) : ''))\n    );\n  }\n\n  let contentType;\n\n  if (utils.isFormData(data)) {\n    if (platform.hasStandardBrowserEnv || platform.hasStandardBrowserWebWorkerEnv) {\n      headers.setContentType(undefined); // Let the browser set it\n    } else if ((contentType = headers.getContentType()) !== false) {\n      // fix semicolon duplication issue for ReactNative FormData implementation\n      const [type, ...tokens] = contentType ? contentType.split(';').map(token => token.trim()).filter(Boolean) : [];\n      headers.setContentType([type || 'multipart/form-data', ...tokens].join('; '));\n    }\n  }\n\n  // Add xsrf header\n  // This is only done if running in a standard browser environment.\n  // Specifically not if we're in a web worker, or react-native.\n\n  if (platform.hasStandardBrowserEnv) {\n    withXSRFToken && utils.isFunction(withXSRFToken) && (withXSRFToken = withXSRFToken(newConfig));\n\n    if (withXSRFToken || (withXSRFToken !== false && isURLSameOrigin(newConfig.url))) {\n      // Add xsrf header\n      const xsrfValue = xsrfHeaderName && xsrfCookieName && cookies.read(xsrfCookieName);\n\n      if (xsrfValue) {\n        headers.set(xsrfHeaderName, xsrfValue);\n      }\n    }\n  }\n\n  return newConfig;\n}\n\n","import utils from './../utils.js';\nimport settle from './../core/settle.js';\nimport transitionalDefaults from '../defaults/transitional.js';\nimport AxiosError from '../core/AxiosError.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport parseProtocol from '../helpers/parseProtocol.js';\nimport platform from '../platform/index.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport {progressEventReducer} from '../helpers/progressEventReducer.js';\nimport resolveConfig from \"../helpers/resolveConfig.js\";\n\nconst isXHRAdapterSupported = typeof XMLHttpRequest !== 'undefined';\n\nexport default isXHRAdapterSupported && function (config) {\n  return new Promise(function dispatchXhrRequest(resolve, reject) {\n    const _config = resolveConfig(config);\n    let requestData = _config.data;\n    const requestHeaders = AxiosHeaders.from(_config.headers).normalize();\n    let {responseType, onUploadProgress, onDownloadProgress} = _config;\n    let onCanceled;\n    let uploadThrottled, downloadThrottled;\n    let flushUpload, flushDownload;\n\n    function done() {\n      flushUpload && flushUpload(); // flush events\n      flushDownload && flushDownload(); // flush events\n\n      _config.cancelToken && _config.cancelToken.unsubscribe(onCanceled);\n\n      _config.signal && _config.signal.removeEventListener('abort', onCanceled);\n    }\n\n    let request = new XMLHttpRequest();\n\n    request.open(_config.method.toUpperCase(), _config.url, true);\n\n    // Set the request timeout in MS\n    request.timeout = _config.timeout;\n\n    function onloadend() {\n      if (!request) {\n        return;\n      }\n      // Prepare the response\n      const responseHeaders = AxiosHeaders.from(\n        'getAllResponseHeaders' in request && request.getAllResponseHeaders()\n      );\n      const responseData = !responseType || responseType === 'text' || responseType === 'json' ?\n        request.responseText : request.response;\n      const response = {\n        data: responseData,\n        status: request.status,\n        statusText: request.statusText,\n        headers: responseHeaders,\n        config,\n        request\n      };\n\n      settle(function _resolve(value) {\n        resolve(value);\n        done();\n      }, function _reject(err) {\n        reject(err);\n        done();\n      }, response);\n\n      // Clean up request\n      request = null;\n    }\n\n    if ('onloadend' in request) {\n      // Use onloadend if available\n      request.onloadend = onloadend;\n    } else {\n      // Listen for ready state to emulate onloadend\n      request.onreadystatechange = function handleLoad() {\n        if (!request || request.readyState !== 4) {\n          return;\n        }\n\n        // The request errored out and we didn't get a response, this will be\n        // handled by onerror instead\n        // With one exception: request that using file: protocol, most browsers\n        // will return status as 0 even though it's a successful request\n        if (request.status === 0 && !(request.responseURL && request.responseURL.indexOf('file:') === 0)) {\n          return;\n        }\n        // readystate handler is calling before onerror or ontimeout handlers,\n        // so we should call onloadend on the next 'tick'\n        setTimeout(onloadend);\n      };\n    }\n\n    // Handle browser request cancellation (as opposed to a manual cancellation)\n    request.onabort = function handleAbort() {\n      if (!request) {\n        return;\n      }\n\n      reject(new AxiosError('Request aborted', AxiosError.ECONNABORTED, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle low level network errors\n    request.onerror = function handleError() {\n      // Real errors are hidden from us by the browser\n      // onerror should only fire if it's a network error\n      reject(new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Handle timeout\n    request.ontimeout = function handleTimeout() {\n      let timeoutErrorMessage = _config.timeout ? 'timeout of ' + _config.timeout + 'ms exceeded' : 'timeout exceeded';\n      const transitional = _config.transitional || transitionalDefaults;\n      if (_config.timeoutErrorMessage) {\n        timeoutErrorMessage = _config.timeoutErrorMessage;\n      }\n      reject(new AxiosError(\n        timeoutErrorMessage,\n        transitional.clarifyTimeoutError ? AxiosError.ETIMEDOUT : AxiosError.ECONNABORTED,\n        config,\n        request));\n\n      // Clean up request\n      request = null;\n    };\n\n    // Remove Content-Type if data is undefined\n    requestData === undefined && requestHeaders.setContentType(null);\n\n    // Add headers to the request\n    if ('setRequestHeader' in request) {\n      utils.forEach(requestHeaders.toJSON(), function setRequestHeader(val, key) {\n        request.setRequestHeader(key, val);\n      });\n    }\n\n    // Add withCredentials to request if needed\n    if (!utils.isUndefined(_config.withCredentials)) {\n      request.withCredentials = !!_config.withCredentials;\n    }\n\n    // Add responseType to request if needed\n    if (responseType && responseType !== 'json') {\n      request.responseType = _config.responseType;\n    }\n\n    // Handle progress if needed\n    if (onDownloadProgress) {\n      ([downloadThrottled, flushDownload] = progressEventReducer(onDownloadProgress, true));\n      request.addEventListener('progress', downloadThrottled);\n    }\n\n    // Not all browsers support upload events\n    if (onUploadProgress && request.upload) {\n      ([uploadThrottled, flushUpload] = progressEventReducer(onUploadProgress));\n\n      request.upload.addEventListener('progress', uploadThrottled);\n\n      request.upload.addEventListener('loadend', flushUpload);\n    }\n\n    if (_config.cancelToken || _config.signal) {\n      // Handle cancellation\n      // eslint-disable-next-line func-names\n      onCanceled = cancel => {\n        if (!request) {\n          return;\n        }\n        reject(!cancel || cancel.type ? new CanceledError(null, config, request) : cancel);\n        request.abort();\n        request = null;\n      };\n\n      _config.cancelToken && _config.cancelToken.subscribe(onCanceled);\n      if (_config.signal) {\n        _config.signal.aborted ? onCanceled() : _config.signal.addEventListener('abort', onCanceled);\n      }\n    }\n\n    const protocol = parseProtocol(_config.url);\n\n    if (protocol && platform.protocols.indexOf(protocol) === -1) {\n      reject(new AxiosError('Unsupported protocol ' + protocol + ':', AxiosError.ERR_BAD_REQUEST, config));\n      return;\n    }\n\n\n    // Send the request\n    request.send(requestData || null);\n  });\n}\n","import CanceledError from \"../cancel/CanceledError.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport utils from '../utils.js';\n\nconst composeSignals = (signals, timeout) => {\n  const {length} = (signals = signals ? signals.filter(Boolean) : []);\n\n  if (timeout || length) {\n    let controller = new AbortController();\n\n    let aborted;\n\n    const onabort = function (reason) {\n      if (!aborted) {\n        aborted = true;\n        unsubscribe();\n        const err = reason instanceof Error ? reason : this.reason;\n        controller.abort(err instanceof AxiosError ? err : new CanceledError(err instanceof Error ? err.message : err));\n      }\n    }\n\n    let timer = timeout && setTimeout(() => {\n      timer = null;\n      onabort(new AxiosError(`timeout ${timeout} of ms exceeded`, AxiosError.ETIMEDOUT))\n    }, timeout)\n\n    const unsubscribe = () => {\n      if (signals) {\n        timer && clearTimeout(timer);\n        timer = null;\n        signals.forEach(signal => {\n          signal.unsubscribe ? signal.unsubscribe(onabort) : signal.removeEventListener('abort', onabort);\n        });\n        signals = null;\n      }\n    }\n\n    signals.forEach((signal) => signal.addEventListener('abort', onabort));\n\n    const {signal} = controller;\n\n    signal.unsubscribe = () => utils.asap(unsubscribe);\n\n    return signal;\n  }\n}\n\nexport default composeSignals;\n","\nexport const streamChunk = function* (chunk, chunkSize) {\n  let len = chunk.byteLength;\n\n  if (!chunkSize || len < chunkSize) {\n    yield chunk;\n    return;\n  }\n\n  let pos = 0;\n  let end;\n\n  while (pos < len) {\n    end = pos + chunkSize;\n    yield chunk.slice(pos, end);\n    pos = end;\n  }\n}\n\nexport const readBytes = async function* (iterable, chunkSize) {\n  for await (const chunk of readStream(iterable)) {\n    yield* streamChunk(chunk, chunkSize);\n  }\n}\n\nconst readStream = async function* (stream) {\n  if (stream[Symbol.asyncIterator]) {\n    yield* stream;\n    return;\n  }\n\n  const reader = stream.getReader();\n  try {\n    for (;;) {\n      const {done, value} = await reader.read();\n      if (done) {\n        break;\n      }\n      yield value;\n    }\n  } finally {\n    await reader.cancel();\n  }\n}\n\nexport const trackStream = (stream, chunkSize, onProgress, onFinish) => {\n  const iterator = readBytes(stream, chunkSize);\n\n  let bytes = 0;\n  let done;\n  let _onFinish = (e) => {\n    if (!done) {\n      done = true;\n      onFinish && onFinish(e);\n    }\n  }\n\n  return new ReadableStream({\n    async pull(controller) {\n      try {\n        const {done, value} = await iterator.next();\n\n        if (done) {\n         _onFinish();\n          controller.close();\n          return;\n        }\n\n        let len = value.byteLength;\n        if (onProgress) {\n          let loadedBytes = bytes += len;\n          onProgress(loadedBytes);\n        }\n        controller.enqueue(new Uint8Array(value));\n      } catch (err) {\n        _onFinish(err);\n        throw err;\n      }\n    },\n    cancel(reason) {\n      _onFinish(reason);\n      return iterator.return();\n    }\n  }, {\n    highWaterMark: 2\n  })\n}\n","import platform from \"../platform/index.js\";\nimport utils from \"../utils.js\";\nimport AxiosError from \"../core/AxiosError.js\";\nimport composeSignals from \"../helpers/composeSignals.js\";\nimport {trackStream} from \"../helpers/trackStream.js\";\nimport AxiosHeaders from \"../core/AxiosHeaders.js\";\nimport {progressEventReducer, progressEventDecorator, asyncDecorator} from \"../helpers/progressEventReducer.js\";\nimport resolveConfig from \"../helpers/resolveConfig.js\";\nimport settle from \"../core/settle.js\";\n\nconst isFetchSupported = typeof fetch === 'function' && typeof Request === 'function' && typeof Response === 'function';\nconst isReadableStreamSupported = isFetchSupported && typeof ReadableStream === 'function';\n\n// used only inside the fetch adapter\nconst encodeText = isFetchSupported && (typeof TextEncoder === 'function' ?\n    ((encoder) => (str) => encoder.encode(str))(new TextEncoder()) :\n    async (str) => new Uint8Array(await new Response(str).arrayBuffer())\n);\n\nconst test = (fn, ...args) => {\n  try {\n    return !!fn(...args);\n  } catch (e) {\n    return false\n  }\n}\n\nconst supportsRequestStream = isReadableStreamSupported && test(() => {\n  let duplexAccessed = false;\n\n  const hasContentType = new Request(platform.origin, {\n    body: new ReadableStream(),\n    method: 'POST',\n    get duplex() {\n      duplexAccessed = true;\n      return 'half';\n    },\n  }).headers.has('Content-Type');\n\n  return duplexAccessed && !hasContentType;\n});\n\nconst DEFAULT_CHUNK_SIZE = 64 * 1024;\n\nconst supportsResponseStream = isReadableStreamSupported &&\n  test(() => utils.isReadableStream(new Response('').body));\n\n\nconst resolvers = {\n  stream: supportsResponseStream && ((res) => res.body)\n};\n\nisFetchSupported && (((res) => {\n  ['text', 'arrayBuffer', 'blob', 'formData', 'stream'].forEach(type => {\n    !resolvers[type] && (resolvers[type] = utils.isFunction(res[type]) ? (res) => res[type]() :\n      (_, config) => {\n        throw new AxiosError(`Response type '${type}' is not supported`, AxiosError.ERR_NOT_SUPPORT, config);\n      })\n  });\n})(new Response));\n\nconst getBodyLength = async (body) => {\n  if (body == null) {\n    return 0;\n  }\n\n  if(utils.isBlob(body)) {\n    return body.size;\n  }\n\n  if(utils.isSpecCompliantForm(body)) {\n    const _request = new Request(platform.origin, {\n      method: 'POST',\n      body,\n    });\n    return (await _request.arrayBuffer()).byteLength;\n  }\n\n  if(utils.isArrayBufferView(body) || utils.isArrayBuffer(body)) {\n    return body.byteLength;\n  }\n\n  if(utils.isURLSearchParams(body)) {\n    body = body + '';\n  }\n\n  if(utils.isString(body)) {\n    return (await encodeText(body)).byteLength;\n  }\n}\n\nconst resolveBodyLength = async (headers, body) => {\n  const length = utils.toFiniteNumber(headers.getContentLength());\n\n  return length == null ? getBodyLength(body) : length;\n}\n\nexport default isFetchSupported && (async (config) => {\n  let {\n    url,\n    method,\n    data,\n    signal,\n    cancelToken,\n    timeout,\n    onDownloadProgress,\n    onUploadProgress,\n    responseType,\n    headers,\n    withCredentials = 'same-origin',\n    fetchOptions\n  } = resolveConfig(config);\n\n  responseType = responseType ? (responseType + '').toLowerCase() : 'text';\n\n  let composedSignal = composeSignals([signal, cancelToken && cancelToken.toAbortSignal()], timeout);\n\n  let request;\n\n  const unsubscribe = composedSignal && composedSignal.unsubscribe && (() => {\n      composedSignal.unsubscribe();\n  });\n\n  let requestContentLength;\n\n  try {\n    if (\n      onUploadProgress && supportsRequestStream && method !== 'get' && method !== 'head' &&\n      (requestContentLength = await resolveBodyLength(headers, data)) !== 0\n    ) {\n      let _request = new Request(url, {\n        method: 'POST',\n        body: data,\n        duplex: \"half\"\n      });\n\n      let contentTypeHeader;\n\n      if (utils.isFormData(data) && (contentTypeHeader = _request.headers.get('content-type'))) {\n        headers.setContentType(contentTypeHeader)\n      }\n\n      if (_request.body) {\n        const [onProgress, flush] = progressEventDecorator(\n          requestContentLength,\n          progressEventReducer(asyncDecorator(onUploadProgress))\n        );\n\n        data = trackStream(_request.body, DEFAULT_CHUNK_SIZE, onProgress, flush);\n      }\n    }\n\n    if (!utils.isString(withCredentials)) {\n      withCredentials = withCredentials ? 'include' : 'omit';\n    }\n\n    // Cloudflare Workers throws when credentials are defined\n    // see https://github.com/cloudflare/workerd/issues/902\n    const isCredentialsSupported = \"credentials\" in Request.prototype;\n    request = new Request(url, {\n      ...fetchOptions,\n      signal: composedSignal,\n      method: method.toUpperCase(),\n      headers: headers.normalize().toJSON(),\n      body: data,\n      duplex: \"half\",\n      credentials: isCredentialsSupported ? withCredentials : undefined\n    });\n\n    let response = await fetch(request);\n\n    const isStreamResponse = supportsResponseStream && (responseType === 'stream' || responseType === 'response');\n\n    if (supportsResponseStream && (onDownloadProgress || (isStreamResponse && unsubscribe))) {\n      const options = {};\n\n      ['status', 'statusText', 'headers'].forEach(prop => {\n        options[prop] = response[prop];\n      });\n\n      const responseContentLength = utils.toFiniteNumber(response.headers.get('content-length'));\n\n      const [onProgress, flush] = onDownloadProgress && progressEventDecorator(\n        responseContentLength,\n        progressEventReducer(asyncDecorator(onDownloadProgress), true)\n      ) || [];\n\n      response = new Response(\n        trackStream(response.body, DEFAULT_CHUNK_SIZE, onProgress, () => {\n          flush && flush();\n          unsubscribe && unsubscribe();\n        }),\n        options\n      );\n    }\n\n    responseType = responseType || 'text';\n\n    let responseData = await resolvers[utils.findKey(resolvers, responseType) || 'text'](response, config);\n\n    !isStreamResponse && unsubscribe && unsubscribe();\n\n    return await new Promise((resolve, reject) => {\n      settle(resolve, reject, {\n        data: responseData,\n        headers: AxiosHeaders.from(response.headers),\n        status: response.status,\n        statusText: response.statusText,\n        config,\n        request\n      })\n    })\n  } catch (err) {\n    unsubscribe && unsubscribe();\n\n    if (err && err.name === 'TypeError' && /fetch/i.test(err.message)) {\n      throw Object.assign(\n        new AxiosError('Network Error', AxiosError.ERR_NETWORK, config, request),\n        {\n          cause: err.cause || err\n        }\n      )\n    }\n\n    throw AxiosError.from(err, err && err.code, config, request);\n  }\n});\n\n\n","import utils from '../utils.js';\nimport httpAdapter from './http.js';\nimport xhrAdapter from './xhr.js';\nimport fetchAdapter from './fetch.js';\nimport AxiosError from \"../core/AxiosError.js\";\n\nconst knownAdapters = {\n  http: httpAdapter,\n  xhr: xhrAdapter,\n  fetch: fetchAdapter\n}\n\nutils.forEach(knownAdapters, (fn, value) => {\n  if (fn) {\n    try {\n      Object.defineProperty(fn, 'name', {value});\n    } catch (e) {\n      // eslint-disable-next-line no-empty\n    }\n    Object.defineProperty(fn, 'adapterName', {value});\n  }\n});\n\nconst renderReason = (reason) => `- ${reason}`;\n\nconst isResolvedHandle = (adapter) => utils.isFunction(adapter) || adapter === null || adapter === false;\n\nexport default {\n  getAdapter: (adapters) => {\n    adapters = utils.isArray(adapters) ? adapters : [adapters];\n\n    const {length} = adapters;\n    let nameOrAdapter;\n    let adapter;\n\n    const rejectedReasons = {};\n\n    for (let i = 0; i < length; i++) {\n      nameOrAdapter = adapters[i];\n      let id;\n\n      adapter = nameOrAdapter;\n\n      if (!isResolvedHandle(nameOrAdapter)) {\n        adapter = knownAdapters[(id = String(nameOrAdapter)).toLowerCase()];\n\n        if (adapter === undefined) {\n          throw new AxiosError(`Unknown adapter '${id}'`);\n        }\n      }\n\n      if (adapter) {\n        break;\n      }\n\n      rejectedReasons[id || '#' + i] = adapter;\n    }\n\n    if (!adapter) {\n\n      const reasons = Object.entries(rejectedReasons)\n        .map(([id, state]) => `adapter ${id} ` +\n          (state === false ? 'is not supported by the environment' : 'is not available in the build')\n        );\n\n      let s = length ?\n        (reasons.length > 1 ? 'since :\\n' + reasons.map(renderReason).join('\\n') : ' ' + renderReason(reasons[0])) :\n        'as no adapter specified';\n\n      throw new AxiosError(\n        `There is no suitable adapter to dispatch the request ` + s,\n        'ERR_NOT_SUPPORT'\n      );\n    }\n\n    return adapter;\n  },\n  adapters: knownAdapters\n}\n","'use strict';\n\nimport transformData from './transformData.js';\nimport isCancel from '../cancel/isCancel.js';\nimport defaults from '../defaults/index.js';\nimport CanceledError from '../cancel/CanceledError.js';\nimport AxiosHeaders from '../core/AxiosHeaders.js';\nimport adapters from \"../adapters/adapters.js\";\n\n/**\n * Throws a `CanceledError` if cancellation has been requested.\n *\n * @param {Object} config The config that is to be used for the request\n *\n * @returns {void}\n */\nfunction throwIfCancellationRequested(config) {\n  if (config.cancelToken) {\n    config.cancelToken.throwIfRequested();\n  }\n\n  if (config.signal && config.signal.aborted) {\n    throw new CanceledError(null, config);\n  }\n}\n\n/**\n * Dispatch a request to the server using the configured adapter.\n *\n * @param {object} config The config that is to be used for the request\n *\n * @returns {Promise} The Promise to be fulfilled\n */\nexport default function dispatchRequest(config) {\n  throwIfCancellationRequested(config);\n\n  config.headers = AxiosHeaders.from(config.headers);\n\n  // Transform request data\n  config.data = transformData.call(\n    config,\n    config.transformRequest\n  );\n\n  if (['post', 'put', 'patch'].indexOf(config.method) !== -1) {\n    config.headers.setContentType('application/x-www-form-urlencoded', false);\n  }\n\n  const adapter = adapters.getAdapter(config.adapter || defaults.adapter);\n\n  return adapter(config).then(function onAdapterResolution(response) {\n    throwIfCancellationRequested(config);\n\n    // Transform response data\n    response.data = transformData.call(\n      config,\n      config.transformResponse,\n      response\n    );\n\n    response.headers = AxiosHeaders.from(response.headers);\n\n    return response;\n  }, function onAdapterRejection(reason) {\n    if (!isCancel(reason)) {\n      throwIfCancellationRequested(config);\n\n      // Transform response data\n      if (reason && reason.response) {\n        reason.response.data = transformData.call(\n          config,\n          config.transformResponse,\n          reason.response\n        );\n        reason.response.headers = AxiosHeaders.from(reason.response.headers);\n      }\n    }\n\n    return Promise.reject(reason);\n  });\n}\n","export const VERSION = \"1.8.4\";","'use strict';\n\nimport {VERSION} from '../env/data.js';\nimport AxiosError from '../core/AxiosError.js';\n\nconst validators = {};\n\n// eslint-disable-next-line func-names\n['object', 'boolean', 'number', 'function', 'string', 'symbol'].forEach((type, i) => {\n  validators[type] = function validator(thing) {\n    return typeof thing === type || 'a' + (i < 1 ? 'n ' : ' ') + type;\n  };\n});\n\nconst deprecatedWarnings = {};\n\n/**\n * Transitional option validator\n *\n * @param {function|boolean?} validator - set to false if the transitional option has been removed\n * @param {string?} version - deprecated version / removed since version\n * @param {string?} message - some message with additional info\n *\n * @returns {function}\n */\nvalidators.transitional = function transitional(validator, version, message) {\n  function formatMessage(opt, desc) {\n    return '[Axios v' + VERSION + '] Transitional option \\'' + opt + '\\'' + desc + (message ? '. ' + message : '');\n  }\n\n  // eslint-disable-next-line func-names\n  return (value, opt, opts) => {\n    if (validator === false) {\n      throw new AxiosError(\n        formatMessage(opt, ' has been removed' + (version ? ' in ' + version : '')),\n        AxiosError.ERR_DEPRECATED\n      );\n    }\n\n    if (version && !deprecatedWarnings[opt]) {\n      deprecatedWarnings[opt] = true;\n      // eslint-disable-next-line no-console\n      console.warn(\n        formatMessage(\n          opt,\n          ' has been deprecated since v' + version + ' and will be removed in the near future'\n        )\n      );\n    }\n\n    return validator ? validator(value, opt, opts) : true;\n  };\n};\n\nvalidators.spelling = function spelling(correctSpelling) {\n  return (value, opt) => {\n    // eslint-disable-next-line no-console\n    console.warn(`${opt} is likely a misspelling of ${correctSpelling}`);\n    return true;\n  }\n};\n\n/**\n * Assert object's properties type\n *\n * @param {object} options\n * @param {object} schema\n * @param {boolean?} allowUnknown\n *\n * @returns {object}\n */\n\nfunction assertOptions(options, schema, allowUnknown) {\n  if (typeof options !== 'object') {\n    throw new AxiosError('options must be an object', AxiosError.ERR_BAD_OPTION_VALUE);\n  }\n  const keys = Object.keys(options);\n  let i = keys.length;\n  while (i-- > 0) {\n    const opt = keys[i];\n    const validator = schema[opt];\n    if (validator) {\n      const value = options[opt];\n      const result = value === undefined || validator(value, opt, options);\n      if (result !== true) {\n        throw new AxiosError('option ' + opt + ' must be ' + result, AxiosError.ERR_BAD_OPTION_VALUE);\n      }\n      continue;\n    }\n    if (allowUnknown !== true) {\n      throw new AxiosError('Unknown option ' + opt, AxiosError.ERR_BAD_OPTION);\n    }\n  }\n}\n\nexport default {\n  assertOptions,\n  validators\n};\n","'use strict';\n\nimport utils from './../utils.js';\nimport buildURL from '../helpers/buildURL.js';\nimport InterceptorManager from './InterceptorManager.js';\nimport dispatchRequest from './dispatchRequest.js';\nimport mergeConfig from './mergeConfig.js';\nimport buildFullPath from './buildFullPath.js';\nimport validator from '../helpers/validator.js';\nimport AxiosHeaders from './AxiosHeaders.js';\n\nconst validators = validator.validators;\n\n/**\n * Create a new instance of Axios\n *\n * @param {Object} instanceConfig The default config for the instance\n *\n * @return {Axios} A new instance of Axios\n */\nclass Axios {\n  constructor(instanceConfig) {\n    this.defaults = instanceConfig;\n    this.interceptors = {\n      request: new InterceptorManager(),\n      response: new InterceptorManager()\n    };\n  }\n\n  /**\n   * Dispatch a request\n   *\n   * @param {String|Object} configOrUrl The config specific for this request (merged with this.defaults)\n   * @param {?Object} config\n   *\n   * @returns {Promise} The Promise to be fulfilled\n   */\n  async request(configOrUrl, config) {\n    try {\n      return await this._request(configOrUrl, config);\n    } catch (err) {\n      if (err instanceof Error) {\n        let dummy = {};\n\n        Error.captureStackTrace ? Error.captureStackTrace(dummy) : (dummy = new Error());\n\n        // slice off the Error: ... line\n        const stack = dummy.stack ? dummy.stack.replace(/^.+\\n/, '') : '';\n        try {\n          if (!err.stack) {\n            err.stack = stack;\n            // match without the 2 top stack lines\n          } else if (stack && !String(err.stack).endsWith(stack.replace(/^.+\\n.+\\n/, ''))) {\n            err.stack += '\\n' + stack\n          }\n        } catch (e) {\n          // ignore the case where \"stack\" is an un-writable property\n        }\n      }\n\n      throw err;\n    }\n  }\n\n  _request(configOrUrl, config) {\n    /*eslint no-param-reassign:0*/\n    // Allow for axios('example/url'[, config]) a la fetch API\n    if (typeof configOrUrl === 'string') {\n      config = config || {};\n      config.url = configOrUrl;\n    } else {\n      config = configOrUrl || {};\n    }\n\n    config = mergeConfig(this.defaults, config);\n\n    const {transitional, paramsSerializer, headers} = config;\n\n    if (transitional !== undefined) {\n      validator.assertOptions(transitional, {\n        silentJSONParsing: validators.transitional(validators.boolean),\n        forcedJSONParsing: validators.transitional(validators.boolean),\n        clarifyTimeoutError: validators.transitional(validators.boolean)\n      }, false);\n    }\n\n    if (paramsSerializer != null) {\n      if (utils.isFunction(paramsSerializer)) {\n        config.paramsSerializer = {\n          serialize: paramsSerializer\n        }\n      } else {\n        validator.assertOptions(paramsSerializer, {\n          encode: validators.function,\n          serialize: validators.function\n        }, true);\n      }\n    }\n\n    // Set config.allowAbsoluteUrls\n    if (config.allowAbsoluteUrls !== undefined) {\n      // do nothing\n    } else if (this.defaults.allowAbsoluteUrls !== undefined) {\n      config.allowAbsoluteUrls = this.defaults.allowAbsoluteUrls;\n    } else {\n      config.allowAbsoluteUrls = true;\n    }\n\n    validator.assertOptions(config, {\n      baseUrl: validators.spelling('baseURL'),\n      withXsrfToken: validators.spelling('withXSRFToken')\n    }, true);\n\n    // Set config.method\n    config.method = (config.method || this.defaults.method || 'get').toLowerCase();\n\n    // Flatten headers\n    let contextHeaders = headers && utils.merge(\n      headers.common,\n      headers[config.method]\n    );\n\n    headers && utils.forEach(\n      ['delete', 'get', 'head', 'post', 'put', 'patch', 'common'],\n      (method) => {\n        delete headers[method];\n      }\n    );\n\n    config.headers = AxiosHeaders.concat(contextHeaders, headers);\n\n    // filter out skipped interceptors\n    const requestInterceptorChain = [];\n    let synchronousRequestInterceptors = true;\n    this.interceptors.request.forEach(function unshiftRequestInterceptors(interceptor) {\n      if (typeof interceptor.runWhen === 'function' && interceptor.runWhen(config) === false) {\n        return;\n      }\n\n      synchronousRequestInterceptors = synchronousRequestInterceptors && interceptor.synchronous;\n\n      requestInterceptorChain.unshift(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    const responseInterceptorChain = [];\n    this.interceptors.response.forEach(function pushResponseInterceptors(interceptor) {\n      responseInterceptorChain.push(interceptor.fulfilled, interceptor.rejected);\n    });\n\n    let promise;\n    let i = 0;\n    let len;\n\n    if (!synchronousRequestInterceptors) {\n      const chain = [dispatchRequest.bind(this), undefined];\n      chain.unshift.apply(chain, requestInterceptorChain);\n      chain.push.apply(chain, responseInterceptorChain);\n      len = chain.length;\n\n      promise = Promise.resolve(config);\n\n      while (i < len) {\n        promise = promise.then(chain[i++], chain[i++]);\n      }\n\n      return promise;\n    }\n\n    len = requestInterceptorChain.length;\n\n    let newConfig = config;\n\n    i = 0;\n\n    while (i < len) {\n      const onFulfilled = requestInterceptorChain[i++];\n      const onRejected = requestInterceptorChain[i++];\n      try {\n        newConfig = onFulfilled(newConfig);\n      } catch (error) {\n        onRejected.call(this, error);\n        break;\n      }\n    }\n\n    try {\n      promise = dispatchRequest.call(this, newConfig);\n    } catch (error) {\n      return Promise.reject(error);\n    }\n\n    i = 0;\n    len = responseInterceptorChain.length;\n\n    while (i < len) {\n      promise = promise.then(responseInterceptorChain[i++], responseInterceptorChain[i++]);\n    }\n\n    return promise;\n  }\n\n  getUri(config) {\n    config = mergeConfig(this.defaults, config);\n    const fullPath = buildFullPath(config.baseURL, config.url, config.allowAbsoluteUrls);\n    return buildURL(fullPath, config.params, config.paramsSerializer);\n  }\n}\n\n// Provide aliases for supported request methods\nutils.forEach(['delete', 'get', 'head', 'options'], function forEachMethodNoData(method) {\n  /*eslint func-names:0*/\n  Axios.prototype[method] = function(url, config) {\n    return this.request(mergeConfig(config || {}, {\n      method,\n      url,\n      data: (config || {}).data\n    }));\n  };\n});\n\nutils.forEach(['post', 'put', 'patch'], function forEachMethodWithData(method) {\n  /*eslint func-names:0*/\n\n  function generateHTTPMethod(isForm) {\n    return function httpMethod(url, data, config) {\n      return this.request(mergeConfig(config || {}, {\n        method,\n        headers: isForm ? {\n          'Content-Type': 'multipart/form-data'\n        } : {},\n        url,\n        data\n      }));\n    };\n  }\n\n  Axios.prototype[method] = generateHTTPMethod();\n\n  Axios.prototype[method + 'Form'] = generateHTTPMethod(true);\n});\n\nexport default Axios;\n","'use strict';\n\nimport CanceledError from './CanceledError.js';\n\n/**\n * A `CancelToken` is an object that can be used to request cancellation of an operation.\n *\n * @param {Function} executor The executor function.\n *\n * @returns {CancelToken}\n */\nclass CancelToken {\n  constructor(executor) {\n    if (typeof executor !== 'function') {\n      throw new TypeError('executor must be a function.');\n    }\n\n    let resolvePromise;\n\n    this.promise = new Promise(function promiseExecutor(resolve) {\n      resolvePromise = resolve;\n    });\n\n    const token = this;\n\n    // eslint-disable-next-line func-names\n    this.promise.then(cancel => {\n      if (!token._listeners) return;\n\n      let i = token._listeners.length;\n\n      while (i-- > 0) {\n        token._listeners[i](cancel);\n      }\n      token._listeners = null;\n    });\n\n    // eslint-disable-next-line func-names\n    this.promise.then = onfulfilled => {\n      let _resolve;\n      // eslint-disable-next-line func-names\n      const promise = new Promise(resolve => {\n        token.subscribe(resolve);\n        _resolve = resolve;\n      }).then(onfulfilled);\n\n      promise.cancel = function reject() {\n        token.unsubscribe(_resolve);\n      };\n\n      return promise;\n    };\n\n    executor(function cancel(message, config, request) {\n      if (token.reason) {\n        // Cancellation has already been requested\n        return;\n      }\n\n      token.reason = new CanceledError(message, config, request);\n      resolvePromise(token.reason);\n    });\n  }\n\n  /**\n   * Throws a `CanceledError` if cancellation has been requested.\n   */\n  throwIfRequested() {\n    if (this.reason) {\n      throw this.reason;\n    }\n  }\n\n  /**\n   * Subscribe to the cancel signal\n   */\n\n  subscribe(listener) {\n    if (this.reason) {\n      listener(this.reason);\n      return;\n    }\n\n    if (this._listeners) {\n      this._listeners.push(listener);\n    } else {\n      this._listeners = [listener];\n    }\n  }\n\n  /**\n   * Unsubscribe from the cancel signal\n   */\n\n  unsubscribe(listener) {\n    if (!this._listeners) {\n      return;\n    }\n    const index = this._listeners.indexOf(listener);\n    if (index !== -1) {\n      this._listeners.splice(index, 1);\n    }\n  }\n\n  toAbortSignal() {\n    const controller = new AbortController();\n\n    const abort = (err) => {\n      controller.abort(err);\n    };\n\n    this.subscribe(abort);\n\n    controller.signal.unsubscribe = () => this.unsubscribe(abort);\n\n    return controller.signal;\n  }\n\n  /**\n   * Returns an object that contains a new `CancelToken` and a function that, when called,\n   * cancels the `CancelToken`.\n   */\n  static source() {\n    let cancel;\n    const token = new CancelToken(function executor(c) {\n      cancel = c;\n    });\n    return {\n      token,\n      cancel\n    };\n  }\n}\n\nexport default CancelToken;\n","'use strict';\n\n/**\n * Syntactic sugar for invoking a function and expanding an array for arguments.\n *\n * Common use case would be to use `Function.prototype.apply`.\n *\n *  ```js\n *  function f(x, y, z) {}\n *  var args = [1, 2, 3];\n *  f.apply(null, args);\n *  ```\n *\n * With `spread` this example can be re-written.\n *\n *  ```js\n *  spread(function(x, y, z) {})([1, 2, 3]);\n *  ```\n *\n * @param {Function} callback\n *\n * @returns {Function}\n */\nexport default function spread(callback) {\n  return function wrap(arr) {\n    return callback.apply(null, arr);\n  };\n}\n","'use strict';\n\nimport utils from './../utils.js';\n\n/**\n * Determines whether the payload is an error thrown by Axios\n *\n * @param {*} payload The value to test\n *\n * @returns {boolean} True if the payload is an error thrown by Axios, otherwise false\n */\nexport default function isAxiosError(payload) {\n  return utils.isObject(payload) && (payload.isAxiosError === true);\n}\n","const HttpStatusCode = {\n  Continue: 100,\n  SwitchingProtocols: 101,\n  Processing: 102,\n  EarlyHints: 103,\n  Ok: 200,\n  Created: 201,\n  Accepted: 202,\n  NonAuthoritativeInformation: 203,\n  NoContent: 204,\n  ResetContent: 205,\n  PartialContent: 206,\n  MultiStatus: 207,\n  AlreadyReported: 208,\n  ImUsed: 226,\n  MultipleChoices: 300,\n  MovedPermanently: 301,\n  Found: 302,\n  SeeOther: 303,\n  NotModified: 304,\n  UseProxy: 305,\n  Unused: 306,\n  TemporaryRedirect: 307,\n  PermanentRedirect: 308,\n  BadRequest: 400,\n  Unauthorized: 401,\n  PaymentRequired: 402,\n  Forbidden: 403,\n  NotFound: 404,\n  MethodNotAllowed: 405,\n  NotAcceptable: 406,\n  ProxyAuthenticationRequired: 407,\n  RequestTimeout: 408,\n  Conflict: 409,\n  Gone: 410,\n  LengthRequired: 411,\n  PreconditionFailed: 412,\n  PayloadTooLarge: 413,\n  UriTooLong: 414,\n  UnsupportedMediaType: 415,\n  RangeNotSatisfiable: 416,\n  ExpectationFailed: 417,\n  ImATeapot: 418,\n  MisdirectedRequest: 421,\n  UnprocessableEntity: 422,\n  Locked: 423,\n  FailedDependency: 424,\n  TooEarly: 425,\n  UpgradeRequired: 426,\n  PreconditionRequired: 428,\n  TooManyRequests: 429,\n  RequestHeaderFieldsTooLarge: 431,\n  UnavailableForLegalReasons: 451,\n  InternalServerError: 500,\n  NotImplemented: 501,\n  BadGateway: 502,\n  ServiceUnavailable: 503,\n  GatewayTimeout: 504,\n  HttpVersionNotSupported: 505,\n  VariantAlsoNegotiates: 506,\n  InsufficientStorage: 507,\n  LoopDetected: 508,\n  NotExtended: 510,\n  NetworkAuthenticationRequired: 511,\n};\n\nObject.entries(HttpStatusCode).forEach(([key, value]) => {\n  HttpStatusCode[value] = key;\n});\n\nexport default HttpStatusCode;\n","'use strict';\n\nimport utils from './utils.js';\nimport bind from './helpers/bind.js';\nimport Axios from './core/Axios.js';\nimport mergeConfig from './core/mergeConfig.js';\nimport defaults from './defaults/index.js';\nimport formDataToJSON from './helpers/formDataToJSON.js';\nimport CanceledError from './cancel/CanceledError.js';\nimport CancelToken from './cancel/CancelToken.js';\nimport isCancel from './cancel/isCancel.js';\nimport {VERSION} from './env/data.js';\nimport toFormData from './helpers/toFormData.js';\nimport AxiosError from './core/AxiosError.js';\nimport spread from './helpers/spread.js';\nimport isAxiosError from './helpers/isAxiosError.js';\nimport AxiosHeaders from \"./core/AxiosHeaders.js\";\nimport adapters from './adapters/adapters.js';\nimport HttpStatusCode from './helpers/HttpStatusCode.js';\n\n/**\n * Create an instance of Axios\n *\n * @param {Object} defaultConfig The default config for the instance\n *\n * @returns {Axios} A new instance of Axios\n */\nfunction createInstance(defaultConfig) {\n  const context = new Axios(defaultConfig);\n  const instance = bind(Axios.prototype.request, context);\n\n  // Copy axios.prototype to instance\n  utils.extend(instance, Axios.prototype, context, {allOwnKeys: true});\n\n  // Copy context to instance\n  utils.extend(instance, context, null, {allOwnKeys: true});\n\n  // Factory for creating new instances\n  instance.create = function create(instanceConfig) {\n    return createInstance(mergeConfig(defaultConfig, instanceConfig));\n  };\n\n  return instance;\n}\n\n// Create the default instance to be exported\nconst axios = createInstance(defaults);\n\n// Expose Axios class to allow class inheritance\naxios.Axios = Axios;\n\n// Expose Cancel & CancelToken\naxios.CanceledError = CanceledError;\naxios.CancelToken = CancelToken;\naxios.isCancel = isCancel;\naxios.VERSION = VERSION;\naxios.toFormData = toFormData;\n\n// Expose AxiosError class\naxios.AxiosError = AxiosError;\n\n// alias for CanceledError for backward compatibility\naxios.Cancel = axios.CanceledError;\n\n// Expose all/spread\naxios.all = function all(promises) {\n  return Promise.all(promises);\n};\n\naxios.spread = spread;\n\n// Expose isAxiosError\naxios.isAxiosError = isAxiosError;\n\n// Expose mergeConfig\naxios.mergeConfig = mergeConfig;\n\naxios.AxiosHeaders = AxiosHeaders;\n\naxios.formToJSON = thing => formDataToJSON(utils.isHTMLForm(thing) ? new FormData(thing) : thing);\n\naxios.getAdapter = adapters.getAdapter;\n\naxios.HttpStatusCode = HttpStatusCode;\n\naxios.default = axios;\n\n// this module should only have a default export\nexport default axios\n","import axios from './lib/axios.js';\n\n// This module is intended to unwrap Axios default export as named.\n// Keep top-level export same with static properties\n// so that it can keep same with es module or cjs\nconst {\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n} = axios;\n\nexport {\n  axios as default,\n  Axios,\n  AxiosError,\n  CanceledError,\n  isCancel,\n  CancelToken,\n  VERSION,\n  all,\n  Cancel,\n  isAxiosError,\n  spread,\n  toFormData,\n  AxiosHeaders,\n  HttpStatusCode,\n  formToJSON,\n  getAdapter,\n  mergeConfig\n}\n","import axios from 'axios';\n\n// Tạo instance axios với cấu hình mặc định\nconst apiClient = axios.create({\n  baseURL: import.meta.env.VITE_API_URL,\n  headers: {\n    'Content-Type': 'application/json',\n  },\n  timeout: 30000, // 30 seconds\n});\n\n// Interceptor thêm token vào header nếu có\napiClient.interceptors.request.use(\n  (config) => {\n    try {\n      const token = localStorage.getItem('admin_current_token');\n      if (token) {\n        config.headers.Authorization = `Bearer ${token}`;\n      }\n    } catch (error) {\n      console.error('Error setting Authorization header:', error);\n    }\n    return config;\n  },\n  (error) => Promise.reject(error)\n);\n\n// Interceptor kiểm tra response\napiClient.interceptors.response.use(\n  (response) => response,\n  (error) => {\n    try {\n      // Nếu token hết hạn (401 Unauthorized), tự động logout\n      if (error.response && error.response.status === 401) {\n        // Import không thể đặt ở đầu file vì sẽ gây lỗi circular dependency\n        const auth = require('@/store/auth').default;\n        auth.logout(false);\n        window.location.href = '/admin/login';\n      }\n    } catch (err) {\n      console.error('Error in response interceptor:', err);\n    }\n    return Promise.reject(error);\n  }\n);\n\n// API authentication\nexport const authApi = {\n  register(userData) {\n    return apiClient.post('/auth/register', userData);\n  },\n  sendOtp(email) {\n    return apiClient.post('/auth/send-otp', email);\n  },\n  verifyOtp(email, otp) {\n    return apiClient.post('/auth/verify-otp', null, { params: { email, otp } });\n  },\n  login(credentials) {\n    return apiClient.post('/auth/login', credentials);\n  },\n  logout() {\n    return apiClient.post('/auth/logout');\n  }\n};\n\n// API users\nexport const userApi = {\n  getUsers() {\n    return apiClient.get('/users');\n  },\n  getUser(id) {\n    return apiClient.get(`/users/${id}`);\n  },\n  updateUser(id, userData) {\n    return apiClient.put(`/users/${id}`, userData);\n  }\n};\n\n// API sessions\nexport const sessionApi = {\n  getSessions() {\n    return apiClient.get('/account/sessions');\n  },\n  removeSession(sessionId) {\n    return apiClient.delete(`/account/sessions/${sessionId}`);\n  },\n  removeOtherSessions() {\n    return apiClient.delete('/account/sessions/other-devices');\n  },\n  removeAllSessions() {\n    return apiClient.delete('/account/sessions/all');\n  }\n};\n\n// API products\nexport const productApi = {\n  getProducts(params = {}) {\n    return apiClient.get('/products', { params });\n  },\n  getProduct(id) {\n    return apiClient.get(`/products/${id}`);\n  },\n  createProduct(productData) {\n    return apiClient.post('/products', productData);\n  },\n  updateProduct(id, productData) {\n    return apiClient.put(`/products/${id}`, productData);\n  },\n  deleteProduct(id) {\n    return apiClient.delete(`/products/${id}`);\n  }\n};\n\n// API categories\nexport const categoryApi = {\n  getCategories() {\n    return apiClient.get('/categories');\n  },\n  getCategory(id) {\n    return apiClient.get(`/categories/${id}`);\n  },\n  getCategoryProducts(id, params = {}) {\n    return apiClient.get(`/categories/${id}/products`, { params });\n  },\n  createCategory(categoryData) {\n    return apiClient.post('/categories', categoryData);\n  },\n  updateCategory(id, categoryData) {\n    return apiClient.put(`/categories/${id}`, categoryData);\n  },\n  deleteCategory(id) {\n    return apiClient.delete(`/categories/${id}`);\n  }\n};\n\n// API orders\nexport const orderApi = {\n  getOrders() {\n    return apiClient.get('/orders');\n  },\n  getOrder(id) {\n    return apiClient.get(`/orders/${id}`);\n  },\n  getMyOrders() {\n    return apiClient.get('/orders/my-orders');\n  },\n  createOrder(orderData) {\n    return apiClient.post('/orders', orderData);\n  },\n  updateOrderStatus(id, status) {\n    return apiClient.put(`/orders/${id}/status`, null, { params: { status } });\n  },\n  updatePaymentStatus(id, paymentStatus) {\n    return apiClient.put(`/orders/${id}/payment`, null, { params: { paymentStatus } });\n  },\n  cancelOrder(id) {\n    return apiClient.post(`/orders/${id}/cancel`);\n  },\n  checkOrderStatus(id) {\n    return apiClient.get(`/orders/public/${id}`);\n  }\n};\n\n// API news\nexport const newsApi = {\n  getNewsList(params = {}) {\n    return apiClient.get('/news', { params });\n  },\n  getNews(id) {\n    return apiClient.get(`/news/${id}`);\n  },\n  createNews(newsData) {\n    return apiClient.post('/news', newsData);\n  },\n  updateNews(id, newsData) {\n    return apiClient.put(`/news/${id}`, newsData);\n  },\n  deleteNews(id) {\n    return apiClient.delete(`/news/${id}`);\n  }\n};\n\nexport default {\n  auth: authApi,\n  user: userApi,\n  session: sessionApi,\n  product: productApi,\n  category: categoryApi,\n  order: orderApi,\n  news: newsApi\n}; ","<template>\n  <div class=\"home\">\n    <!-- Hero Section with animation -->\n    <div class=\"hero-section\">\n      <div class=\"container mx-auto px-4 py-16 md:py-24\">\n        <div class=\"grid grid-cols-1 md:grid-cols-2 gap-8 items-center\">\n          <div class=\"hero-content\" data-aos=\"fade-right\">\n            <h1 class=\"text-4xl md:text-5xl font-bold text-gray-800 mb-4\">Sâm Ngọc Linh<br><span class=\"text-green-600\">Chất Lượng Cao</span></h1>\n            <p class=\"text-lg text-gray-600 mb-8\">\n              Sản phẩm từ thiên nhiên, mang đến những dưỡng chất quý giá cho sức khỏe và sắc đẹp của bạn.\n            </p>\n            <div class=\"flex flex-wrap gap-4\">\n              <router-link \n                to=\"/products\" \n                class=\"btn-primary px-6 py-3 rounded-lg text-white bg-green-600 hover:bg-green-700 transition-all shadow-lg hover:shadow-xl transform hover:-translate-y-1\"\n              >\n                <i class=\"fas fa-shopping-basket mr-2\"></i> Xem sản phẩm\n              </router-link>\n              <router-link \n                to=\"/about\" \n                class=\"btn-outline px-6 py-3 rounded-lg border-2 border-green-600 text-green-600 hover:bg-green-50 transition-all\"\n              >\n                <i class=\"fas fa-info-circle mr-2\"></i> Tìm hiểu thêm\n              </router-link>\n            </div>\n          </div>\n          <div class=\"hero-image\" data-aos=\"fade-left\" data-aos-delay=\"200\">\n            <div class=\"relative\">\n              <div class=\"absolute -inset-4 bg-green-100 rounded-full opacity-70 animate-pulse\"></div>\n              <div class=\"relative z-10 overflow-hidden rounded-full p-2 bg-white shadow-2xl\">\n                <img \n                  :src=\"samTuoiImage\" \n                  alt=\"Sâm Ngọc Linh\" \n                  class=\"w-full h-auto rounded-full object-cover transform hover:scale-105 transition-transform duration-500\"\n                >\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Benefit Pills -->\n    <div class=\"benefits-section bg-gray-50 py-10\">\n      <div class=\"container mx-auto px-4\">\n        <div class=\"flex flex-wrap justify-center gap-4 md:gap-8\">\n          <div class=\"benefit-pill\" data-aos=\"zoom-in\" data-aos-delay=\"100\">\n            <i class=\"fas fa-leaf text-green-500 mr-2\"></i>\n            <span>100% Tự Nhiên</span>\n          </div>\n          <div class=\"benefit-pill\" data-aos=\"zoom-in\" data-aos-delay=\"200\">\n            <i class=\"fas fa-medal text-green-500 mr-2\"></i>\n            <span>Chứng Nhận Chất Lượng</span>\n          </div>\n          <div class=\"benefit-pill\" data-aos=\"zoom-in\" data-aos-delay=\"300\">\n            <i class=\"fas fa-truck text-green-500 mr-2\"></i>\n            <span>Giao Hàng Toàn Quốc</span>\n          </div>\n          <div class=\"benefit-pill\" data-aos=\"zoom-in\" data-aos-delay=\"400\">\n            <i class=\"fas fa-shield-alt text-green-500 mr-2\"></i>\n            <span>Bảo Hành Sản Phẩm</span>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Featured Products -->\n    <div class=\"featured-products py-16\">\n      <div class=\"container mx-auto px-4\">\n        <div class=\"section-header text-center mb-12\" data-aos=\"fade-up\">\n          <span class=\"text-sm uppercase tracking-wider text-green-600 font-semibold\">Sản phẩm đặc biệt</span>\n          <h2 class=\"text-3xl md:text-4xl font-bold mt-2 mb-4\">Sản Phẩm Nổi Bật</h2>\n          <p class=\"text-gray-600 max-w-2xl mx-auto\">\n            Sâm Ngọc Linh được mệnh danh là \"quốc bảo\" của Việt Nam với nhiều công dụng quý giá cho sức khỏe.\n          </p>\n        </div>\n        \n        <div v-if=\"isLoading\" class=\"flex justify-center items-center py-20\">\n          <div class=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-green-600\"></div>\n        </div>\n        \n        <div v-else-if=\"error\" class=\"text-center py-10\">\n          <p class=\"text-red-500\">{{ error }}</p>\n          <button @click=\"fetchFeaturedProducts\" class=\"mt-4 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700\">\n            Thử lại\n          </button>\n        </div>\n        \n        <div v-else class=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          <!-- Sản phẩm với animation -->\n          <div \n            v-for=\"(product, index) in featuredProducts\" \n            :key=\"product.id\" \n            class=\"product-card group flex flex-col h-full\"\n            data-aos=\"fade-up\"\n            :data-aos-delay=\"index * 100\"\n          >\n            <div class=\"product-image overflow-hidden rounded-t-lg bg-gray-100 h-64 flex items-center justify-center\">\n              <router-link :to=\"`/product/${product.id}`\" class=\"w-full h-full flex items-center justify-center\">\n                <img \n                  :src=\"product.image\" \n                  :alt=\"product.name\" \n                  class=\"w-full h-full object-contain transform group-hover:scale-105 transition-transform duration-500\"\n                >\n              </router-link>\n            </div>\n            <div class=\"product-info p-6 bg-white rounded-b-lg shadow-md group-hover:shadow-xl transition-shadow flex flex-col h-60\">\n              <router-link :to=\"`/product/${product.id}`\">\n                <h3 class=\"product-title text-xl font-semibold text-gray-800 mb-2 h-14 line-clamp-2\">{{ product.name }}</h3>\n              </router-link>\n              <div class=\"flex items-center mb-2\">\n                <div class=\"flex text-yellow-400\">\n                  <i class=\"fas fa-star\"></i>\n                  <i class=\"fas fa-star\"></i>\n                  <i class=\"fas fa-star\"></i>\n                  <i class=\"fas fa-star\"></i>\n                  <i class=\"fas fa-star-half-alt\"></i>\n                </div>\n                <span class=\"text-sm text-gray-500 ml-2\">(4.5)</span>\n              </div>\n              <p class=\"product-description text-gray-600 mb-4 h-12 line-clamp-2\">{{ product.description }}</p>\n              <div class=\"flex flex-col mt-auto\">\n                <span class=\"product-price text-xl font-bold text-green-600 mb-2\">{{ formatPrice(product.price) }}</span>\n                <div class=\"flex space-x-2\">\n                  <button \n                    @click=\"addToCart(product)\" \n                    class=\"btn-add-cart h-10 px-2 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap flex-1 text-center flex items-center justify-center\"\n                  >\n                    <i class=\"fas fa-shopping-cart mr-1\"></i> Thêm\n                  </button>\n                  <button \n                    @click=\"buyNow(product)\" \n                    class=\"btn-buy-now h-10 px-2 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors whitespace-nowrap flex-1 text-center flex items-center justify-center\"\n                  >\n                    <i class=\"fas fa-bolt mr-1\"></i> Mua ngay\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"text-center mt-12\" data-aos=\"fade-up\">\n          <router-link \n            to=\"/products\" \n            class=\"btn-view-all inline-flex items-center px-6 py-3 border-2 border-green-600 text-green-600 rounded-lg hover:bg-green-50 transition-colors\"\n          >\n            Xem tất cả sản phẩm\n            <i class=\"fas fa-arrow-right ml-2\"></i>\n          </router-link>\n        </div>\n      </div>\n    </div>\n\n    <!-- Why Choose Us -->\n    <div class=\"features-section bg-gray-50 py-16\">\n      <div class=\"container mx-auto px-4\">\n        <div class=\"section-header text-center mb-12\" data-aos=\"fade-up\">\n          <span class=\"text-sm uppercase tracking-wider text-green-600 font-semibold\">Lý do chọn chúng tôi</span>\n          <h2 class=\"text-3xl md:text-4xl font-bold mt-2 mb-4\">Tại Sao Chọn Chúng Tôi?</h2>\n          <p class=\"text-gray-600 max-w-2xl mx-auto\">\n            Chúng tôi cam kết mang đến những sản phẩm Sâm Ngọc Linh chất lượng cao nhất.\n          </p>\n        </div>\n        \n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          <div class=\"feature-item text-center p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow\" data-aos=\"fade-up\" data-aos-delay=\"100\">\n            <div class=\"feature-icon w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <i class=\"fas fa-leaf text-green-600 text-2xl\"></i>\n            </div>\n            <h3 class=\"feature-title text-xl font-semibold mb-3\">100% Tự nhiên</h3>\n            <p class=\"feature-description text-gray-600\">\n              Sản phẩm được trồng và thu hoạch theo phương pháp tự nhiên, không chất bảo quản, đảm bảo an toàn cho sức khỏe người sử dụng.\n            </p>\n          </div>\n          \n          <div class=\"feature-item text-center p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow\" data-aos=\"fade-up\" data-aos-delay=\"200\">\n            <div class=\"feature-icon w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <i class=\"fas fa-certificate text-green-600 text-2xl\"></i>\n            </div>\n            <h3 class=\"feature-title text-xl font-semibold mb-3\">Chứng nhận chất lượng</h3>\n            <p class=\"feature-description text-gray-600\">\n              Đạt tiêu chuẩn chất lượng và được cấp giấy chứng nhận từ các cơ quan chức năng, đảm bảo nguồn gốc xuất xứ rõ ràng.\n            </p>\n          </div>\n          \n          <div class=\"feature-item text-center p-6 bg-white rounded-xl shadow-md hover:shadow-lg transition-shadow\" data-aos=\"fade-up\" data-aos-delay=\"300\">\n            <div class=\"feature-icon w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4\">\n              <i class=\"fas fa-shipping-fast text-green-600 text-2xl\"></i>\n            </div>\n            <h3 class=\"feature-title text-xl font-semibold mb-3\">Giao hàng nhanh chóng</h3>\n            <p class=\"feature-description text-gray-600\">\n              Sản phẩm được đóng gói cẩn thận và giao hàng nhanh chóng đến tận tay khách hàng trên toàn quốc.\n            </p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <!-- Testimonials Section -->\n    <div class=\"testimonials-section py-16\">\n      <div class=\"container mx-auto px-4\">\n        <div class=\"section-header text-center mb-12\" data-aos=\"fade-up\">\n          <span class=\"text-sm uppercase tracking-wider text-green-600 font-semibold\">Khách hàng nói gì</span>\n          <h2 class=\"text-3xl md:text-4xl font-bold mt-2 mb-4\">Đánh Giá Từ Khách Hàng</h2>\n          <p class=\"text-gray-600 max-w-2xl mx-auto\">\n            Những đánh giá chân thực từ khách hàng đã sử dụng sản phẩm của chúng tôi.\n          </p>\n        </div>\n        \n        <div class=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n          <div class=\"testimonial-card p-6 bg-white rounded-xl shadow-md\" data-aos=\"fade-up\" data-aos-delay=\"100\">\n            <div class=\"flex text-yellow-400 mb-4\">\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n            </div>\n            <p class=\"text-gray-600 mb-4 italic\">\n              \"Tôi đã sử dụng Sâm Ngọc Linh được 3 tháng và sức khỏe đã cải thiện đáng kể. Giấc ngủ sâu hơn và tinh thần luôn tỉnh táo.\"\n            </p>\n            <div class=\"flex items-center\">\n              <div class=\"w-12 h-12 bg-gray-200 rounded-full mr-4 overflow-hidden\">\n                <i class=\"fas fa-user text-gray-400 flex items-center justify-center h-full\"></i>\n              </div>\n              <div>\n                <h4 class=\"font-semibold\">Nguyễn Văn A</h4>\n                <p class=\"text-sm text-gray-500\">Khách hàng thân thiết</p>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"testimonial-card p-6 bg-white rounded-xl shadow-md\" data-aos=\"fade-up\" data-aos-delay=\"200\">\n            <div class=\"flex text-yellow-400 mb-4\">\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n            </div>\n            <p class=\"text-gray-600 mb-4 italic\">\n              \"Sản phẩm chất lượng cao, đóng gói cẩn thận và giao hàng nhanh. Tôi rất hài lòng với dịch vụ và sẽ tiếp tục ủng hộ.\"\n            </p>\n            <div class=\"flex items-center\">\n              <div class=\"w-12 h-12 bg-gray-200 rounded-full mr-4 overflow-hidden\">\n                <i class=\"fas fa-user text-gray-400 flex items-center justify-center h-full\"></i>\n              </div>\n              <div>\n                <h4 class=\"font-semibold\">Trần Thị B</h4>\n                <p class=\"text-sm text-gray-500\">Khách hàng mới</p>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"testimonial-card p-6 bg-white rounded-xl shadow-md\" data-aos=\"fade-up\" data-aos-delay=\"300\">\n            <div class=\"flex text-yellow-400 mb-4\">\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star-half-alt\"></i>\n            </div>\n            <p class=\"text-gray-600 mb-4 italic\">\n              \"Đã mua rượu sâm ngọc linh làm quà biếu và nhận được phản hồi rất tích cực. Giá cả hợp lý cho chất lượng sản phẩm.\"\n            </p>\n            <div class=\"flex items-center\">\n              <div class=\"w-12 h-12 bg-gray-200 rounded-full mr-4 overflow-hidden\">\n                <i class=\"fas fa-user text-gray-400 flex items-center justify-center h-full\"></i>\n              </div>\n              <div>\n                <h4 class=\"font-semibold\">Lê Văn C</h4>\n                <p class=\"text-sm text-gray-500\">Khách hàng VIP</p>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted } from 'vue'\nimport AOS from 'aos'\nimport api from '@/api'\nimport cart from '@/store/cart'\nimport { useRouter } from 'vue-router'\n\n// Initialize router\nconst router = useRouter()\n\n// Fix image path by using public path instead of relative import\nconst samTuoiImage = '/assets/images/products/sam-tuoi.png'\n\n// State for products\nconst featuredProducts = ref([])\nconst isLoading = ref(true)\nconst error = ref(null)\n\n// Format giá tiền\nfunction formatPrice(price) {\n  return new Intl.NumberFormat('vi-VN', {\n    style: 'currency',\n    currency: 'VND'\n  }).format(price).replace('₫', 'VNĐ')\n}\n\n// Fetch featured products from API\nasync function fetchFeaturedProducts() {\n  isLoading.value = true\n  error.value = null\n  \n  try {\n    // Fetch products with limit=3 to get only featured ones\n    const response = await api.product.getProducts({\n      page: 0,\n      size: 3,\n      sort: 'sold',\n      direction: 'desc'\n    })\n    \n    // Map API response to our format - updated to match actual API structure\n    featuredProducts.value = response.data.products.map(product => ({\n      id: product.id,\n      name: product.name,\n      description: product.description,\n      price: product.price,\n      image: product.image ? (product.image.startsWith('http') ? product.image : `${import.meta.env.VITE_API_URL}${product.image}`) : samTuoiImage,\n      slug: product.slug\n    }))\n  } catch (err) {\n    console.error('Error fetching products:', err)\n    error.value = 'Không thể tải sản phẩm. Vui lòng thử lại sau.'\n    \n    // Fallback to sample data if API fails\n    featuredProducts.value = [\n      {\n        id: 1,\n        name: 'Sâm Ngọc Linh tươi 10 năm tuổi',\n        description: 'Sâm ngọc linh tươi có tuổi đời 10 năm, được thu hoạch từ vùng núi Ngọc Linh, giữ nguyên dược tính quý giá.',\n        price: 2500000,\n        image: samTuoiImage,\n        slug: 'sam-ngoc-linh-tuoi-10-nam-tuoi'\n      },\n      {\n        id: 2,\n        name: 'Cao Sâm Ngọc Linh',\n        description: 'Cao sâm ngọc linh nguyên chất, tinh khiết, giúp bồi bổ sức khỏe hiệu quả, tăng cường hệ miễn dịch.',\n        price: 1800000,\n        image: samTuoiImage,\n        slug: 'cao-sam-ngoc-linh'\n      },\n      {\n        id: 3,\n        name: 'Rượu Sâm Ngọc Linh',\n        description: 'Rượu ngâm sâm ngọc linh, giúp tăng cường sinh lực và bồi bổ cơ thể, phù hợp cho người lớn tuổi.',\n        price: 1500000,\n        image: samTuoiImage,\n        slug: 'ruou-sam-ngoc-linh'\n      }\n    ]\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// Handle add to cart functionality\nfunction addToCart(product) {\n  cart.addToCart(product, 1)\n  alert(`Đã thêm ${product.name} vào giỏ hàng!`)\n}\n\n// Handle buy now functionality\nfunction buyNow(product) {\n  cart.addToCart(product, 1)\n  alert(`Đang chuyển đến trang thanh toán cho sản phẩm: ${product.name}`)\n  router.push('/checkout')\n}\n\n// Fetch data and initialize AOS on component mount\nonMounted(() => {\n  fetchFeaturedProducts()\n  AOS.refresh()\n})\n</script>\n\n<style lang=\"scss\">\n@use \"@/assets/styles/variables\" as *;\n\n// Custom styles for benefit pills\n.benefit-pill {\n  display: inline-flex;\n  align-items: center;\n  padding: 0.5rem 1rem;\n  background-color: white;\n  border-radius: 9999px;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  font-weight: 500;\n  color: #374151;\n  transition: transform 0.3s ease, box-shadow 0.3s ease;\n  \n  &:hover {\n    transform: translateY(-2px);\n    box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);\n  }\n}\n\n// Add animations\n.hero-section {\n  position: relative;\n  overflow: hidden;\n  \n  &::before {\n    content: '';\n    position: absolute;\n    top: 0;\n    right: 0;\n    width: 30%;\n    height: 100%;\n    background-color: rgba(220, 252, 231, 0.3); // green-100 with opacity\n    clip-path: polygon(100% 0, 0 0, 100% 100%);\n    z-index: 0;\n  }\n}\n\n// Custom animation for product cards\n@keyframes float {\n  0% { transform: translateY(0); }\n  50% { transform: translateY(-10px); }\n  100% { transform: translateY(0); }\n}\n\n.product-card {\n  transition: all 0.3s ease;\n  background-color: white;\n  border-radius: 0.5rem;\n  overflow: hidden;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  \n  &:hover {\n    transform: translateY(-8px);\n    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n  }\n  \n  .product-image {\n    height: 16rem;\n    background-color: #f9fafb;\n  }\n  \n  .product-info {\n    height: auto;\n    min-height: 15rem;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .btn-add-cart, .btn-buy-now {\n    transition: all 0.2s ease;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 0.875rem;\n    \n    &:hover {\n      transform: translateY(-2px);\n    }\n  }\n  \n  .btn-add-cart {\n    background-color: #16a34a;\n    &:hover {\n      background-color: #15803d;\n    }\n  }\n  \n  .btn-buy-now {\n    background-color: #f97316;\n    &:hover {\n      background-color: #ea580c;\n    }\n  }\n}\n\n// Using @apply for utility classes\n.line-clamp-2 {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n</style> ","<template>\n  <div class=\"product-detail\">\n    <!-- Loading state -->\n    <div v-if=\"isLoading\" class=\"container mx-auto px-4 py-20 flex justify-center\">\n      <div class=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-green-600\"></div>\n    </div>\n    \n    <!-- Error state -->\n    <div v-else-if=\"error\" class=\"container mx-auto px-4 py-10\">\n      <div class=\"bg-red-50 p-6 rounded-lg\">\n        <h2 class=\"text-xl font-semibold text-red-700 mb-2\">Lỗi</h2>\n        <p class=\"text-red-600 mb-4\">{{ error }}</p>\n        <div class=\"flex space-x-4\">\n          <button \n            @click=\"fetchProduct\" \n            class=\"px-4 py-2 bg-red-100 text-red-700 rounded-md hover:bg-red-200\"\n          >\n            Thử lại\n          </button>\n          <router-link \n            to=\"/products\" \n            class=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200\"\n          >\n            Quay lại trang sản phẩm\n          </router-link>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Product content -->\n    <div v-else-if=\"product\" class=\"container mx-auto px-4 py-10\">\n      <nav class=\"text-sm mb-6\" aria-label=\"Breadcrumb\">\n        <ol class=\"flex items-center space-x-2\">\n          <li>\n            <router-link to=\"/\" class=\"text-gray-500 hover:text-green-600\">Trang chủ</router-link>\n          </li>\n          <li>\n            <span class=\"text-gray-500\">/</span>\n          </li>\n          <li>\n            <router-link to=\"/products\" class=\"text-gray-500 hover:text-green-600\">Sản phẩm</router-link>\n          </li>\n          <li>\n            <span class=\"text-gray-500\">/</span>\n          </li>\n          <li>\n            <span class=\"text-gray-900 font-medium\">{{ product.name }}</span>\n          </li>\n        </ol>\n      </nav>\n      \n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-10\">\n        <!-- Product images -->\n        <div data-aos=\"fade-right\">\n          <div class=\"bg-white rounded-lg overflow-hidden shadow-md\">\n            <img \n              :src=\"product.image\" \n              :alt=\"product.name\" \n              class=\"w-full h-auto object-contain\"\n              style=\"max-height: 500px;\"\n            >\n          </div>\n          \n          <!-- Additional images or thumbnails would go here -->\n          <div class=\"hidden mt-4 grid grid-cols-4 gap-2\">\n            <div class=\"cursor-pointer border rounded overflow-hidden\">\n              <img :src=\"product.image\" alt=\"\" class=\"w-full h-20 object-cover\">\n            </div>\n          </div>\n        </div>\n        \n        <!-- Product info -->\n        <div data-aos=\"fade-left\">\n          <h1 class=\"text-3xl font-bold text-gray-900 mb-4\">{{ product.name }}</h1>\n          \n          <div class=\"flex items-center mb-4\">\n            <div class=\"flex text-yellow-400\">\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star\"></i>\n              <i class=\"fas fa-star-half-alt\"></i>\n            </div>\n            <span class=\"text-sm text-gray-500 ml-2\">({{ product.rating || '4.5' }})</span>\n            <span class=\"mx-4 text-gray-300\">|</span>\n            <span class=\"text-sm text-gray-500\">Đã bán: {{ product.sold || '0' }}</span>\n          </div>\n          \n          <div class=\"mb-6\">\n            <span class=\"text-3xl font-bold text-green-600\">{{ formatPrice(product.price) }}</span>\n            <span v-if=\"product.originalPrice && product.originalPrice > product.price\" class=\"ml-3 text-lg text-gray-400 line-through\">\n              {{ formatPrice(product.originalPrice) }}\n            </span>\n            <span v-if=\"product.originalPrice && product.originalPrice > product.price\" class=\"ml-3 bg-red-100 text-red-700 px-2 py-1 rounded text-sm\">\n              {{ Math.round((1 - product.price / product.originalPrice) * 100) }}% giảm\n            </span>\n          </div>\n          \n          <div class=\"border-t border-b py-6 my-6\">\n            <div class=\"mb-4\">\n              <h3 class=\"text-gray-700 font-medium mb-2\">Mô tả sản phẩm</h3>\n              <p class=\"text-gray-600\">{{ product.description }}</p>\n            </div>\n            \n            <div class=\"flex flex-col space-y-4 mt-6\">\n              <div class=\"flex items-center\">\n                <span class=\"w-32 text-gray-700\">Danh mục:</span>\n                <span class=\"text-gray-600\">{{ getCategoryName(product.categoryId) }}</span>\n              </div>\n              <div class=\"flex items-center\">\n                <span class=\"w-32 text-gray-700\">Trạng thái:</span>\n                <span v-if=\"product.stock > 0\" class=\"text-green-600\">Còn hàng</span>\n                <span v-else class=\"text-red-600\">Hết hàng</span>\n              </div>\n              <div class=\"flex items-center\">\n                <span class=\"w-32 text-gray-700\">Xuất xứ:</span>\n                <span class=\"text-gray-600\">Kon Tum, Việt Nam</span>\n              </div>\n            </div>\n          </div>\n          \n          <div class=\"flex items-center mb-6\">\n            <div class=\"mr-5\">\n              <label for=\"quantity\" class=\"text-gray-700 font-medium block mb-2\">Số lượng</label>\n              <div class=\"flex border rounded overflow-hidden\">\n                <button \n                  @click=\"decreaseQuantity\" \n                  class=\"px-3 py-1 bg-gray-100 hover:bg-gray-200\"\n                  :disabled=\"quantity <= 1\"\n                >\n                  <i class=\"fas fa-minus\"></i>\n                </button>\n                <input \n                  id=\"quantity\" \n                  v-model.number=\"quantity\" \n                  type=\"number\" \n                  min=\"1\" \n                  max=\"99\" \n                  class=\"w-16 text-center border-x focus:outline-none py-1\"\n                >\n                <button \n                  @click=\"increaseQuantity\" \n                  class=\"px-3 py-1 bg-gray-100 hover:bg-gray-200\"\n                  :disabled=\"product.stock === 0 || quantity >= product.stock\"\n                >\n                  <i class=\"fas fa-plus\"></i>\n                </button>\n              </div>\n            </div>\n            <div v-if=\"product.stock > 0\" class=\"text-sm text-gray-500\">\n              Còn {{ product.stock }} sản phẩm\n            </div>\n          </div>\n          \n          <div class=\"flex space-x-4\">\n            <button \n              @click=\"addToCart\" \n              class=\"flex-1 px-6 py-3 bg-green-600 hover:bg-green-700 text-white rounded-md font-medium transition-colors\"\n              :disabled=\"product.stock === 0\"\n              :class=\"{ 'opacity-50 cursor-not-allowed': product.stock === 0 }\"\n            >\n              <i class=\"fas fa-shopping-cart mr-2\"></i> Thêm vào giỏ hàng\n            </button>\n            <button \n              @click=\"buyNow\"\n              class=\"flex-1 px-6 py-3 bg-orange-500 hover:bg-orange-600 text-white rounded-md font-medium transition-colors\"\n              :disabled=\"product.stock === 0\"\n              :class=\"{ 'opacity-50 cursor-not-allowed': product.stock === 0 }\"\n            >\n              Mua ngay\n            </button>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Product details tabs -->\n      <div class=\"mt-16\" data-aos=\"fade-up\">\n        <div class=\"border-b mb-6\">\n          <div class=\"flex space-x-8\">\n            <button \n              @click=\"activeTab = 'description'\" \n              class=\"py-2 px-4 font-medium transition-colors border-b-2\"\n              :class=\"activeTab === 'description' ? 'text-green-600 border-green-600' : 'text-gray-500 border-transparent hover:text-green-600'\"\n            >\n              Chi tiết sản phẩm\n            </button>\n            <button \n              @click=\"activeTab = 'specification'\" \n              class=\"py-2 px-4 font-medium transition-colors border-b-2\"\n              :class=\"activeTab === 'specification' ? 'text-green-600 border-green-600' : 'text-gray-500 border-transparent hover:text-green-600'\"\n            >\n              Thông số kỹ thuật\n            </button>\n            <button \n              @click=\"activeTab = 'reviews'\" \n              class=\"py-2 px-4 font-medium transition-colors border-b-2\"\n              :class=\"activeTab === 'reviews' ? 'text-green-600 border-green-600' : 'text-gray-500 border-transparent hover:text-green-600'\"\n            >\n              Đánh giá ({{ reviews.length }})\n            </button>\n          </div>\n        </div>\n        \n        <div v-if=\"activeTab === 'description'\" class=\"prose prose-green max-w-none\">\n          <div v-if=\"product.longDescription\" v-html=\"product.longDescription\"></div>\n          <div v-else>\n            <h3>Giới thiệu sản phẩm {{ product.name }}</h3>\n            <p>{{ product.description }}</p>\n            \n            <h3 class=\"mt-8\">Công dụng</h3>\n            <p>Sâm Ngọc Linh có tác dụng bồi bổ cơ thể, tăng cường sức đề kháng, chống mệt mỏi, tăng cường hệ miễn dịch. Đây là một trong những loại dược liệu quý nhất của Việt Nam.</p>\n            \n            <h3 class=\"mt-8\">Hướng dẫn sử dụng</h3>\n            <ul>\n              <li>Dùng trực tiếp: Có thể ngâm rượu hoặc ngâm mật ong để sử dụng</li>\n              <li>Dùng để sắc thuốc: Kết hợp với các vị thuốc khác để sắc uống</li>\n              <li>Liều dùng: Tùy theo thể trạng và mục đích sử dụng</li>\n            </ul>\n            \n            <h3 class=\"mt-8\">Bảo quản</h3>\n            <p>Bảo quản nơi khô ráo, tránh ánh nắng trực tiếp và độ ẩm cao. Nhiệt độ bảo quản tốt nhất từ 15-25 độ C.</p>\n          </div>\n        </div>\n        \n        <div v-else-if=\"activeTab === 'specification'\" class=\"bg-white p-6 rounded-lg shadow-sm\">\n          <table class=\"w-full\">\n            <tbody>\n              <tr class=\"border-b\">\n                <td class=\"py-3 text-gray-600 w-1/3\">Xuất xứ</td>\n                <td class=\"py-3 font-medium\">Kon Tum, Việt Nam</td>\n              </tr>\n              <tr class=\"border-b\">\n                <td class=\"py-3 text-gray-600\">Thương hiệu</td>\n                <td class=\"py-3 font-medium\">Sâm Ngọc Linh Kon Tum</td>\n              </tr>\n              <tr class=\"border-b\">\n                <td class=\"py-3 text-gray-600\">Loại sản phẩm</td>\n                <td class=\"py-3 font-medium\">{{ getCategoryName(product.categoryId) }}</td>\n              </tr>\n              <tr class=\"border-b\">\n                <td class=\"py-3 text-gray-600\">Hạn sử dụng</td>\n                <td class=\"py-3 font-medium\">24 tháng kể từ ngày sản xuất</td>\n              </tr>\n              <tr class=\"border-b\">\n                <td class=\"py-3 text-gray-600\">Trọng lượng</td>\n                <td class=\"py-3 font-medium\">{{ product.weight || '100g' }}</td>\n              </tr>\n              <tr>\n                <td class=\"py-3 text-gray-600\">Tiêu chuẩn</td>\n                <td class=\"py-3 font-medium\">Đạt tiêu chuẩn VSATTP</td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        \n        <div v-else-if=\"activeTab === 'reviews'\">\n          <div v-if=\"reviews.length === 0\" class=\"text-center py-10 bg-gray-50 rounded-lg\">\n            <i class=\"fas fa-comment-slash text-gray-400 text-4xl mb-4\"></i>\n            <h3 class=\"text-xl font-medium text-gray-700 mb-2\">Chưa có đánh giá nào</h3>\n            <p class=\"text-gray-500 mb-4\">Hãy là người đầu tiên đánh giá sản phẩm này</p>\n            <button class=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700\">\n              Viết đánh giá\n            </button>\n          </div>\n          \n          <div v-else>\n            <div v-for=\"review in reviews\" :key=\"review.id\" class=\"border-b py-6\">\n              <div class=\"flex items-start\">\n                <div class=\"flex-shrink-0 mr-4\">\n                  <div class=\"w-12 h-12 rounded-full bg-gray-300 flex items-center justify-center text-gray-600 text-lg font-semibold\">\n                    {{ review.userName.charAt(0) }}\n                  </div>\n                </div>\n                <div class=\"flex-grow\">\n                  <h4 class=\"font-medium\">{{ review.userName }}</h4>\n                  <div class=\"flex text-yellow-400 text-sm mt-1\">\n                    <i v-for=\"i in 5\" :key=\"i\" \n                       :class=\"[i <= review.rating ? 'fas fa-star' : 'far fa-star']\"></i>\n                  </div>\n                  <div class=\"mt-2 text-sm text-gray-500\">\n                    {{ new Date(review.date).toLocaleDateString('vi-VN') }}\n                  </div>\n                  <p class=\"mt-3 text-gray-700\">{{ review.comment }}</p>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Related products -->\n      <div class=\"mt-16\" data-aos=\"fade-up\" data-aos-delay=\"200\">\n        <h2 class=\"text-2xl font-bold mb-6\">Sản phẩm liên quan</h2>\n        \n        <div v-if=\"isLoadingRelated\" class=\"flex justify-center py-10\">\n          <div class=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-green-600\"></div>\n        </div>\n        \n        <div v-else-if=\"relatedProducts.length === 0\" class=\"text-center py-10 bg-gray-50 rounded-lg\">\n          <p class=\"text-gray-500\">Không tìm thấy sản phẩm liên quan</p>\n        </div>\n        \n        <div v-else class=\"grid grid-cols-1 md:grid-cols-4 gap-6\">\n          <div \n            v-for=\"relatedProduct in relatedProducts\" \n            :key=\"relatedProduct.id\"\n            class=\"group\"\n          >\n            <div class=\"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow\">\n              <router-link :to=\"`/product/${relatedProduct.id}`\">\n                <div class=\"h-48 overflow-hidden\">\n                  <img \n                    :src=\"relatedProduct.image\" \n                    :alt=\"relatedProduct.name\"\n                    class=\"w-full h-full object-contain transform group-hover:scale-105 transition-transform duration-500\"\n                  >\n                </div>\n              </router-link>\n              <div class=\"p-4\">\n                <router-link :to=\"`/product/${relatedProduct.id}`\">\n                  <h3 class=\"font-medium text-gray-900 mb-2 group-hover:text-green-600 transition-colors line-clamp-2\">\n                    {{ relatedProduct.name }}\n                  </h3>\n                </router-link>\n                \n                <!-- Price or \"Hết hàng\" text -->\n                <div v-if=\"relatedProduct.stock > 0\" class=\"text-green-600 font-bold\">\n                  {{ formatPrice(relatedProduct.price) }}\n                </div>\n                <div v-else class=\"text-red-500 font-bold\">\n                  Hết hàng\n                </div>\n                \n                <!-- Add to cart or contact button -->\n                <button \n                  v-if=\"relatedProduct.stock > 0\"\n                  @click=\"addToCartQuick(relatedProduct)\"\n                  class=\"mt-3 w-full py-2 bg-gray-100 hover:bg-green-600 hover:text-white text-gray-700 rounded text-sm transition-colors\"\n                >\n                  <i class=\"fas fa-cart-plus mr-1\"></i> Thêm vào giỏ\n                </button>\n                <button \n                  v-else\n                  @click=\"contactUs\"\n                  class=\"mt-3 w-full py-2 bg-yellow-500 hover:bg-yellow-600 text-white rounded text-sm transition-colors\"\n                >\n                  <i class=\"fas fa-phone mr-1\"></i> Liên hệ đặt hàng\n                </button>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport api from '@/api'\nimport AOS from 'aos'\nimport notificationService from '@/utils/notificationService'\nimport cart from '@/store/cart'\n\nconst route = useRoute()\nconst router = useRouter()\n\n// Default image\nconst defaultImage = '/assets/images/products/sam-tuoi.png'\n\n// State\nconst product = ref(null)\nconst isLoading = ref(true)\nconst error = ref(null)\nconst quantity = ref(1)\nconst activeTab = ref('description')\n\n// Related products\nconst relatedProducts = ref([])\nconst isLoadingRelated = ref(false)\n\n// Placeholder reviews (in a real app, you'd fetch these from an API)\nconst reviews = ref([\n  {\n    id: 1,\n    userName: 'Nguyễn Văn A',\n    rating: 5,\n    date: '2023-05-15',\n    comment: 'Sản phẩm chất lượng cao, đóng gói cẩn thận. Mình đã dùng được một tuần và cảm thấy rất tốt. Sẽ mua lại!'\n  },\n  {\n    id: 2,\n    userName: 'Trần Thị B',\n    rating: 4,\n    date: '2023-04-22',\n    comment: 'Hàng đúng như mô tả, giao hàng nhanh. Đã mua nhiều lần và vẫn tin tưởng shop.'\n  }\n])\n\n// Categories for matching category names\nconst categories = ref([\n  { id: 1, name: 'Sâm tươi' },\n  { id: 2, name: 'Cao sâm' },\n  { id: 3, name: 'Rượu sâm' },\n  { id: 4, name: 'Trà sâm' }\n])\n\n// Helper function to format price\nfunction formatPrice(price) {\n  return new Intl.NumberFormat('vi-VN', {\n    style: 'currency',\n    currency: 'VND'\n  }).format(price).replace('₫', 'VNĐ')\n}\n\n// Get category name from id\nfunction getCategoryName(categoryId) {\n  const category = categories.value.find(c => c.id === categoryId)\n  return category ? category.name : 'Sâm Ngọc Linh'\n}\n\n// Fetch product data\nasync function fetchProduct() {\n  isLoading.value = true\n  error.value = null\n  \n  try {\n    const productId = route.params.id\n    const response = await api.product.getProduct(productId)\n    \n    // Map API response to product object\n    product.value = {\n      id: response.data.id,\n      name: response.data.name,\n      description: response.data.description,\n      longDescription: response.data.longDescription,\n      price: response.data.price,\n      originalPrice: response.data.originalPrice,\n      image: response.data.image ? (response.data.image.startsWith('http') ? response.data.image : `http://localhost:8080${response.data.image}`) : defaultImage,\n      rating: response.data.rating || 4.5,\n      sold: response.data.sold || 0,\n      stock: response.data.stock || 10,\n      categoryId: response.data.categoryId,\n      weight: response.data.weight\n    }\n    \n    // Also fetch categories if they haven't been fetched yet\n    if (categories.value.length === 0) {\n      fetchCategories()\n    }\n    \n    // After successfully fetching the product, fetch related products\n    fetchRelatedProducts(response.data.categoryId)\n  } catch (err) {\n    console.error('Error fetching product:', err)\n    error.value = 'Không thể tải thông tin sản phẩm. Vui lòng thử lại sau.'\n    \n    // Fallback data for development\n    product.value = {\n      id: route.params.id,\n      name: 'Sâm Ngọc Linh Tươi',\n      description: 'Sâm ngọc linh tươi được thu hoạch từ vùng núi Ngọc Linh, có tuổi đời từ 10-15 năm.',\n      price: 2500000,\n      originalPrice: 3000000,\n      image: defaultImage,\n      rating: 4.5,\n      sold: 124,\n      stock: 10,\n      categoryId: 1\n    }\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// Fetch categories (could be moved to a global store in a real app)\nasync function fetchCategories() {\n  try {\n    const response = await api.category.getCategories()\n    categories.value = response.data\n  } catch (err) {\n    console.error('Error fetching categories:', err)\n    // We already have fallback categories defined\n  }\n}\n\n// Fetch related products\nasync function fetchRelatedProducts(categoryId) {\n  if (!categoryId) return\n  \n  isLoadingRelated.value = true\n  \n  try {\n    // Get products from the same category, limit to 4\n    const params = {\n      page: 0,\n      size: 4\n    }\n    \n    const response = await api.category.getCategoryProducts(categoryId, params)\n    \n    // Map and filter out the current product\n    relatedProducts.value = response.data.products\n      .filter(p => p.id !== product.value.id)\n      .map(p => ({\n        id: p.id,\n        name: p.name,\n        price: p.price,\n        image: p.image ? (p.image.startsWith('http') ? p.image : `http://localhost:8080${p.image}`) : defaultImage,\n        stock: p.stock || 0\n      }))\n      .slice(0, 4) // Ensure we only have 4 products max\n      \n    // If we don't have enough related products, get some from any category\n    if (relatedProducts.value.length < 4) {\n      const moreParams = {\n        page: 0,\n        size: 4 - relatedProducts.value.length\n      }\n      \n      const moreResponse = await api.product.getProducts(moreParams)\n      \n      const moreProducts = moreResponse.data.products\n        .filter(p => p.id !== product.value.id && !relatedProducts.value.some(rp => rp.id === p.id))\n        .map(p => ({\n          id: p.id,\n          name: p.name,\n          price: p.price,\n          image: p.image ? (p.image.startsWith('http') ? p.image : `http://localhost:8080${p.image}`) : defaultImage,\n          stock: p.stock || 0\n        }))\n        \n      relatedProducts.value = [...relatedProducts.value, ...moreProducts]\n    }\n  } catch (err) {\n    console.error('Error fetching related products:', err)\n    \n    // Fallback data\n    relatedProducts.value = [\n      {\n        id: 2,\n        name: 'Cao Sâm Ngọc Linh',\n        price: 1800000,\n        image: defaultImage,\n        stock: 5\n      },\n      {\n        id: 3,\n        name: 'Rượu Sâm Ngọc Linh',\n        price: 1500000,\n        image: defaultImage,\n        stock: 0\n      },\n      {\n        id: 4,\n        name: 'Trà Sâm Ngọc Linh',\n        price: 800000,\n        image: defaultImage,\n        stock: 10\n      }\n    ]\n  } finally {\n    isLoadingRelated.value = false\n  }\n}\n\n// Quantity management\nfunction increaseQuantity() {\n  if (product.value && product.value.stock > quantity.value) {\n    quantity.value++\n  }\n}\n\nfunction decreaseQuantity() {\n  if (quantity.value > 1) {\n    quantity.value--\n  }\n}\n\n// Cart functions\nfunction addToCart() {\n  if (!product.value) return\n  \n  // Add to cart and show notification\n  cart.addToCart(product.value, quantity.value)\n  notificationService.cart(product.value, quantity.value)\n}\n\nfunction addToCartQuick(relatedProduct) {\n  // Add to cart and show notification\n  cart.addToCart(relatedProduct, 1)\n  notificationService.cart(relatedProduct)\n}\n\nfunction buyNow() {\n  if (!product.value) return\n  \n  // Add to cart and redirect to checkout\n  cart.addToCart(product.value, quantity.value)\n  notificationService.show(`Đang chuyển đến trang thanh toán cho ${quantity.value} sản phẩm \"${product.value.name}\"`, {\n    title: 'Thanh toán ngay'\n  })\n  \n  // Delay navigation slightly to allow notification to show\n  setTimeout(() => {\n    router.push('/checkout')\n  }, 800)\n}\n\n// Function to handle contact button\nfunction contactUs() {\n  notificationService.show(\n    'Vui lòng gọi đến số 0123.456.789 để đặt sản phẩm hoặc truy cập trang liên hệ.', \n    { \n      title: 'Thông tin liên hệ',\n      duration: 5000\n    }\n  )\n  \n  // Optional: Navigate to contact page after a delay\n  setTimeout(() => {\n    router.push('/contact')\n  }, 2000)\n}\n\n// Watch for route changes to reload the product when navigating between product pages\nwatch(() => route.params.id, (newId, oldId) => {\n  if (newId !== oldId) {\n    fetchProduct()\n    window.scrollTo(0, 0)\n  }\n})\n\n// Lifecycle\nonMounted(() => {\n  fetchProduct()\n  AOS.refresh()\n})\n</script>\n\n<style lang=\"scss\">\n.prose {\n  h3 {\n    font-size: 1.25rem;\n    font-weight: 600;\n    margin-top: 1.5rem;\n    margin-bottom: 0.75rem;\n    color: #1f2937;\n  }\n  \n  p {\n    margin-bottom: 1rem;\n    line-height: 1.6;\n  }\n  \n  ul {\n    list-style-type: disc;\n    padding-left: 1.5rem;\n    margin-bottom: 1rem;\n    \n    li {\n      margin-bottom: 0.5rem;\n    }\n  }\n}\n\n.line-clamp-2 {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n</style> ","<template>\r\n  <transition name=\"confirm-dialog\">\r\n    <div v-if=\"show\" class=\"fixed inset-0 z-50 flex items-center justify-center backdrop-blur-[2px] bg-black/30\">\r\n      <div class=\"bg-white rounded-lg shadow-2xl overflow-hidden max-w-md w-full mx-4 scale-animation\">\r\n        <!-- Header -->\r\n        <div class=\"bg-gradient-to-r from-gray-700 to-gray-600 p-4 flex items-center justify-between\">\r\n          <h3 class=\"text-white font-bold\">{{ title }}</h3>\r\n          <button @click=\"cancel\" class=\"text-white hover:text-gray-200\">\r\n            <i class=\"fas fa-times\"></i>\r\n          </button>\r\n        </div>\r\n        \r\n        <!-- Content -->\r\n        <div class=\"p-6\">\r\n          <div class=\"flex mb-6\">\r\n            <div class=\"mr-4 text-yellow-500 text-2xl\">\r\n              <i class=\"fas fa-exclamation-triangle\"></i>\r\n            </div>\r\n            <div>\r\n              <p class=\"text-gray-700\">{{ message }}</p>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Actions -->\r\n          <div class=\"flex justify-end gap-3\">\r\n            <button \r\n              @click=\"cancel\" \r\n              class=\"px-4 py-2 bg-gray-200 hover:bg-gray-300 text-gray-800 rounded\"\r\n            >\r\n              {{ cancelText }}\r\n            </button>\r\n            <button \r\n              @click=\"confirm\" \r\n              class=\"px-4 py-2 bg-red-500 hover:bg-red-600 text-white rounded\"\r\n            >\r\n              {{ confirmText }}\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </transition>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, watch } from 'vue'\r\n\r\nconst props = defineProps({\r\n  show: {\r\n    type: Boolean,\r\n    default: false\r\n  },\r\n  title: {\r\n    type: String,\r\n    default: 'Xác nhận'\r\n  },\r\n  message: {\r\n    type: String,\r\n    default: 'Bạn có chắc chắn muốn thực hiện hành động này?'\r\n  },\r\n  confirmText: {\r\n    type: String,\r\n    default: 'Xác nhận'\r\n  },\r\n  cancelText: {\r\n    type: String,\r\n    default: 'Huỷ'\r\n  }\r\n})\r\n\r\nconst emit = defineEmits(['confirm', 'cancel'])\r\n\r\nconst confirm = () => {\r\n  emit('confirm')\r\n}\r\n\r\nconst cancel = () => {\r\n  emit('cancel')\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.scale-animation {\r\n  animation: pop-in 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;\r\n}\r\n\r\n.confirm-dialog-enter-active, .confirm-dialog-leave-active {\r\n  transition: all 0.3s ease;\r\n}\r\n\r\n.confirm-dialog-enter-from, .confirm-dialog-leave-to {\r\n  opacity: 0;\r\n}\r\n\r\n.confirm-dialog-enter-from .scale-animation {\r\n  transform: scale(0.8);\r\n}\r\n\r\n.confirm-dialog-leave-to .scale-animation {\r\n  transform: scale(0.8);\r\n}\r\n\r\n@keyframes pop-in {\r\n  0% {\r\n    transform: scale(0.8);\r\n    opacity: 0;\r\n  }\r\n  100% {\r\n    transform: scale(1);\r\n    opacity: 1;\r\n  }\r\n}\r\n</style> ","<template>\r\n  <div class=\"cart-page py-8\">\r\n    <div class=\"container mx-auto px-4\">\r\n      <h1 class=\"text-3xl font-bold mb-8\">Giỏ hàng của bạn</h1>\r\n      \r\n      <div v-if=\"cartItems.length === 0\" class=\"bg-white rounded-xl shadow-sm p-8 text-center\">\r\n        <div class=\"mb-4\">\r\n          <i class=\"fas fa-shopping-cart text-gray-300 text-6xl\"></i>\r\n        </div>\r\n        <h2 class=\"text-2xl font-medium text-gray-700 mb-4\">Giỏ hàng của bạn đang trống</h2>\r\n        <p class=\"text-gray-500 mb-6\">Hãy thêm sản phẩm vào giỏ hàng để tiến hành thanh toán.</p>\r\n        <router-link to=\"/products\" class=\"inline-block bg-green-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-green-500 transition-colors\">\r\n          Tiếp tục mua sắm\r\n        </router-link>\r\n      </div>\r\n      \r\n      <div v-else class=\"grid grid-cols-1 lg:grid-cols-3 gap-8\">\r\n        <!-- Danh sách sản phẩm -->\r\n        <div class=\"lg:col-span-2\">\r\n          <div class=\"bg-white rounded-xl shadow-sm overflow-hidden mb-6\">\r\n            <div class=\"p-6 border-b border-gray-200\">\r\n              <h2 class=\"text-xl font-semibold text-gray-800\">Sản phẩm ({{ cartItemCount }})</h2>\r\n            </div>\r\n            \r\n            <ul class=\"divide-y divide-gray-200\">\r\n              <li v-for=\"item in cartItems\" :key=\"item.id\" class=\"p-6\">\r\n                <div class=\"flex flex-col sm:flex-row\">\r\n                  <div class=\"w-full sm:w-24 h-24 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0 mb-4 sm:mb-0 sm:mr-4\">\r\n                    <img :src=\"item.image\" :alt=\"item.name\" class=\"w-full h-full object-cover\">\r\n                  </div>\r\n                  \r\n                  <div class=\"flex-grow\">\r\n                    <div class=\"flex flex-col sm:flex-row sm:items-start sm:justify-between mb-2\">\r\n                      <h3 class=\"font-medium text-gray-800 mb-1 sm:mb-0\">{{ item.name }}</h3>\r\n                      <div class=\"text-green-600 font-bold\">{{ formatPrice(item.price * item.quantity) }}</div>\r\n                    </div>\r\n                    \r\n                    <div class=\"flex-grow text-sm text-gray-600 mb-4\">{{ formatPrice(item.price) }} / sản phẩm</div>\r\n                    \r\n                    <div class=\"flex flex-col sm:flex-row sm:items-center sm:justify-between\">\r\n                      <div class=\"flex items-center\">\r\n                        <button \r\n                          @click=\"updateQuantity(item.id, item.quantity - 1)\"\r\n                          class=\"w-8 h-8 flex items-center justify-center border border-gray-300 rounded-l text-gray-500 hover:bg-gray-100\"\r\n                        >\r\n                          <i class=\"fas fa-minus\"></i>\r\n                        </button>\r\n                        <input \r\n                          type=\"number\" \r\n                          :value=\"item.quantity\" \r\n                          min=\"1\"\r\n                          @input=\"e => updateQuantity(item.id, parseInt(e.target.value) || 1)\"\r\n                          class=\"w-12 h-8 border-t border-b border-gray-300 text-center\" \r\n                        />\r\n                        <button \r\n                          @click=\"updateQuantity(item.id, item.quantity + 1)\"\r\n                          class=\"w-8 h-8 flex items-center justify-center border border-gray-300 rounded-r text-gray-500 hover:bg-gray-100\"\r\n                        >\r\n                          <i class=\"fas fa-plus\"></i>\r\n                        </button>\r\n                      </div>\r\n                      \r\n                      <button \r\n                        @click=\"removeItem(item.id)\"\r\n                        class=\"mt-2 sm:mt-0 text-red-500 text-sm hover:text-red-700 flex items-center transition-colors\"\r\n                      >\r\n                        <i class=\"fas fa-trash mr-1\"></i> Xóa\r\n                      </button>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          \r\n          <div class=\"flex justify-between\">\r\n            <router-link to=\"/products\" class=\"text-green-600 hover:text-green-700 font-medium flex items-center transition-colors\">\r\n              <i class=\"fas fa-arrow-left mr-2\"></i> Tiếp tục mua sắm\r\n            </router-link>\r\n            \r\n            <button \r\n              @click=\"clearCart\"\r\n              class=\"text-red-500 hover:text-red-700 font-medium flex items-center transition-colors\"\r\n            >\r\n              <i class=\"fas fa-trash mr-2\"></i> Xóa tất cả\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Tóm tắt đơn hàng -->\r\n        <div class=\"lg:col-span-1\">\r\n          <div class=\"bg-white rounded-xl shadow-sm overflow-hidden\">\r\n            <div class=\"p-6 border-b border-gray-200\">\r\n              <h2 class=\"text-xl font-semibold text-gray-800\">Tóm tắt đơn hàng</h2>\r\n            </div>\r\n            \r\n            <div class=\"p-6\">\r\n              <div class=\"space-y-4\">\r\n                <div class=\"flex justify-between\">\r\n                  <div class=\"text-gray-600\">Tạm tính</div>\r\n                  <div class=\"font-medium\">{{ formatPrice(cartTotal) }}</div>\r\n                </div>\r\n                \r\n                <div class=\"flex justify-between\">\r\n                  <div class=\"text-gray-600\">Phí vận chuyển</div>\r\n                  <div class=\"font-medium\">Miễn phí</div>\r\n                </div>\r\n                \r\n                <div class=\"pt-4 border-t border-gray-200\">\r\n                  <div class=\"flex justify-between\">\r\n                    <div class=\"font-medium text-gray-800\">Tổng cộng</div>\r\n                    <div class=\"text-xl font-bold text-green-600\">{{ formatPrice(cartTotal) }}</div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <button \r\n                  @click=\"checkout\" \r\n                  class=\"w-full mt-4 bg-green-600 text-white py-3 px-6 rounded-lg font-medium hover:bg-green-500 transition-colors flex items-center justify-center\"\r\n                >\r\n                  <i class=\"fas fa-credit-card mr-2\"></i> Tiến hành thanh toán\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n    \r\n    <!-- Confirm Dialogs -->\r\n    <ConfirmDialog\r\n      :show=\"showRemoveItemDialog\"\r\n      title=\"Xoá sản phẩm\"\r\n      message=\"Bạn có chắc chắn muốn xóa sản phẩm này khỏi giỏ hàng?\"\r\n      @confirm=\"confirmRemoveItem\"\r\n      @cancel=\"cancelRemoveItem\"\r\n    />\r\n    \r\n    <ConfirmDialog\r\n      :show=\"showClearCartDialog\"\r\n      title=\"Xoá tất cả sản phẩm\"\r\n      message=\"Bạn có chắc chắn muốn xóa tất cả sản phẩm khỏi giỏ hàng?\"\r\n      @confirm=\"confirmClearCart\"\r\n      @cancel=\"cancelClearCart\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { computed, ref } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport cart from '@/store/cart'\r\nimport ConfirmDialog from '@/components/ConfirmDialog.vue'\r\n\r\nconst router = useRouter()\r\n\r\nconst cartItems = computed(() => cart.cartItems.value)\r\nconst cartTotal = computed(() => cart.cartTotal.value)\r\nconst cartItemCount = computed(() => cart.cartItemCount.value)\r\n\r\n// Confirm dialog states\r\nconst showRemoveItemDialog = ref(false)\r\nconst showClearCartDialog = ref(false)\r\nconst itemToRemove = ref(null)\r\n\r\n// Cập nhật số lượng sản phẩm\r\nfunction updateQuantity(productId, newQuantity) {\r\n  cart.updateCartItemQuantity(productId, newQuantity)\r\n}\r\n\r\n// Xóa sản phẩm khỏi giỏ hàng - open dialog\r\nfunction removeItem(productId) {\r\n  itemToRemove.value = productId\r\n  showRemoveItemDialog.value = true\r\n}\r\n\r\n// Confirm remove item\r\nfunction confirmRemoveItem() {\r\n  if (itemToRemove.value !== null) {\r\n    cart.removeFromCart(itemToRemove.value)\r\n    itemToRemove.value = null\r\n  }\r\n  showRemoveItemDialog.value = false\r\n}\r\n\r\n// Cancel remove item\r\nfunction cancelRemoveItem() {\r\n  itemToRemove.value = null\r\n  showRemoveItemDialog.value = false\r\n}\r\n\r\n// Xóa tất cả sản phẩm - open dialog\r\nfunction clearCart() {\r\n  showClearCartDialog.value = true\r\n}\r\n\r\n// Confirm clear cart\r\nfunction confirmClearCart() {\r\n  cart.clearCart()\r\n  showClearCartDialog.value = false\r\n}\r\n\r\n// Cancel clear cart\r\nfunction cancelClearCart() {\r\n  showClearCartDialog.value = false\r\n}\r\n\r\n// Tiến hành thanh toán\r\nfunction checkout() {\r\n  router.push('/checkout')\r\n}\r\n\r\n// Format giá tiền\r\nconst formatPrice = (price) => {\r\n  return new Intl.NumberFormat('vi-VN', { \r\n    style: 'currency', \r\n    currency: 'VND',\r\n    maximumFractionDigits: 0\r\n  }).format(price)\r\n}\r\n</script>\r\n\r\n<style scoped>\r\ninput[type=\"number\"]::-webkit-inner-spin-button,\r\ninput[type=\"number\"]::-webkit-outer-spin-button {\r\n  -webkit-appearance: none;\r\n  margin: 0;\r\n}\r\n</style> ","<template>\n  <div class=\"checkout-page py-8\">\n    <div class=\"container mx-auto px-4\">\n      <h1 class=\"text-2xl font-bold mb-6\">Thanh toán</h1>\n      \n      <div class=\"grid grid-cols-1 md:grid-cols-3 gap-8\">\n        <!-- Form thanh toán -->\n        <div class=\"md:col-span-2\">\n          <div class=\"bg-white p-6 rounded-lg shadow-md mb-6\">\n            <h2 class=\"text-xl font-semibold mb-4\">Thông tin giao hàng</h2>\n            \n            <div class=\"grid grid-cols-2 gap-4 mb-4\">\n              <div>\n                <label class=\"block text-sm font-medium mb-1\">Họ</label>\n                <input v-model=\"customerInfo.firstName\" type=\"text\" class=\"w-full border rounded-md p-2\" />\n              </div>\n              <div>\n                <label class=\"block text-sm font-medium mb-1\">Tên</label>\n                <input v-model=\"customerInfo.lastName\" type=\"text\" class=\"w-full border rounded-md p-2\" />\n              </div>\n            </div>\n            \n            <div class=\"mb-4\">\n              <label class=\"block text-sm font-medium mb-1\">Email</label>\n              <input v-model=\"customerInfo.email\" type=\"email\" class=\"w-full border rounded-md p-2\" />\n            </div>\n            \n            <div class=\"mb-4\">\n              <label class=\"block text-sm font-medium mb-1\">Số điện thoại</label>\n              <input v-model=\"customerInfo.phone\" type=\"tel\" class=\"w-full border rounded-md p-2\" />\n            </div>\n            \n            <div class=\"mb-4\">\n              <label class=\"block text-sm font-medium mb-1\">Địa chỉ</label>\n              <input v-model=\"customerInfo.address\" type=\"text\" class=\"w-full border rounded-md p-2\" />\n            </div>\n            \n            <div class=\"mb-4\">\n              <label class=\"block text-sm font-medium mb-1\">Ghi chú</label>\n              <textarea v-model=\"customerInfo.notes\" class=\"w-full border rounded-md p-2\" rows=\"3\"></textarea>\n            </div>\n          </div>\n          \n          <div class=\"bg-white p-6 rounded-lg shadow-md\">\n            <h2 class=\"text-xl font-semibold mb-4\">Phương thức thanh toán</h2>\n            \n            <div class=\"mb-4\">\n              <div class=\"flex items-center mb-2\">\n                <input type=\"radio\" id=\"cod\" name=\"payment\" class=\"mr-2\" v-model=\"paymentMethod\" value=\"cod\" checked />\n                <label for=\"cod\">Thanh toán khi nhận hàng (COD)</label>\n              </div>\n              <div class=\"flex items-center mb-2\">\n                <input type=\"radio\" id=\"bank\" name=\"payment\" class=\"mr-2\" v-model=\"paymentMethod\" value=\"bank\" />\n                <label for=\"bank\">Chuyển khoản ngân hàng</label>\n              </div>\n              <div class=\"flex items-center\">\n                <input type=\"radio\" id=\"card\" name=\"payment\" class=\"mr-2\" v-model=\"paymentMethod\" value=\"card\" />\n                <label for=\"card\">Thẻ tín dụng/Ghi nợ</label>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Tóm tắt đơn hàng -->\n        <div class=\"md:col-span-1\">\n          <div class=\"bg-white p-6 rounded-lg shadow-md\">\n            <h2 class=\"text-xl font-semibold mb-4\">Thông tin đơn hàng</h2>\n            \n            <div v-if=\"cartItems.length === 0\" class=\"text-center py-4 border-t border-b text-gray-500\">\n              Giỏ hàng của bạn đang trống\n            </div>\n            \n            <div v-else class=\"border-t border-b py-4 mb-4\">\n              <div v-for=\"item in cartItems\" :key=\"item.id\" class=\"flex justify-between items-center mb-3\">\n                <div>\n                  <p class=\"font-medium\">{{ item.name }}</p>\n                  <p class=\"text-sm text-gray-500\">SL: {{ item.quantity }}</p>\n                </div>\n                <p>{{ formatPrice(item.price * item.quantity) }}</p>\n              </div>\n            </div>\n            \n            <div class=\"mb-4\">\n              <div class=\"flex justify-between mb-2\">\n                <p>Tạm tính</p>\n                <p>{{ formatPrice(cartTotal) }}</p>\n              </div>\n              <div class=\"flex justify-between mb-2\">\n                <p>Phí vận chuyển</p>\n                <p>{{ formatPrice(shippingFee) }}</p>\n              </div>\n              <div class=\"flex justify-between font-bold\">\n                <p>Tổng cộng</p>\n                <p>{{ formatPrice(cartTotal + shippingFee) }}</p>\n              </div>\n            </div>\n            \n            <button \n              @click=\"placeOrder\" \n              class=\"w-full bg-green-600 text-white py-2 px-4 rounded-md hover:bg-green-700\"\n              :disabled=\"cartItems.length === 0\"\n            >\n              Đặt hàng\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Order Success Modal -->\n    <transition name=\"fade\">\n      <div v-if=\"showSuccessModal\" class=\"fixed inset-0 z-50 overflow-y-auto\" aria-labelledby=\"modal-title\" role=\"dialog\" aria-modal=\"true\">\n        <div class=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\n          <div class=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" aria-hidden=\"true\"></div>\n          \n          <span class=\"hidden sm:inline-block sm:align-middle sm:h-screen\" aria-hidden=\"true\">&#8203;</span>\n          \n          <div class=\"relative inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n            <div class=\"bg-white\">\n              <div class=\"flex flex-col items-center p-6 pt-8\">\n                <!-- Success animation -->\n                <div class=\"success-checkmark mb-4\">\n                  <div class=\"check-icon\">\n                    <span class=\"icon-line line-tip\"></span>\n                    <span class=\"icon-line line-long\"></span>\n                    <div class=\"icon-circle\"></div>\n                    <div class=\"icon-fix\"></div>\n                  </div>\n                </div>\n                \n                <h3 class=\"text-2xl font-bold text-gray-900 mb-2\" id=\"modal-title\">Đặt hàng thành công!</h3>\n                <p class=\"text-gray-500 text-center mb-6\">Cảm ơn bạn đã mua hàng. Đơn hàng của bạn đã được xác nhận.</p>\n                \n                <div class=\"border border-gray-200 rounded-lg p-5 w-full mb-6 bg-gray-50\">\n                  <div class=\"flex justify-between mb-3\">\n                    <span class=\"text-gray-600\">Mã đơn hàng:</span>\n                    <span class=\"font-semibold\">#{{ orderId }}</span>\n                  </div>\n                  <div class=\"flex justify-between mb-3\">\n                    <span class=\"text-gray-600\">Tổng tiền:</span>\n                    <span class=\"font-semibold\">{{ formatPrice(cartTotal + shippingFee) }}</span>\n                  </div>\n                  <div class=\"flex justify-between\">\n                    <span class=\"text-gray-600\">Phương thức thanh toán:</span>\n                    <span class=\"font-semibold\">{{ getPaymentMethod(paymentMethod) }}</span>\n                  </div>\n                </div>\n                \n                <div class=\"flex flex-col gap-2 w-full\">\n                  <button @click=\"closeSuccessModal\" class=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-3 bg-green-600 text-base font-medium text-white hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\">\n                    Tiếp tục mua sắm\n                  </button>\n                  <button @click=\"viewOrders\" class=\"w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-3 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500\">\n                    Xem đơn hàng của tôi\n                  </button>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </transition>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onBeforeUnmount } from 'vue'\nimport { useRouter } from 'vue-router'\nimport cart from '@/store/cart'\n\nconst router = useRouter()\n\nconst cartItems = computed(() => cart.cartItems.value)\nconst cartTotal = computed(() => cart.cartTotal.value)\nconst shippingFee = ref(30000) // Phí vận chuyển cố định\n\nconst customerInfo = ref({\n  firstName: '',\n  lastName: '',\n  email: '',\n  phone: '',\n  address: '',\n  notes: ''\n})\n\nconst paymentMethod = ref('cod')\nconst showSuccessModal = ref(false)\nconst orderId = ref(Math.floor(Math.random() * 1000000)) // Random order ID for demo\nlet redirectTimeout = null\n\n// Format giá tiền\nconst formatPrice = (price) => {\n  return new Intl.NumberFormat('vi-VN', { \n    style: 'currency', \n    currency: 'VND',\n    maximumFractionDigits: 0\n  }).format(price)\n}\n\n// Get readable payment method\nconst getPaymentMethod = (method) => {\n  switch(method) {\n    case 'cod': return 'Thanh toán khi nhận hàng (COD)'\n    case 'bank': return 'Chuyển khoản ngân hàng'\n    case 'card': return 'Thẻ tín dụng/Ghi nợ'\n    default: return 'Thanh toán khi nhận hàng (COD)'\n  }\n}\n\n// Đặt hàng\nconst placeOrder = () => {\n  if (cartItems.value.length === 0) {\n    alert('Giỏ hàng của bạn đang trống')\n    return\n  }\n  \n  // TODO: Gửi thông tin đơn hàng đến server\n  // Hiển thị modal thành công\n  showSuccessModal.value = true\n  \n  // Xóa giỏ hàng\n  cart.clearCart()\n  \n  // Set up auto-redirect after 8 seconds\n  redirectTimeout = setTimeout(() => {\n    closeSuccessModal()\n  }, 8000)\n}\n\n// Đóng modal và chuyển về trang chủ\nconst closeSuccessModal = () => {\n  showSuccessModal.value = false\n  if (redirectTimeout) {\n    clearTimeout(redirectTimeout)\n  }\n  router.push('/')\n}\n\n// Chuyển đến trang đơn hàng của tôi\nconst viewOrders = () => {\n  showSuccessModal.value = false\n  if (redirectTimeout) {\n    clearTimeout(redirectTimeout)\n  }\n  router.push('/my-orders')\n}\n\n// Clean up timeout\nonBeforeUnmount(() => {\n  if (redirectTimeout) {\n    clearTimeout(redirectTimeout)\n  }\n})\n</script>\n\n<style scoped>\n/* Fade transition */\n.fade-enter-active,\n.fade-leave-active {\n  transition: opacity 0.3s ease;\n}\n\n.fade-enter-from,\n.fade-leave-to {\n  opacity: 0;\n}\n\n/* Success Checkmark Animation */\n.success-checkmark {\n  width: 80px;\n  height: 80px;\n  position: relative;\n}\n\n.success-checkmark .check-icon {\n  width: 80px;\n  height: 80px;\n  position: relative;\n  border-radius: 50%;\n  box-sizing: content-box;\n  border: 4px solid #16a34a;\n}\n\n.success-checkmark .check-icon::before {\n  top: 3px;\n  left: -2px;\n  width: 30px;\n  transform-origin: 100% 50%;\n  border-radius: 100px 0 0 100px;\n}\n\n.success-checkmark .check-icon::after {\n  top: 0;\n  left: 30px;\n  width: 60px;\n  transform-origin: 0 50%;\n  border-radius: 0 100px 100px 0;\n  animation: rotate-circle 4.25s ease-in;\n}\n\n.success-checkmark .check-icon::before,\n.success-checkmark .check-icon::after {\n  content: '';\n  height: 100px;\n  position: absolute;\n  background: #FFFFFF;\n  transform: rotate(-45deg);\n}\n\n.success-checkmark .check-icon .icon-line {\n  height: 5px;\n  background-color: #16a34a;\n  display: block;\n  border-radius: 2px;\n  position: absolute;\n  z-index: 10;\n}\n\n.success-checkmark .check-icon .icon-line.line-tip {\n  top: 46px;\n  left: 14px;\n  width: 25px;\n  transform: rotate(45deg);\n  animation: icon-line-tip 0.75s;\n}\n\n.success-checkmark .check-icon .icon-line.line-long {\n  top: 38px;\n  right: 8px;\n  width: 47px;\n  transform: rotate(-45deg);\n  animation: icon-line-long 0.75s;\n}\n\n.success-checkmark .check-icon .icon-circle {\n  top: -4px;\n  left: -4px;\n  z-index: 10;\n  width: 80px;\n  height: 80px;\n  border-radius: 50%;\n  position: absolute;\n  box-sizing: content-box;\n  border: 4px solid #16a34a;\n  opacity: 0.5;\n  animation: circle-fill-anim 1s;\n}\n\n.success-checkmark .check-icon .icon-fix {\n  top: 8px;\n  width: 5px;\n  left: 26px;\n  z-index: 1;\n  height: 85px;\n  position: absolute;\n  transform: rotate(-45deg);\n  background-color: white;\n}\n\n@keyframes rotate-circle {\n  0% {\n    transform: rotate(-45deg);\n  }\n  5% {\n    transform: rotate(-45deg);\n  }\n  12% {\n    transform: rotate(-405deg);\n  }\n  100% {\n    transform: rotate(-405deg);\n  }\n}\n\n@keyframes icon-line-tip {\n  0% {\n    width: 0;\n    left: 1px;\n    top: 19px;\n  }\n  54% {\n    width: 0;\n    left: 1px;\n    top: 19px;\n  }\n  70% {\n    width: 50px;\n    left: -8px;\n    top: 37px;\n  }\n  84% {\n    width: 17px;\n    left: 21px;\n    top: 48px;\n  }\n  100% {\n    width: 25px;\n    left: 14px;\n    top: 46px;\n  }\n}\n\n@keyframes icon-line-long {\n  0% {\n    width: 0;\n    right: 46px;\n    top: 54px;\n  }\n  65% {\n    width: 0;\n    right: 46px;\n    top: 54px;\n  }\n  84% {\n    width: 55px;\n    right: 0px;\n    top: 35px;\n  }\n  100% {\n    width: 47px;\n    right: 8px;\n    top: 38px;\n  }\n}\n\n@keyframes circle-fill-anim {\n  0% {\n    opacity: 0;\n    transform: scale(0);\n  }\n  100% {\n    opacity: 0.5;\n    transform: scale(1);\n  }\n}\n</style> ","<template>\n  <div class=\"products-page\">\n    <div class=\"container mx-auto px-4 py-8\">\n      <div class=\"flex flex-col md:flex-row gap-8\">\n        <!-- Sidebar -->\n        <aside class=\"w-full md:w-64 flex-shrink-0\">\n          <div class=\"bg-white p-4 rounded-lg shadow-md\">\n            <h3 class=\"text-lg font-semibold mb-4\">Danh mục</h3>\n            <div class=\"space-y-2\">\n              <button \n                @click=\"selectedCategory = null\" \n                class=\"block w-full text-left px-3 py-2 rounded-md transition-colors\"\n                :class=\"!selectedCategory ? 'bg-green-100 text-green-700' : 'hover:bg-gray-100'\"\n              >\n                Tất cả sản phẩm\n              </button>\n              <button \n                v-for=\"category in categories\" \n                :key=\"category.id\"\n                @click=\"selectCategory(category.id)\"\n                class=\"block w-full text-left px-3 py-2 rounded-md transition-colors\"\n                :class=\"selectedCategory === category.id ? 'bg-green-100 text-green-700' : 'hover:bg-gray-100'\"\n              >\n                {{ category.name }}\n              </button>\n            </div>\n            \n            <div class=\"mt-6 border-t pt-4\">\n              <h3 class=\"text-lg font-semibold mb-4\">Giá</h3>\n              <div class=\"space-y-2\">\n                <div class=\"flex items-center\">\n                  <input \n                    type=\"checkbox\" \n                    id=\"price-1\" \n                    v-model=\"filters.price.under1m\"\n                    class=\"rounded text-green-600 focus:ring-green-500\"\n                  >\n                  <label for=\"price-1\" class=\"ml-2\">Dưới 1 triệu</label>\n                </div>\n                <div class=\"flex items-center\">\n                  <input \n                    type=\"checkbox\" \n                    id=\"price-2\" \n                    v-model=\"filters.price.from1mTo5m\"\n                    class=\"rounded text-green-600 focus:ring-green-500\"\n                  >\n                  <label for=\"price-2\" class=\"ml-2\">1 - 5 triệu</label>\n                </div>\n                <div class=\"flex items-center\">\n                  <input \n                    type=\"checkbox\" \n                    id=\"price-3\" \n                    v-model=\"filters.price.from5mTo10m\"\n                    class=\"rounded text-green-600 focus:ring-green-500\"\n                  >\n                  <label for=\"price-3\" class=\"ml-2\">5 - 10 triệu</label>\n                </div>\n                <div class=\"flex items-center\">\n                  <input \n                    type=\"checkbox\" \n                    id=\"price-4\" \n                    v-model=\"filters.price.above10m\"\n                    class=\"rounded text-green-600 focus:ring-green-500\"\n                  >\n                  <label for=\"price-4\" class=\"ml-2\">Trên 10 triệu</label>\n                </div>\n              </div>\n            </div>\n            \n            <div class=\"mt-6 border-t pt-4\">\n              <h3 class=\"text-lg font-semibold mb-4\">Sắp xếp</h3>\n              <select \n                v-model=\"sortOption\" \n                class=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-green-500\"\n              >\n                <option value=\"newest\">Mới nhất</option>\n                <option value=\"priceAsc\">Giá: Thấp đến cao</option>\n                <option value=\"priceDesc\">Giá: Cao đến thấp</option>\n                <option value=\"popular\">Phổ biến nhất</option>\n              </select>\n            </div>\n            \n            <button \n              @click=\"resetFilters\" \n              class=\"mt-6 w-full bg-gray-100 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-200 transition-colors\"\n            >\n              Đặt lại bộ lọc\n            </button>\n          </div>\n        </aside>\n        \n        <!-- Products -->\n        <main class=\"flex-1\">\n          <div class=\"mb-8\">\n            <h1 class=\"text-3xl font-bold mb-2\">\n              {{ pageTitle }}\n            </h1>\n            <p class=\"text-gray-600\">\n              {{ products.length }} sản phẩm\n            </p>\n          </div>\n          \n          <!-- Loading state -->\n          <div v-if=\"isLoading\" class=\"flex justify-center items-center py-20\">\n            <div class=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-green-600\"></div>\n          </div>\n          \n          <!-- Error state -->\n          <div v-else-if=\"error\" class=\"bg-red-50 p-4 rounded-md\">\n            <p class=\"text-red-700\">{{ error }}</p>\n            <button \n              @click=\"fetchProducts\" \n              class=\"mt-2 bg-red-100 text-red-700 px-4 py-2 rounded-md hover:bg-red-200\"\n            >\n              Thử lại\n            </button>\n          </div>\n          \n          <!-- Empty state -->\n          <div v-else-if=\"products.length === 0\" class=\"bg-gray-50 p-8 rounded-md text-center\">\n            <p class=\"text-gray-500 mb-4\">Không tìm thấy sản phẩm phù hợp với bộ lọc của bạn.</p>\n            <button \n              @click=\"resetFilters\" \n              class=\"bg-green-600 text-white px-4 py-2 rounded-md hover:bg-green-700\"\n            >\n              Đặt lại bộ lọc\n            </button>\n          </div>\n          \n          <!-- Products list -->\n          <div v-else class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8\">\n            <div \n              v-for=\"product in products\" \n              :key=\"product.id\" \n              class=\"product-card group flex flex-col h-full\"\n              data-aos=\"fade-up\"\n            >\n              <div class=\"product-image overflow-hidden rounded-t-lg bg-gray-100 h-64 flex items-center justify-center\">\n                <router-link :to=\"`/product/${product.id}`\" class=\"w-full h-full flex items-center justify-center\">\n                  <img \n                    :src=\"product.image\" \n                    :alt=\"product.name\" \n                    class=\"w-full h-full object-contain transform group-hover:scale-105 transition-transform duration-500\"\n                  >\n                </router-link>\n              </div>\n              <div class=\"product-info p-6 bg-white rounded-b-lg shadow-md group-hover:shadow-xl transition-shadow flex flex-col h-60\">\n                <router-link :to=\"`/product/${product.id}`\">\n                  <h3 class=\"product-title text-xl font-semibold text-gray-800 mb-2 h-14 line-clamp-2\">{{ product.name }}</h3>\n                </router-link>\n                <div class=\"flex items-center mb-2\">\n                  <div class=\"flex text-yellow-400\">\n                    <i class=\"fas fa-star\"></i>\n                    <i class=\"fas fa-star\"></i>\n                    <i class=\"fas fa-star\"></i>\n                    <i class=\"fas fa-star\"></i>\n                    <i class=\"fas fa-star-half-alt\"></i>\n                  </div>\n                  <span class=\"text-sm text-gray-500 ml-2\">({{ product.rating || '4.5' }})</span>\n                </div>\n                <p class=\"product-description text-gray-600 mb-4 h-12 line-clamp-2\">{{ product.description }}</p>\n                <div class=\"flex flex-col mt-auto\">\n                  <!-- Price or \"Hết hàng\" text -->\n                  <span v-if=\"product.stock > 0\" class=\"product-price text-xl font-bold text-green-600 mb-2\">\n                    {{ formatPrice(product.price) }}\n                  </span>\n                  <span v-else class=\"product-price text-xl font-bold text-red-500 mb-2\">\n                    Hết hàng\n                  </span>\n                  \n                  <!-- Buttons based on stock -->\n                  <div v-if=\"product.stock > 0\" class=\"flex space-x-2\">\n                    <button \n                      @click=\"addToCart(product)\" \n                      class=\"btn-add-cart h-10 px-2 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors whitespace-nowrap flex-1 text-center flex items-center justify-center\"\n                    >\n                      <i class=\"fas fa-shopping-cart mr-1\"></i> Thêm\n                    </button>\n                    <button \n                      @click=\"buyNow(product)\" \n                      class=\"btn-buy-now h-10 px-2 py-2 bg-orange-500 text-white rounded-lg hover:bg-orange-600 transition-colors whitespace-nowrap flex-1 text-center flex items-center justify-center\"\n                    >\n                      <i class=\"fas fa-bolt mr-1\"></i> Mua ngay\n                    </button>\n                  </div>\n                  <div v-else>\n                    <button \n                      @click=\"contactUs\" \n                      class=\"w-full h-10 px-2 py-2 bg-yellow-500 text-white rounded-lg hover:bg-yellow-600 transition-colors flex items-center justify-center\"\n                    >\n                      <i class=\"fas fa-phone mr-1\"></i> Liên hệ đặt hàng\n                    </button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Pagination -->\n          <div v-if=\"products.length > 0\" class=\"flex justify-center mt-12\">\n            <div class=\"flex items-center space-x-1\">\n              <button \n                @click=\"prevPage\" \n                :disabled=\"currentPage === 0\"\n                :class=\"[\n                  'px-3 py-1 rounded-md',\n                  currentPage === 0 \n                    ? 'bg-gray-100 text-gray-400 cursor-not-allowed' \n                    : 'bg-white text-gray-700 hover:bg-gray-50'\n                ]\"\n              >\n                <i class=\"fas fa-chevron-left\"></i>\n              </button>\n              \n              <template v-for=\"page in pageNumbers\" :key=\"page\">\n                <button \n                  @click=\"goToPage(page - 1)\"\n                  :class=\"[\n                    'px-3 py-1 rounded-md',\n                    currentPage === page - 1 \n                      ? 'bg-green-600 text-white' \n                      : 'bg-white text-gray-700 hover:bg-gray-50'\n                  ]\"\n                >\n                  {{ page }}\n                </button>\n              </template>\n              \n              <button \n                @click=\"nextPage\" \n                :disabled=\"currentPage >= totalPages - 1\"\n                :class=\"[\n                  'px-3 py-1 rounded-md',\n                  currentPage >= totalPages - 1 \n                    ? 'bg-gray-100 text-gray-400 cursor-not-allowed' \n                    : 'bg-white text-gray-700 hover:bg-gray-50'\n                ]\"\n              >\n                <i class=\"fas fa-chevron-right\"></i>\n              </button>\n            </div>\n          </div>\n        </main>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, watch } from 'vue'\nimport { useRoute, useRouter } from 'vue-router'\nimport api from '@/api'\nimport AOS from 'aos'\nimport cart from '@/store/cart'\nimport notificationService from '@/utils/notificationService'\n\n// Default image\nconst defaultImage = '/assets/images/products/sam-tuoi.png'\n\n// Initialize router\nconst router = useRouter()\n\n// State\nconst products = ref([])\nconst categories = ref([])\nconst isLoading = ref(true)\nconst error = ref(null)\n\n// Pagination\nconst currentPage = ref(0)\nconst pageSize = ref(9)\nconst totalProducts = ref(0)\nconst totalPages = ref(1)\n\n// Filters and sorting\nconst selectedCategory = ref(null)\nconst sortOption = ref('newest')\nconst filters = ref({\n  price: {\n    under1m: false,\n    from1mTo5m: false,\n    from5mTo10m: false,\n    above10m: false\n  }\n})\n\n// Dynamic page title\nconst pageTitle = computed(() => {\n  if (selectedCategory.value) {\n    const category = categories.value.find(c => c.id === selectedCategory.value)\n    return category ? category.name : 'Sản phẩm'\n  }\n  return 'Tất cả sản phẩm'\n})\n\n// Calculate display page numbers (show 5 pages max)\nconst pageNumbers = computed(() => {\n  const total = totalPages.value\n  const current = currentPage.value\n  const pages = []\n  \n  if (total <= 5) {\n    // If 5 or fewer pages, show all\n    for (let i = 1; i <= total; i++) {\n      pages.push(i)\n    }\n  } else {\n    // Show current page and 2 pages before/after when possible\n    const start = Math.max(1, current - 1)\n    const end = Math.min(total, start + 4)\n    \n    for (let i = start; i <= end; i++) {\n      pages.push(i)\n    }\n  }\n  \n  return pages\n})\n\n// Format price\nfunction formatPrice(price) {\n  return new Intl.NumberFormat('vi-VN', {\n    style: 'currency',\n    currency: 'VND'\n  }).format(price).replace('₫', 'VNĐ')\n}\n\n// API calls\nasync function fetchCategories() {\n  try {\n    const response = await api.category.getCategories()\n    categories.value = response.data\n  } catch (err) {\n    console.error('Error fetching categories:', err)\n    // Fallback data\n    categories.value = [\n      { id: 1, name: 'Sâm tươi' },\n      { id: 2, name: 'Cao sâm' },\n      { id: 3, name: 'Rượu sâm' },\n      { id: 4, name: 'Trà sâm' }\n    ]\n  }\n}\n\nasync function fetchProducts() {\n  isLoading.value = true\n  error.value = null\n  \n  try {\n    // Build query params\n    const params = {\n      page: currentPage.value,\n      size: pageSize.value,\n      status: 'ACTIVE' // Chỉ lấy sản phẩm đang bán\n    }\n    \n    // Add sort parameter\n    switch (sortOption.value) {\n      case 'newest':\n        params.sort = 'createdAt'\n        params.direction = 'desc'\n        break\n      case 'priceAsc':\n        params.sort = 'price'\n        params.direction = 'asc'\n        break\n      case 'priceDesc':\n        params.sort = 'price'\n        params.direction = 'desc'\n        break\n      case 'popular':\n        params.sort = 'sold'\n        params.direction = 'desc'\n        break\n    }\n    \n    // Handle API call based on category filter\n    let response\n    \n    try {\n      if (selectedCategory.value) {\n        response = await api.category.getCategoryProducts(selectedCategory.value, params)\n      } else {\n        response = await api.product.getProducts(params)\n      }\n      \n      // Extract pagination info from the actual API response structure\n      totalProducts.value = response.data.totalItems || 0\n      totalPages.value = response.data.totalPages || 1\n      currentPage.value = response.data.currentPage || 0\n      \n      // Map products using the actual API response structure\n      const fetchedProducts = response.data.products || []\n      \n      // Apply price filters (client-side)\n      let filteredProducts = fetchedProducts\n      \n      if (filters.value.price.under1m || \n          filters.value.price.from1mTo5m || \n          filters.value.price.from5mTo10m || \n          filters.value.price.above10m) {\n        \n        filteredProducts = fetchedProducts.filter(p => {\n          if (filters.value.price.under1m && p.price < 1000000) return true\n          if (filters.value.price.from1mTo5m && p.price >= 1000000 && p.price < 5000000) return true\n          if (filters.value.price.from5mTo10m && p.price >= 5000000 && p.price < 10000000) return true\n          if (filters.value.price.above10m && p.price >= 10000000) return true\n          return false\n        })\n      }\n      \n      products.value = filteredProducts\n        .filter(p => p.status === 'ACTIVE') // Đảm bảo chỉ hiển thị sản phẩm đang bán\n        .map(p => ({\n          id: p.id,\n          name: p.name,\n          description: p.description || '',\n          price: p.price,\n          originalPrice: p.originalPrice,\n          image: p.image ? (p.image.startsWith('http') ? p.image : `${import.meta.env.VITE_API_URL}${p.image}`) : defaultImage,\n          rating: p.rating,\n          slug: p.slug,\n          categoryId: p.categoryId,\n          stock: p.stock || 0,\n          status: p.status\n        }))\n    } catch (e) {\n      console.error('Error with main API endpoint, trying fallback:', e)\n      // Try fallback with direct URL\n      throw e\n    }\n  } catch (err) {\n    console.error('Error fetching products:', err)\n    error.value = 'Không thể tải sản phẩm. Vui lòng thử lại sau.'\n    \n    // Fallback data - chỉ hiển thị sản phẩm đang bán\n    products.value = [\n      {\n        id: 1,\n        name: 'Sâm Ngọc Linh tươi 10 năm tuổi',\n        description: 'Sâm ngọc linh tươi có tuổi đời 10 năm, được thu hoạch từ vùng núi Ngọc Linh, giữ nguyên dược tính quý giá.',\n        price: 15000000,\n        originalPrice: 18000000,\n        image: defaultImage,\n        rating: 5.0,\n        categoryId: 1,\n        stock: 50,\n        status: 'ACTIVE'\n      },\n      {\n        id: 2,\n        name: 'Cao Sâm Ngọc Linh',\n        description: 'Cao sâm Ngọc Linh được chiết xuất từ sâm tươi loại 1, giữ nguyên dưỡng chất.',\n        price: 8000000,\n        originalPrice: 10000000,\n        image: defaultImage,\n        rating: 4.0,\n        categoryId: 2,\n        stock: 10,\n        status: 'ACTIVE'\n      }\n    ]\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// Filter and navigation methods\nfunction selectCategory(categoryId) {\n  selectedCategory.value = categoryId\n  currentPage.value = 0 // Reset to first page\n  fetchProducts()\n}\n\nfunction resetFilters() {\n  selectedCategory.value = null\n  sortOption.value = 'newest'\n  Object.keys(filters.value.price).forEach(key => {\n    filters.value.price[key] = false\n  })\n  currentPage.value = 0\n  fetchProducts()\n}\n\nfunction prevPage() {\n  if (currentPage.value > 0) {\n    currentPage.value--\n    fetchProducts()\n    window.scrollTo(0, 0)\n  }\n}\n\nfunction nextPage() {\n  if (currentPage.value < totalPages.value - 1) {\n    currentPage.value++\n    fetchProducts()\n    window.scrollTo(0, 0)\n  }\n}\n\nfunction goToPage(page) {\n  currentPage.value = page\n  fetchProducts()\n  window.scrollTo(0, 0)\n}\n\n// Cart functionality\nfunction addToCart(product) {\n  cart.addToCart(product, 1)\n  notificationService.cart(product)\n}\n\n// Buy now functionality\nfunction buyNow(product) {\n  cart.addToCart(product, 1)\n  notificationService.show(`Đang chuyển đến trang thanh toán cho sản phẩm: ${product.name}`, {\n    title: 'Thanh toán ngay'\n  })\n  \n  setTimeout(() => {\n    router.push('/checkout')\n  }, 800)\n}\n\n// Contact functionality\nfunction contactUs() {\n  notificationService.show(\n    'Vui lòng gọi đến số 0123.456.789 để đặt sản phẩm hoặc truy cập trang liên hệ.', \n    { \n      title: 'Thông tin liên hệ',\n      duration: 5000\n    }\n  )\n  \n  // Optional: Navigate to contact page after a delay\n  setTimeout(() => {\n    router.push('/contact')\n  }, 2000)\n}\n\n// Watch for filter changes\nwatch([filters, sortOption], () => {\n  fetchProducts()\n}, { deep: true })\n\n// Lifecycle hooks\nonMounted(async () => {\n  await fetchCategories()\n  await fetchProducts()\n  AOS.refresh()\n})\n</script>\n\n<style lang=\"scss\">\n.product-card {\n  transition: all 0.3s ease;\n  background-color: white;\n  border-radius: 0.5rem;\n  overflow: hidden;\n  height: 100%;\n  display: flex;\n  flex-direction: column;\n  box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n  \n  &:hover {\n    transform: translateY(-8px);\n    box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);\n  }\n  \n  .product-image {\n    height: 16rem;\n    background-color: #f9fafb;\n  }\n  \n  .product-info {\n    height: auto;\n    min-height: 15rem;\n    flex: 1;\n    display: flex;\n    flex-direction: column;\n  }\n  \n  .btn-add-cart, .btn-buy-now {\n    transition: all 0.2s ease;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    font-size: 0.875rem;\n    \n    &:hover {\n      transform: translateY(-2px);\n    }\n  }\n  \n  .btn-add-cart {\n    background-color: #16a34a;\n    &:hover {\n      background-color: #15803d;\n    }\n  }\n  \n  .btn-buy-now {\n    background-color: #f97316;\n    &:hover {\n      background-color: #ea580c;\n    }\n  }\n}\n\n.line-clamp-2 {\n  display: -webkit-box;\n  -webkit-line-clamp: 2;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n</style> ","<template>\n  <div class=\"about\">\n    <div class=\"container mx-auto px-4 py-8\">\n      <h1 class=\"text-3xl font-bold mb-8\">Về chúng tôi</h1>\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n        <div class=\"about-content\">\n          <p class=\"mb-4\">\n            Sâm Ngọc Linh là một trong những loại dược liệu quý hiếm bậc nhất của Việt Nam, được trồng và phát triển tại vùng núi Ngọc Linh, tỉnh Kon Tum và Quảng Nam.\n          </p>\n          <p class=\"mb-4\">\n            Chúng tôi tự hào là đơn vị tiên phong trong việc nghiên cứu, phát triển và cung cấp các sản phẩm từ Sâm Ngọc Linh với chất lượng cao nhất đến tay người tiêu dùng.\n          </p>\n          <p class=\"mb-4\">\n            Với hơn 10 năm kinh nghiệm trong lĩnh vực, chúng tôi cam kết mang đến những sản phẩm chất lượng, được kiểm định nghiêm ngặt và đảm bảo nguồn gốc xuất xứ rõ ràng.\n          </p>\n        </div>\n        <div class=\"about-image\">\n          <img :src=\"samTuoiImage\" alt=\"Sâm Ngọc Linh\" class=\"rounded-lg shadow-xl\">\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nconst samTuoiImage = '/assets/images/products/sam-tuoi.png'\n</script> ","<template>\n  <div class=\"services\">\n    <div class=\"container mx-auto px-4 py-8\">\n      <h1 class=\"text-3xl font-bold mb-8\">Dịch vụ</h1>\n      \n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\n        <div v-for=\"service in services\" :key=\"service.id\" class=\"service-card bg-white rounded-lg shadow-md overflow-hidden\">\n          <img :src=\"service.image\" :alt=\"service.title\" class=\"w-full h-48 object-cover\">\n          <div class=\"p-6\">\n            <h3 class=\"text-xl font-semibold mb-4\">{{ service.title }}</h3>\n            <p class=\"text-gray-600 mb-4\">{{ service.description }}</p>\n            <ul class=\"space-y-2\">\n              <li v-for=\"feature in service.features\" :key=\"feature\" class=\"flex items-start\">\n                <i class=\"fas fa-check-circle text-green-600 mt-1 mr-2\"></i>\n                <span>{{ feature }}</span>\n              </li>\n            </ul>\n            <button \n              @click=\"contactUs(service)\"\n              class=\"mt-6 bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition-colors\"\n            >\n              Liên hệ tư vấn\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport { useRouter } from 'vue-router'\nimport samTuoiImage from '@/assets/images/products/sam-tuoi.png'\n\nconst router = useRouter()\n\nconst services = ref([\n  {\n    id: 1,\n    title: 'Tư vấn sản phẩm',\n    description: 'Đội ngũ chuyên gia của chúng tôi sẽ tư vấn cho bạn lựa chọn sản phẩm Sâm Ngọc Linh phù hợp nhất với nhu cầu sức khỏe.',\n    icon: 'far fa-comments',\n    image: samTuoiImage,\n    features: [\n      'Tư vấn miễn phí',\n      'Đội ngũ chuyên nghiệp',\n      'Hỗ trợ 24/7',\n      'Giải đáp mọi thắc mắc'\n    ]\n  },\n  {\n    id: 2,\n    title: 'Giao hàng toàn quốc',\n    description: 'Chúng tôi cung cấp dịch vụ giao hàng đến tận nhà trên toàn quốc với đội ngũ nhân viên chuyên nghiệp.',\n    icon: 'fas fa-truck',\n    image: samTuoiImage,\n    features: [\n      'Giao hàng tận nơi',\n      'Đóng gói cẩn thận',\n      'Theo dõi đơn hàng',\n      'Bảo quản sản phẩm tốt'\n    ]\n  }\n])\n\nconst contactUs = (service) => {\n  router.push({\n    name: 'Contact',\n    query: { service: service.title }\n  })\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@use \"@/assets/styles/variables\" as *;\n\n.service-card {\n  transition: transform 0.3s ease;\n\n  &:hover {\n    transform: translateY(-5px);\n  }\n}\n</style> ","<template>\r\n  <div class=\"consultation-form bg-green-600 rounded-lg p-6 text-white mb-6\">\r\n    <h3 class=\"text-xl font-semibold mb-4\">TƯ VẤN</h3>\r\n    <form @submit.prevent=\"handleSubmit\">\r\n      <div class=\"space-y-4\">\r\n        <div>\r\n          <input \r\n            type=\"text\" \r\n            v-model=\"formData.fullName\" \r\n            placeholder=\"Họ tên\" \r\n            class=\"w-full px-4 py-2 rounded bg-white/90 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n            required\r\n          >\r\n        </div>\r\n        <div>\r\n          <input \r\n            type=\"tel\" \r\n            v-model=\"formData.phone\" \r\n            placeholder=\"SĐT\" \r\n            class=\"w-full px-4 py-2 rounded bg-white/90 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n            required\r\n          >\r\n        </div>\r\n        <div>\r\n          <input \r\n            type=\"text\" \r\n            v-model=\"formData.address\" \r\n            placeholder=\"Địa chỉ\" \r\n            class=\"w-full px-4 py-2 rounded bg-white/90 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-400\"\r\n          >\r\n        </div>\r\n        <div>\r\n          <textarea \r\n            v-model=\"formData.message\" \r\n            placeholder=\"Nội dung\" \r\n            rows=\"3\"\r\n            class=\"w-full px-4 py-2 rounded bg-white/90 text-gray-800 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-green-400 resize-none\"\r\n          ></textarea>\r\n        </div>\r\n        <div class=\"flex gap-2\">\r\n          <button \r\n            type=\"submit\"\r\n            class=\"flex-1 bg-yellow-500 text-white px-6 py-2 rounded font-medium hover:bg-yellow-600 transition-colors\"\r\n          >\r\n            GỬI\r\n          </button>\r\n          <button \r\n            type=\"reset\"\r\n            @click=\"resetForm\"\r\n            class=\"flex-1 bg-gray-500 text-white px-6 py-2 rounded font-medium hover:bg-gray-600 transition-colors\"\r\n          >\r\n            HỦY\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\n\r\nconst formData = ref({\r\n  fullName: '',\r\n  phone: '',\r\n  address: '',\r\n  message: ''\r\n})\r\n\r\nconst handleSubmit = () => {\r\n  // TODO: Implement form submission logic\r\n  console.log('Form submitted:', formData.value)\r\n  // Reset form after submission\r\n  resetForm()\r\n}\r\n\r\nconst resetForm = () => {\r\n  formData.value = {\r\n    fullName: '',\r\n    phone: '',\r\n    address: '',\r\n    message: ''\r\n  }\r\n}\r\n</script> ","<template>\r\n  <div class=\"services-list bg-white rounded-lg p-6 mb-6 shadow-sm\">\r\n    <h3 class=\"text-xl font-semibold mb-4 text-green-700\">DỊCH VỤ</h3>\r\n    <ul class=\"space-y-3\">\r\n      <li v-for=\"service in services\" :key=\"service.id\" class=\"flex items-start\">\r\n        <span class=\"text-orange-500 mr-2\">•</span>\r\n        <router-link \r\n          :to=\"service.link\" \r\n          class=\"text-gray-700 hover:text-green-600 transition-colors\"\r\n        >\r\n          {{ service.name }}\r\n        </router-link>\r\n      </li>\r\n    </ul>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nconst services = [\r\n  {\r\n    id: 1,\r\n    name: 'Du lịch trải nghiệm',\r\n    link: '/services/tourism'\r\n  },\r\n  {\r\n    id: 2,\r\n    name: 'Chăm sóc, bảo vệ Sâm',\r\n    link: '/services/care'\r\n  },\r\n  {\r\n    id: 3,\r\n    name: 'Xây dựng trang trại',\r\n    link: '/services/farm'\r\n  },\r\n  {\r\n    id: 4,\r\n    name: 'Hướng dẫn chế biến đặc sản địa phương',\r\n    link: '/services/cooking'\r\n  }\r\n]\r\n</script> ","<template>\r\n  <div class=\"hotline-info bg-white rounded-lg p-6 mb-6 shadow-sm\">\r\n    <h3 class=\"text-xl font-semibold mb-4 text-green-700\">Hotline Tư Vấn</h3>\r\n    <div class=\"flex items-center space-x-3\">\r\n      <div class=\"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center\">\r\n        <i class=\"fas fa-phone-alt text-green-600\"></i>\r\n      </div>\r\n      <div>\r\n        <p class=\"text-sm text-gray-500\">Hồ Chí Minh</p>\r\n        <a href=\"tel:0968863863\" class=\"text-lg font-semibold text-green-600 hover:text-green-700\">\r\n          0968 863 863\r\n        </a>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template> ","<template>\r\n  <div class=\"news-sidebar\">\r\n    <h3 class=\"text-lg font-bold mb-4\">Bài viết mới nhất</h3>\r\n    <div v-for=\"item in newsItems\" :key=\"item.id\" class=\"flex mb-4 pb-4 border-b border-gray-200 last:border-b-0 last:pb-0\">\r\n      <img :src=\"item.image\" :alt=\"item.title\" class=\"w-20 h-20 object-cover rounded\">\r\n      <div class=\"ml-3\">\r\n        <h4 class=\"font-medium text-sm hover:text-green-600 transition-colors\">\r\n          <a :href=\"item.link\">{{ item.title }}</a>\r\n        </h4>\r\n        <p class=\"text-xs text-gray-500 mt-1\">{{ item.date }}</p>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref } from 'vue'\r\nimport samTuoiImage from '@/assets/images/products/sam-tuoi.png'\r\n\r\nconst newsItems = ref([\r\n  {\r\n    id: 1,\r\n    title: 'Sâm Ngọc Linh - Báu vật của núi rừng Việt Nam',\r\n    image: samTuoiImage,\r\n    date: '15/05/2023',\r\n    link: '/news/1'\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Công dụng tuyệt vời của Sâm Ngọc Linh đối với sức khỏe',\r\n    image: samTuoiImage,\r\n    date: '02/06/2023',\r\n    link: '/news/2'\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Cách phân biệt Sâm Ngọc Linh thật và giả',\r\n    image: samTuoiImage,\r\n    date: '18/06/2023',\r\n    link: '/news/3'\r\n  }\r\n])\r\n</script>\r\n\r\n<style scoped>\r\n.line-clamp-2 {\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n}\r\n</style> ","<template>\r\n  <div class=\"news-page\">\r\n    <div class=\"container mx-auto px-4 py-8\">\r\n      <div class=\"flex flex-col md:flex-row gap-8\">\r\n        <!-- Sidebar -->\r\n        <Sidebar class=\"order-2 md:order-1\" />\r\n        \r\n        <!-- Main Content -->\r\n        <main class=\"flex-1 order-1 md:order-2\">\r\n          <h1 class=\"text-3xl font-bold mb-6 text-gray-800\">Tin tức & Sự kiện</h1>\r\n          \r\n          <!-- News List -->\r\n          <div class=\"bg-white rounded-xl shadow-sm overflow-hidden mb-8\">\r\n            <div class=\"grid grid-cols-12 gap-4 p-4 bg-gray-100 text-gray-600 font-medium border-b\">\r\n              <div class=\"col-span-6 pl-4\">BÀI VIẾT</div>\r\n              <div class=\"col-span-2 text-center\">DANH MỤC</div>\r\n              <div class=\"col-span-4 text-center\">NGÀY ĐĂNG</div>\r\n            </div>\r\n            \r\n            <div class=\"divide-y\">\r\n              <div v-for=\"article in articles\" :key=\"article.id\" class=\"grid grid-cols-12 gap-4 p-4 hover:bg-gray-50\">\r\n                <div class=\"col-span-6\">\r\n                  <div class=\"flex items-start gap-3\">\r\n                    <div class=\"w-16 h-16 bg-gray-200 rounded overflow-hidden flex-shrink-0\">\r\n                      <img :src=\"article.image\" alt=\"Thumbnail\" class=\"w-full h-full object-cover\">\r\n                    </div>\r\n                    <div>\r\n                      <h3 class=\"font-medium text-gray-800 mb-1\">{{ article.title }}</h3>\r\n                      <p class=\"text-sm text-gray-600 line-clamp-2\">{{ article.summary }}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div class=\"col-span-2 flex items-center justify-center\">\r\n                  <span class=\"px-3 py-1 text-xs font-medium rounded-full\" :class=\"getCategoryClass(article.category)\">\r\n                    {{ getCategoryName(article.category) }}\r\n                  </span>\r\n                </div>\r\n                <div class=\"col-span-4 flex items-center justify-center\">\r\n                  <span class=\"text-gray-600\">{{ formatDate(article.publishDate) }}</span>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n          \r\n          <!-- Pagination -->\r\n          <div class=\"flex justify-center mt-8\">\r\n            <div class=\"flex gap-2\">\r\n              <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50 text-sm\">\r\n                <i class=\"fas fa-chevron-left\"></i>\r\n              </button>\r\n              <button class=\"px-3 py-1 border border-gray-300 rounded-md bg-green-600 text-white text-sm\">1</button>\r\n              <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50 text-sm\">2</button>\r\n              <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50 text-sm\">3</button>\r\n              <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50 text-sm\">\r\n                <i class=\"fas fa-chevron-right\"></i>\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </main>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport Sidebar from '@/components/sidebar/Sidebar.vue'\r\nimport samTuoiImage from '@/assets/images/products/sam-tuoi.png'\r\n\r\n// Sample articles data\r\nconst articles = ref([\r\n  {\r\n    id: 1,\r\n    title: 'Sâm Ngọc Linh - Báu vật của núi rừng Việt Nam',\r\n    summary: 'Tìm hiểu về lịch sử và giá trị của Sâm Ngọc Linh - loài dược liệu quý hiếm bậc nhất Việt Nam.',\r\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc.',\r\n    image: samTuoiImage,\r\n    category: 'knowledge',\r\n    publishDate: '2023-05-15',\r\n    author: 'Nguyễn Văn A'\r\n  },\r\n  {\r\n    id: 2,\r\n    title: 'Công dụng tuyệt vời của Sâm Ngọc Linh đối với sức khỏe',\r\n    summary: 'Khám phá những lợi ích sức khỏe và các công dụng chữa bệnh của Sâm Ngọc Linh.',\r\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc.',\r\n    image: samTuoiImage,\r\n    category: 'knowledge',\r\n    publishDate: '2023-06-02',\r\n    author: 'Trần Thị B'\r\n  },\r\n  {\r\n    id: 3,\r\n    title: 'Cách phân biệt Sâm Ngọc Linh thật và giả',\r\n    summary: 'Hướng dẫn chi tiết giúp bạn nhận biết Sâm Ngọc Linh thật và tránh mua phải hàng giả, hàng kém chất lượng.',\r\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc.',\r\n    image: samTuoiImage,\r\n    category: 'tips',\r\n    publishDate: '2023-06-18',\r\n    author: 'Lê Văn C'\r\n  },\r\n  {\r\n    id: 4,\r\n    title: 'Thông báo khai trương cửa hàng mới tại Hà Nội',\r\n    summary: 'Chúng tôi vui mừng thông báo khai trương cửa hàng mới tại Hà Nội vào ngày 15/7/2023.',\r\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc.',\r\n    image: samTuoiImage,\r\n    category: 'news',\r\n    publishDate: '2023-07-10',\r\n    author: 'Admin'\r\n  }\r\n])\r\n\r\n// Format date as DD/MM/YYYY\r\nconst formatDate = (date) => {\r\n  return new Date(date).toLocaleDateString('vi-VN', {\r\n    day: '2-digit',\r\n    month: '2-digit',\r\n    year: 'numeric'\r\n  })\r\n}\r\n\r\n// Get category name\r\nconst getCategoryName = (category) => {\r\n  const categories = {\r\n    news: 'Tin tức',\r\n    events: 'Sự kiện',\r\n    promotions: 'Khuyến mãi',\r\n    knowledge: 'Kiến thức',\r\n    tips: 'Tips'\r\n  }\r\n  return categories[category] || category\r\n}\r\n\r\n// Get category class\r\nconst getCategoryClass = (category) => {\r\n  const classes = {\r\n    news: 'bg-blue-100 text-blue-800',\r\n    events: 'bg-purple-100 text-purple-800',\r\n    promotions: 'bg-orange-100 text-orange-800',\r\n    knowledge: 'bg-indigo-100 text-indigo-800',\r\n    tips: 'bg-green-100 text-green-800'\r\n  }\r\n  return classes[category] || 'bg-gray-100 text-gray-800'\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.line-clamp-2 {\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 2;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n}\r\n</style> ","<template>\r\n  <div class=\"contact\">\r\n    <div class=\"container mx-auto px-4 py-8\">\r\n      <h1 class=\"text-3xl font-bold mb-8\">Liên hệ</h1>\r\n      \r\n      <div class=\"grid grid-cols-1 md:grid-cols-2 gap-8\">\r\n        <!-- Contact Form -->\r\n        <div class=\"contact-form\">\r\n          <form @submit.prevent=\"submitForm\" class=\"space-y-4\">\r\n            <div>\r\n              <label class=\"block mb-2\">Họ và tên</label>\r\n              <input \r\n                type=\"text\" \r\n                v-model=\"form.name\"\r\n                required\r\n                class=\"w-full px-4 py-2 border rounded\"\r\n              >\r\n            </div>\r\n            \r\n            <div>\r\n              <label class=\"block mb-2\">Email</label>\r\n              <input \r\n                type=\"email\" \r\n                v-model=\"form.email\"\r\n                required\r\n                class=\"w-full px-4 py-2 border rounded\"\r\n              >\r\n            </div>\r\n            \r\n            <div>\r\n              <label class=\"block mb-2\">Số điện thoại</label>\r\n              <input \r\n                type=\"tel\" \r\n                v-model=\"form.phone\"\r\n                required\r\n                class=\"w-full px-4 py-2 border rounded\"\r\n              >\r\n            </div>\r\n            \r\n            <div>\r\n              <label class=\"block mb-2\">Nội dung</label>\r\n              <textarea \r\n                v-model=\"form.message\"\r\n                required\r\n                rows=\"4\"\r\n                class=\"w-full px-4 py-2 border rounded\"\r\n              ></textarea>\r\n            </div>\r\n            \r\n            <button \r\n              type=\"submit\"\r\n              class=\"bg-green-600 text-white px-6 py-2 rounded hover:bg-green-700 transition-colors\"\r\n            >\r\n              Gửi tin nhắn\r\n            </button>\r\n          </form>\r\n        </div>\r\n\r\n        <!-- Contact Info -->\r\n        <div class=\"contact-info space-y-6\">\r\n          <div>\r\n            <h3 class=\"text-xl font-semibold mb-4\">Thông tin liên hệ</h3>\r\n            <ul class=\"space-y-3\">\r\n              <li>\r\n                <i class=\"fas fa-map-marker-alt mr-2 text-green-600\"></i>\r\n                123 Đường ABC, Quận XYZ, TP.HCM\r\n              </li>\r\n              <li>\r\n                <i class=\"fas fa-phone mr-2 text-green-600\"></i>\r\n                (84) 123-456-789\r\n              </li>\r\n              <li>\r\n                <i class=\"fas fa-envelope mr-2 text-green-600\"></i>\r\n                contact@samngoclinh.com\r\n              </li>\r\n            </ul>\r\n          </div>\r\n          \r\n          <div>\r\n            <h3 class=\"text-xl font-semibold mb-4\">Giờ làm việc</h3>\r\n            <p>Thứ 2 - Thứ 6: 8:00 - 17:00</p>\r\n            <p>Thứ 7: 8:00 - 12:00</p>\r\n            <p>Chủ nhật: Nghỉ</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { reactive } from 'vue'\r\n\r\nconst form = reactive({\r\n  name: '',\r\n  email: '',\r\n  phone: '',\r\n  message: ''\r\n})\r\n\r\nconst submitForm = () => {\r\n  // TODO: Implement form submission\r\n  console.log('Form submitted:', form)\r\n  // Reset form\r\n  form.name = ''\r\n  form.email = ''\r\n  form.phone = ''\r\n  form.message = ''\r\n}\r\n</script> ","import validate from './validate.js';\nconst byteToHex = [];\nfor (let i = 0; i < 256; ++i) {\n    byteToHex.push((i + 0x100).toString(16).slice(1));\n}\nexport function unsafeStringify(arr, offset = 0) {\n    return (byteToHex[arr[offset + 0]] +\n        byteToHex[arr[offset + 1]] +\n        byteToHex[arr[offset + 2]] +\n        byteToHex[arr[offset + 3]] +\n        '-' +\n        byteToHex[arr[offset + 4]] +\n        byteToHex[arr[offset + 5]] +\n        '-' +\n        byteToHex[arr[offset + 6]] +\n        byteToHex[arr[offset + 7]] +\n        '-' +\n        byteToHex[arr[offset + 8]] +\n        byteToHex[arr[offset + 9]] +\n        '-' +\n        byteToHex[arr[offset + 10]] +\n        byteToHex[arr[offset + 11]] +\n        byteToHex[arr[offset + 12]] +\n        byteToHex[arr[offset + 13]] +\n        byteToHex[arr[offset + 14]] +\n        byteToHex[arr[offset + 15]]).toLowerCase();\n}\nfunction stringify(arr, offset = 0) {\n    const uuid = unsafeStringify(arr, offset);\n    if (!validate(uuid)) {\n        throw TypeError('Stringified UUID is invalid');\n    }\n    return uuid;\n}\nexport default stringify;\n","let getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n    if (!getRandomValues) {\n        if (typeof crypto === 'undefined' || !crypto.getRandomValues) {\n            throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n        }\n        getRandomValues = crypto.getRandomValues.bind(crypto);\n    }\n    return getRandomValues(rnds8);\n}\n","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default { randomUUID };\n","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\nfunction v4(options, buf, offset) {\n    if (native.randomUUID && !buf && !options) {\n        return native.randomUUID();\n    }\n    options = options || {};\n    const rnds = options.random ?? options.rng?.() ?? rng();\n    if (rnds.length < 16) {\n        throw new Error('Random bytes length must be >= 16');\n    }\n    rnds[6] = (rnds[6] & 0x0f) | 0x40;\n    rnds[8] = (rnds[8] & 0x3f) | 0x80;\n    if (buf) {\n        offset = offset || 0;\n        if (offset < 0 || offset + 16 > buf.length) {\n            throw new RangeError(`UUID byte range ${offset}:${offset + 15} is out of buffer bounds`);\n        }\n        for (let i = 0; i < 16; ++i) {\n            buf[offset + i] = rnds[i];\n        }\n        return buf;\n    }\n    return unsafeStringify(rnds);\n}\nexport default v4;\n","import { ref, computed } from 'vue'\nimport { v4 as uuidv4 } from 'uuid'\n\n// Tạo store quản lý session token\nconst sessionToken = {\n  // Dữ liệu token\n  activeSessions: ref([]),\n  currentToken: ref(null),\n  \n  // Khởi tạo store từ localStorage\n  init() {\n    try {\n      // Lấy danh sách session từ localStorage\n      const sessionsString = localStorage.getItem('admin_sessions')\n      if (sessionsString) {\n        this.activeSessions.value = JSON.parse(sessionsString)\n      }\n      \n      // Lấy token hiện tại từ localStorage\n      const currentTokenString = localStorage.getItem('admin_current_token')\n      if (currentTokenString) {\n        this.currentToken.value = currentTokenString\n      }\n      \n      // Xóa các session hết hạn\n      this.cleanExpiredSessions()\n    } catch (error) {\n      console.error('Error initializing session token store:', error)\n      this.resetAll()\n    }\n  },\n  \n  // Lưu trạng thái hiện tại vào localStorage\n  saveState() {\n    try {\n      localStorage.setItem('admin_sessions', JSON.stringify(this.activeSessions.value))\n      if (this.currentToken.value) {\n        localStorage.setItem('admin_current_token', this.currentToken.value)\n      } else {\n        localStorage.removeItem('admin_current_token')\n      }\n    } catch (error) {\n      console.error('Error saving session state to localStorage:', error)\n    }\n  },\n  \n  // Tạo token mới khi đăng nhập\n  createToken(user, rememberMe = false) {\n    // Tạo token mới với UUID\n    const tokenId = uuidv4()\n    \n    // Thời gian hết hạn: 1 giờ hoặc 30 ngày nếu remember me\n    const expiresAt = new Date()\n    if (rememberMe) {\n      expiresAt.setDate(expiresAt.getDate() + 30) // 30 ngày\n    } else {\n      expiresAt.setHours(expiresAt.getHours() + 1) // 1 giờ\n    }\n    \n    // Thông tin thiết bị\n    const device = {\n      userAgent: navigator.userAgent,\n      platform: navigator.platform,\n      language: navigator.language\n    }\n    \n    // IP Address (trong thực tế sẽ lấy từ server)\n    const ipAddress = \"127.0.0.1\" // giả lập\n    \n    // Tạo đối tượng session\n    const session = {\n      tokenId,\n      userId: user.id,\n      userName: user.name,\n      userEmail: user.email,\n      userRole: user.role,\n      ipAddress,\n      device,\n      createdAt: new Date().toISOString(),\n      expiresAt: expiresAt.toISOString(),\n      lastActivity: new Date().toISOString(),\n      rememberMe\n    }\n    \n    // Thêm vào danh sách active sessions\n    this.activeSessions.value.push(session)\n    \n    // Lưu token hiện tại\n    this.currentToken.value = tokenId\n    \n    // Lưu vào localStorage\n    this.saveState()\n    \n    return tokenId\n  },\n  \n  // Lấy thông tin session hiện tại\n  getCurrentSession() {\n    if (!this.currentToken.value) return null\n    \n    return this.activeSessions.value.find(\n      session => session.tokenId === this.currentToken.value\n    )\n  },\n  \n  // Kiểm tra token có hợp lệ không\n  isValidToken(tokenId) {\n    try {\n      if (!tokenId) return false\n      \n      const session = this.activeSessions.value.find(s => s.tokenId === tokenId)\n      if (!session) return false\n      \n      // Kiểm tra token có hết hạn chưa\n      const now = new Date()\n      const expiresAt = new Date(session.expiresAt)\n      \n      if (now > expiresAt) {\n        // Nếu hết hạn, xóa token\n        this.removeToken(tokenId)\n        return false\n      }\n      \n      // Cập nhật thời gian hoạt động cuối\n      session.lastActivity = new Date().toISOString()\n      this.saveState()\n      \n      return true\n    } catch (error) {\n      console.error('Error validating token:', error)\n      return false\n    }\n  },\n  \n  // Kiểm tra token hiện tại có hợp lệ không\n  isCurrentTokenValid() {\n    return this.isValidToken(this.currentToken.value)\n  },\n  \n  // Cập nhật hoạt động cho token\n  updateActivity(tokenId = null) {\n    const token = tokenId || this.currentToken.value\n    if (!token) return false\n    \n    const session = this.activeSessions.value.find(s => s.tokenId === token)\n    if (session) {\n      session.lastActivity = new Date().toISOString()\n      this.saveState()\n      return true\n    }\n    \n    return false\n  },\n  \n  // Xóa token\n  removeToken(tokenId) {\n    this.activeSessions.value = this.activeSessions.value.filter(\n      session => session.tokenId !== tokenId\n    )\n    \n    // Nếu xóa token hiện tại, reset current token\n    if (this.currentToken.value === tokenId) {\n      this.currentToken.value = null\n    }\n    \n    this.saveState()\n  },\n  \n  // Xóa tất cả token của một user\n  removeUserTokens(userId) {\n    this.activeSessions.value = this.activeSessions.value.filter(\n      session => session.userId !== userId\n    )\n    \n    // Nếu xóa token của user hiện tại, reset current token\n    const currentSession = this.getCurrentSession()\n    if (currentSession && currentSession.userId === userId) {\n      this.currentToken.value = null\n    }\n    \n    this.saveState()\n  },\n  \n  // Xóa tất cả token ngoại trừ token hiện tại\n  removeOtherTokens() {\n    if (!this.currentToken.value) return\n    \n    this.activeSessions.value = this.activeSessions.value.filter(\n      session => session.tokenId === this.currentToken.value\n    )\n    \n    this.saveState()\n  },\n  \n  // Xóa các token hết hạn\n  cleanExpiredSessions() {\n    const now = new Date()\n    \n    this.activeSessions.value = this.activeSessions.value.filter(session => {\n      const expiresAt = new Date(session.expiresAt)\n      return now <= expiresAt\n    })\n    \n    // Kiểm tra xem token hiện tại có bị xóa không\n    if (this.currentToken.value) {\n      const currentSession = this.getCurrentSession()\n      if (!currentSession) {\n        this.currentToken.value = null\n      }\n    }\n    \n    this.saveState()\n  },\n  \n  // Reset toàn bộ dữ liệu\n  resetAll() {\n    this.activeSessions.value = []\n    this.currentToken.value = null\n    localStorage.removeItem('admin_sessions')\n    localStorage.removeItem('admin_current_token')\n  },\n  \n  // Lấy danh sách tất cả các phiên đăng nhập của người dùng\n  getAllSessions() {\n    return this.activeSessions.value\n  },\n  \n  // Lấy số lượng phiên đăng nhập hiện tại\n  getSessionCount: computed(() => {\n    return sessionToken.activeSessions.value.length\n  }),\n  \n  // Lấy danh sách phiên đăng nhập của người dùng hiện tại\n  getCurrentUserSessions: computed(() => {\n    const currentSession = sessionToken.getCurrentSession()\n    if (!currentSession) return []\n    \n    return sessionToken.activeSessions.value.filter(\n      session => session.userId === currentSession.userId\n    )\n  })\n}\n\n// Khởi tạo store khi import\nsessionToken.init()\n\nexport default sessionToken ","import { ref, computed } from 'vue'\nimport sessionToken from './sessionToken'\nimport api from '@/api'\n\n// Tạo store quản lý authentication\nconst auth = {\n  isAuthenticated: ref(false),\n  currentUser: ref(null),\n  isLoading: ref(false),\n  \n  // Khởi tạo store từ localStorage nếu đã đăng nhập trước đó\n  init() {\n    try {\n      // Kiểm tra token hiện tại có hợp lệ không\n      if (sessionToken.isCurrentTokenValid()) {\n        const session = sessionToken.getCurrentSession()\n        if (session) {\n          // Khôi phục thông tin người dùng từ session\n          this.currentUser.value = {\n            id: session.userId,\n            name: session.userName,\n            email: session.userEmail,\n            role: session.userRole\n          }\n          this.isAuthenticated.value = true\n        }\n      } else {\n        // Nếu token không hợp lệ, đăng xuất\n        this.logout(false) // false để không xóa token (đã được xóa trong sessionToken)\n      }\n    } catch (error) {\n      console.error('Error initializing auth store:', error)\n      // Reset auth state on error\n      this.currentUser.value = null\n      this.isAuthenticated.value = false\n    }\n  },\n  \n  // Đăng nhập\n  async login({ email, password, rememberMe }) {\n    this.isLoading.value = true\n    \n    try {\n      // Gọi API đăng nhập\n      const response = await api.auth.login({\n        email,\n        password\n      })\n      \n      // Lấy token từ response\n      const token = response.data\n      \n      // Giả lập dữ liệu user từ token\n      // Thực tế sẽ decode token hoặc gọi API get profile\n      const user = {\n        id: 1, // Giả lập ID\n        email: email,\n        name: email.split('@')[0], // Lấy tên từ email \n        role: email.includes('admin') ? 'admin' : 'user'\n      }\n      \n      // Lưu thông tin đăng nhập\n      this.currentUser.value = user\n      this.isAuthenticated.value = true\n      \n      // Tạo token session\n      sessionToken.createToken(user, rememberMe)\n      \n      return true\n    } catch (error) {\n      console.error('Login error:', error)\n      return false\n    } finally {\n      this.isLoading.value = false\n    }\n  },\n  \n  // Đăng ký\n  async register({ name, email, password }) {\n    this.isLoading.value = true\n    \n    try {\n      // Gọi API đăng ký\n      await api.auth.register({\n        name,\n        email,\n        password\n      })\n      \n      // Trả về true khi đăng ký thành công\n      return true\n    } catch (error) {\n      console.error('Register error:', error)\n      return false\n    } finally {\n      this.isLoading.value = false\n    }\n  },\n  \n  // Đăng xuất\n  async logout(removeToken = true) {\n    this.isLoading.value = true\n    \n    try {\n      // Gọi API đăng xuất nếu đã đăng nhập và cần xóa token\n      if (this.isAuthenticated.value && removeToken) {\n        try {\n          await api.auth.logout()\n        } catch (error) {\n          console.error('Error calling logout API:', error)\n          // Tiếp tục quá trình logout dù API có lỗi\n        }\n      }\n      \n      // Xóa dữ liệu người dùng\n      this.currentUser.value = null\n      this.isAuthenticated.value = false\n      \n      // Xóa token session nếu cần\n      if (removeToken) {\n        sessionToken.removeToken(sessionToken.currentToken.value)\n      }\n      \n      return true\n    } catch (error) {\n      console.error('Logout error:', error)\n      return false\n    } finally {\n      this.isLoading.value = false\n    }\n  },\n  \n  // Kiểm tra quyền admin\n  isAdmin: computed(() => {\n    if (!auth.isAuthenticated.value) return false\n    return auth.currentUser.value?.role === 'admin'\n  }),\n  \n  // Cập nhật hoạt động của phiên hiện tại\n  updateActivity() {\n    if (this.isAuthenticated.value) {\n      sessionToken.updateActivity()\n    }\n  },\n  \n  // Lấy danh sách phiên đăng nhập của người dùng hiện tại\n  getUserSessions: computed(() => {\n    if (!auth.isAuthenticated.value) return []\n    return sessionToken.getCurrentUserSessions.value\n  }),\n  \n  // Xóa một phiên đăng nhập cụ thể\n  removeSession(tokenId) {\n    if (this.isAuthenticated.value) {\n      // Nếu xóa phiên hiện tại, thực hiện đăng xuất\n      if (tokenId === sessionToken.currentToken.value) {\n        this.logout()\n      } else {\n        sessionToken.removeToken(tokenId)\n      }\n    }\n  },\n  \n  // Xóa tất cả phiên đăng nhập ngoại trừ phiên hiện tại\n  removeOtherSessions() {\n    if (this.isAuthenticated.value) {\n      sessionToken.removeOtherTokens()\n    }\n  }\n}\n\n// Khởi tạo store khi import\nauth.init()\n\nexport default auth ","<template>\n  <div class=\"admin-login min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n    <div class=\"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-md\">\n      <div class=\"text-center\">\n        <div class=\"flex justify-center\">\n          <div class=\"w-16 h-16 bg-green-100 rounded-full overflow-hidden flex-shrink-0\">\n            <img :src=\"samTuoiImage\" alt=\"Sâm Ngọc Linh\" class=\"w-full h-full object-cover\">\n          </div>\n        </div>\n        <h2 class=\"mt-6 text-3xl font-extrabold text-gray-900\">Đăng nhập quản trị</h2>\n        <p class=\"mt-2 text-sm text-gray-600\">\n          Hoặc \n          <router-link to=\"/admin/register\" class=\"font-medium text-green-600 hover:text-green-500\">\n            đăng ký tài khoản mới\n          </router-link>\n        </p>\n      </div>\n      \n      <div v-if=\"errorMessage\" class=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4\" role=\"alert\">\n        <p>{{ errorMessage }}</p>\n      </div>\n      \n      <form class=\"mt-8 space-y-6\" @submit.prevent=\"login\">\n        <div class=\"rounded-md -space-y-px\">\n          <div class=\"mb-4\">\n            <label for=\"email\" class=\"block text-sm font-medium text-gray-700\">Email</label>\n            <input \n              id=\"email\" \n              v-model=\"form.email\"\n              name=\"email\" \n              type=\"email\" \n              autocomplete=\"email\" \n              required \n              class=\"mt-1 appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n              placeholder=\"admin@example.com\"\n            >\n          </div>\n          <div>\n            <label for=\"password\" class=\"block text-sm font-medium text-gray-700\">Mật khẩu</label>\n            <input \n              id=\"password\" \n              v-model=\"form.password\"\n              name=\"password\" \n              type=\"password\" \n              autocomplete=\"current-password\" \n              required \n              class=\"mt-1 appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n              placeholder=\"••••••••\"\n            >\n          </div>\n        </div>\n\n        <div class=\"flex items-center justify-between\">\n          <div class=\"flex items-center\">\n            <input \n              id=\"remember-me\" \n              v-model=\"rememberMe\"\n              name=\"remember-me\" \n              type=\"checkbox\" \n              class=\"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded\"\n            >\n            <label for=\"remember-me\" class=\"ml-2 block text-sm text-gray-900\">\n              Ghi nhớ đăng nhập\n            </label>\n          </div>\n\n          <div class=\"text-sm\">\n            <a href=\"#\" class=\"font-medium text-green-600 hover:text-green-500\">\n              Quên mật khẩu?\n            </a>\n          </div>\n        </div>\n\n        <div>\n          <button \n            type=\"submit\"\n            :disabled=\"isLoading\"\n            class=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-75\"\n          >\n            <span v-if=\"isLoading\" class=\"absolute left-0 inset-y-0 flex items-center pl-3\">\n              <i class=\"fas fa-spinner fa-spin\"></i>\n            </span>\n            <span v-else class=\"absolute left-0 inset-y-0 flex items-center pl-3\">\n              <i class=\"fas fa-sign-in-alt\"></i>\n            </span>\n            {{ isLoading ? 'Đang xử lý...' : 'Đăng nhập' }}\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport api from '@/api'\nimport auth from '@/store/auth'\nimport sessionToken from '@/store/sessionToken'\n\nconst router = useRouter()\nconst errorMessage = ref('')\nconst isLoading = ref(false)\nconst rememberMe = ref(false)\n\n// Form data\nconst form = reactive({\n  email: '',\n  password: ''\n})\n\nconst samTuoiImage = '/assets/images/products/sam-tuoi.png'\n\n// Validate form\nfunction validateForm() {\n  if (!form.email || !form.password) {\n    errorMessage.value = 'Vui lòng nhập email và mật khẩu'\n    return false\n  }\n  return true\n}\n\n// Login function\nasync function login() {\n  if (!validateForm()) return\n  \n  errorMessage.value = ''\n  isLoading.value = true\n  \n  try {\n    // Gọi API đăng nhập\n    const axios = (await import('axios')).default\n    \n    try {\n      const response = await axios.post(`${import.meta.env.VITE_API_URL}/auth/login`, {\n        email: form.email,\n        password: form.password\n      }, {\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      })\n      \n      // Token trả về là chuỗi text\n      const token = response.data\n      console.log('Đăng nhập thành công, nhận token:', token)\n      \n      if (token) {\n        // Lưu token vào localStorage\n        localStorage.setItem('admin_current_token', token)\n        \n        // Giải mã thông tin cơ bản từ token (giả lập vì token là UUID)\n        const userInfo = {\n          id: 1,\n          email: form.email,\n          name: form.email.split('@')[0],\n          role: 'admin'\n        }\n        \n        // Lưu thông tin đăng nhập\n        auth.currentUser.value = userInfo\n        auth.isAuthenticated.value = true\n        \n        if (rememberMe.value) {\n          // Lưu token session \n          sessionToken.createToken(userInfo, rememberMe.value)\n        }\n        \n        // Chuyển hướng đến trang dashboard\n        router.push('/admin/dashboard')\n      } else {\n        errorMessage.value = 'Không nhận được token. Vui lòng thử lại'\n      }\n    } catch (apiError) {\n      console.error('API Login error:', apiError)\n      \n      if (apiError.response) {\n        if (apiError.response.status === 401) {\n          errorMessage.value = 'Email hoặc mật khẩu không đúng'\n        } else if (apiError.response.status === 403) {\n          errorMessage.value = 'Tài khoản của bạn không có quyền truy cập trang quản trị'\n        } else {\n          errorMessage.value = apiError.response.data?.message || 'Đăng nhập thất bại. Vui lòng thử lại sau.'\n        }\n      } else {\n        errorMessage.value = 'Không thể kết nối đến máy chủ. Vui lòng kiểm tra kết nối mạng.'\n        \n        // Fallback login với tài khoản demo nếu không kết nối được API\n        fallbackLogin()\n      }\n    }\n  } catch (error) {\n    console.error('Login error:', error)\n    errorMessage.value = 'Đã xảy ra lỗi, vui lòng thử lại sau'\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// Fallback login sử dụng dữ liệu mẫu (chỉ khi không kết nối được API)\nfunction fallbackLogin() {\n  // Demo credentials - sử dụng mock data thay vì gọi API thực\n  const demoAccounts = [\n    {\n      email: 'admin@example.com',\n      password: 'admin123',\n      id: 1,\n      name: 'Admin',\n      role: 'admin'\n    },\n    {\n      email: 'samngoclinh@gmail.com',\n      password: 'sam123',\n      id: 2,\n      name: 'Quản lý Sâm Ngọc Linh',\n      role: 'admin'\n    }\n  ]\n  \n  // Kiểm tra đăng nhập với tài khoản demo\n  const foundUser = demoAccounts.find(\n    account => account.email === form.email && account.password === form.password\n  )\n  \n  if (foundUser) {\n    const userInfo = {\n      id: foundUser.id,\n      email: foundUser.email,\n      name: foundUser.name,\n      role: foundUser.role\n    }\n    \n    // Tạo mock token\n    const mockToken = 'demo-' + Math.random().toString(36).substring(2, 15)\n    localStorage.setItem('admin_current_token', mockToken)\n    \n    // Lưu thông tin đăng nhập\n    auth.currentUser.value = userInfo\n    auth.isAuthenticated.value = true\n    \n    // Tạo token session\n    const tokenId = sessionToken.createToken(userInfo, rememberMe.value)\n    \n    // Chuyển hướng đến trang dashboard\n    router.push('/admin/dashboard')\n    \n    // Thông báo sử dụng chế độ demo\n    console.log('Đang sử dụng chế độ demo (offline)')\n  } else {\n    errorMessage.value = 'Email hoặc mật khẩu không đúng'\n  }\n}\n</script> ","<template>\n  <div class=\"admin-register min-h-screen bg-gray-100 flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8\">\n    <div class=\"max-w-md w-full space-y-8 bg-white p-8 rounded-xl shadow-md\">\n      <div class=\"text-center\">\n        <div class=\"flex justify-center\">\n          <div class=\"w-16 h-16 bg-green-100 rounded-full overflow-hidden flex-shrink-0\">\n            <img :src=\"samTuoiImage\" alt=\"Sâm Ngọc Linh\" class=\"w-full h-full object-cover\">\n          </div>\n        </div>\n        <h2 class=\"mt-6 text-3xl font-extrabold text-gray-900\">Đăng ký tài khoản</h2>\n        <p class=\"mt-2 text-sm text-gray-600\">\n          Hoặc\n          <router-link to=\"/admin/login\" class=\"font-medium text-green-600 hover:text-green-500\">\n            đăng nhập nếu đã có tài khoản\n          </router-link>\n        </p>\n      </div>\n      \n      <div v-if=\"errorMessage\" class=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-4\" role=\"alert\">\n        <p>{{ errorMessage }}</p>\n      </div>\n      \n      <div v-if=\"successMessage\" class=\"bg-green-100 border-l-4 border-green-500 text-green-700 p-4 mb-4\" role=\"alert\">\n        <p>{{ successMessage }}</p>\n      </div>\n      \n      <form class=\"mt-8 space-y-6\" @submit.prevent=\"register\">\n        <div class=\"rounded-md -space-y-px\">\n          <div class=\"mb-4\">\n            <label for=\"name\" class=\"block text-sm font-medium text-gray-700\">Họ tên</label>\n            <input \n              id=\"name\" \n              v-model=\"form.name\"\n              name=\"name\" \n              type=\"text\" \n              autocomplete=\"name\" \n              required \n              class=\"mt-1 appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n              placeholder=\"Nguyễn Văn A\"\n            >\n          </div>\n          \n          <div class=\"mb-4\">\n            <label for=\"email\" class=\"block text-sm font-medium text-gray-700\">Email</label>\n            <input \n              id=\"email\" \n              v-model=\"form.email\"\n              name=\"email\" \n              type=\"email\" \n              autocomplete=\"email\" \n              required \n              class=\"mt-1 appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n              placeholder=\"example@email.com\"\n            >\n          </div>\n          \n          <div class=\"mb-4\">\n            <label for=\"password\" class=\"block text-sm font-medium text-gray-700\">Mật khẩu</label>\n            <input \n              id=\"password\" \n              v-model=\"form.password\"\n              name=\"password\" \n              type=\"password\" \n              autocomplete=\"new-password\" \n              required \n              class=\"mt-1 appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n              placeholder=\"••••••••\"\n            >\n          </div>\n          \n          <div>\n            <label for=\"password_confirm\" class=\"block text-sm font-medium text-gray-700\">Xác nhận mật khẩu</label>\n            <input \n              id=\"password_confirm\" \n              v-model=\"form.passwordConfirm\"\n              name=\"password_confirm\" \n              type=\"password\" \n              autocomplete=\"new-password\" \n              required \n              class=\"mt-1 appearance-none relative block w-full px-3 py-3 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-md focus:outline-none focus:ring-green-500 focus:border-green-500 focus:z-10 sm:text-sm\"\n              placeholder=\"••••••••\"\n            >\n          </div>\n        </div>\n\n        <div>\n          <div class=\"flex items-center\">\n            <input \n              id=\"agree-terms\" \n              v-model=\"agreeTerms\"\n              name=\"agree-terms\" \n              type=\"checkbox\" \n              required\n              class=\"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded\"\n            >\n            <label for=\"agree-terms\" class=\"ml-2 block text-sm text-gray-900\">\n              Tôi đồng ý với các <a href=\"#\" class=\"text-green-600 hover:text-green-500\">điều khoản và điều kiện</a>\n            </label>\n          </div>\n        </div>\n\n        <div>\n          <button \n            type=\"submit\"\n            :disabled=\"isLoading\"\n            class=\"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-green-600 hover:bg-green-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-green-500 disabled:opacity-75\"\n          >\n            <span v-if=\"isLoading\" class=\"absolute left-0 inset-y-0 flex items-center pl-3\">\n              <i class=\"fas fa-spinner fa-spin\"></i>\n            </span>\n            <span v-else class=\"absolute left-0 inset-y-0 flex items-center pl-3\">\n              <i class=\"fas fa-user-plus\"></i>\n            </span>\n            {{ isLoading ? 'Đang xử lý...' : 'Đăng ký' }}\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, reactive } from 'vue'\nimport { useRouter } from 'vue-router'\nimport api from '@/api'\nimport auth from '@/store/auth'\n\nconst router = useRouter()\nconst errorMessage = ref('')\nconst isLoading = ref(false)\nconst successMessage = ref('')\nconst agreeTerms = ref(false)\n\nconst samTuoiImage = '/assets/images/products/sam-tuoi.png'\n\n// Form data\nconst form = reactive({\n  name: '',\n  email: '',\n  password: '',\n  passwordConfirm: ''\n})\n\n// Validate form\nfunction validateForm() {\n  if (!form.name || !form.email || !form.password || !form.passwordConfirm) {\n    errorMessage.value = 'Vui lòng điền đầy đủ thông tin'\n    return false\n  }\n  \n  if (form.password !== form.passwordConfirm) {\n    errorMessage.value = 'Mật khẩu xác nhận không khớp'\n    return false\n  }\n  \n  if (form.password.length < 6) {\n    errorMessage.value = 'Mật khẩu phải có ít nhất 6 ký tự'\n    return false\n  }\n  \n  return true\n}\n\n// Register function\nasync function register() {\n  if (!validateForm()) return\n  \n  errorMessage.value = ''\n  isLoading.value = true\n  \n  try {\n    // Gọi API đăng ký\n    await api.auth.register({\n      name: form.name,\n      email: form.email,\n      password: form.password\n    })\n    \n    // Chuyển hướng đến trang đăng nhập\n    router.push({\n      path: '/admin/login',\n      query: { registered: 'success' }\n    })\n  } catch (error) {\n    console.error('Register error:', error)\n    \n    // Hiển thị thông báo lỗi phù hợp\n    if (error.response) {\n      // Nếu server trả về lỗi\n      switch (error.response.status) {\n        case 409:\n          errorMessage.value = 'Email đã được sử dụng, vui lòng chọn email khác'\n          break\n        case 400:\n          errorMessage.value = 'Thông tin không hợp lệ, vui lòng kiểm tra lại'\n          break\n        default:\n          errorMessage.value = 'Đã xảy ra lỗi, vui lòng thử lại sau'\n      }\n    } else {\n      // Lỗi kết nối hoặc lỗi khác\n      errorMessage.value = 'Không thể kết nối đến máy chủ, vui lòng thử lại sau'\n    }\n  } finally {\n    isLoading.value = false\n  }\n}\n</script> ","<template>\n  <header class=\"bg-white shadow-md mb-8\">\n    <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n      <div class=\"flex justify-between h-16\">\n        <!-- Logo và tên hệ thống -->\n        <div class=\"flex\">\n          <div class=\"flex-shrink-0 flex items-center\">\n            <router-link to=\"/admin/dashboard\" class=\"flex items-center\">\n              <div class=\"w-8 h-8 bg-green-100 rounded-full overflow-hidden mr-2\">\n                <img src=\"/assets/images/products/sam-tuoi.png\" alt=\"Sâm Ngọc Linh\" class=\"w-full h-full object-cover\">\n              </div>\n              <span class=\"text-xl font-semibold text-gray-900\">Admin</span>\n            </router-link>\n          </div>\n          \n          <!-- Desktop menu -->\n          <nav class=\"hidden md:ml-6 md:flex md:space-x-6\">\n            <router-link\n              v-for=\"item in menuItems\" \n              :key=\"item.path\"\n              :to=\"item.path\"\n              class=\"inline-flex items-center px-1 pt-1 border-b-2 text-sm font-medium\"\n              :class=\"[\n                isActive(item.path) \n                  ? 'border-green-500 text-gray-900' \n                  : 'border-transparent text-gray-500 hover:border-gray-300 hover:text-gray-700'\n              ]\"\n            >\n              <i :class=\"['mr-1', item.icon]\"></i>\n              {{ item.label }}\n            </router-link>\n          </nav>\n        </div>\n        \n        <!-- User dropdown -->\n        <div class=\"flex items-center h-full relative ml-3 user-dropdown\">\n          <div>\n            <button \n              @click=\"toggleUserMenu\"\n              class=\"flex items-center text-sm font-medium text-gray-700 hover:text-gray-800 rounded-full hover:bg-gray-100 p-1 transition-colors\"\n            >\n              <div class=\"h-8 w-8 rounded-full bg-green-100 flex items-center justify-center\">\n                <i class=\"fas fa-user text-green-700\"></i>\n              </div>\n              <span class=\"ml-2 hidden md:block\">{{ userName }}</span>\n              <i :class=\"[isUserMenuOpen ? 'fa-chevron-up' : 'fa-chevron-down', 'fas ml-1 text-xs']\"></i>\n            </button>\n          </div>\n          \n          <!-- Dropdown menu -->\n          <div \n            v-if=\"isUserMenuOpen\" \n            class=\"absolute right-0 z-50 mt-3 w-56 origin-top-right rounded-md bg-white py-1 shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none border border-gray-200\"\n            style=\"top: 100%; right: -22px;\"\n          >\n            <div class=\"px-4 py-3 border-b border-gray-100\">\n              <p class=\"text-sm font-medium text-gray-900\">{{ userName }}</p>\n              <p class=\"text-xs text-gray-500 truncate\">{{ userEmail }}</p>\n            </div>\n            <router-link \n              to=\"/admin/profile\" \n              class=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n              @click=\"isUserMenuOpen = false\"\n            >\n              <i class=\"fas fa-user-circle mr-2 w-5 text-center text-gray-500\"></i> Tài khoản cá nhân\n            </router-link>\n            <router-link \n              to=\"/admin/settings\" \n              class=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n              @click=\"isUserMenuOpen = false\"\n            >\n              <i class=\"fas fa-cog mr-2 w-5 text-center text-gray-500\"></i> Cài đặt hệ thống\n            </router-link>\n            <router-link \n              to=\"/admin/sessions\" \n              class=\"flex items-center w-full px-4 py-2 text-sm text-gray-700 hover:bg-gray-100\"\n              @click=\"isUserMenuOpen = false\"\n            >\n              <i class=\"fas fa-key mr-2 w-5 text-center text-gray-500\"></i> Quản lý phiên\n            </router-link>\n            <div class=\"border-t border-gray-100 my-1\"></div>\n            <button \n              @click=\"logout\" \n              class=\"flex items-center w-full text-left px-4 py-2 text-sm text-red-600 hover:bg-red-50\"\n            >\n              <i class=\"fas fa-sign-out-alt mr-2 w-5 text-center\"></i> Đăng xuất\n            </button>\n          </div>\n        </div>\n\n        <!-- Mobile menu button -->\n        <div class=\"ml-2 -mr-2 flex items-center md:hidden\">\n          <button \n            @click=\"toggleMobileMenu\"\n            type=\"button\" \n            class=\"inline-flex items-center justify-center p-2 rounded-md text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-green-500\"\n          >\n            <span class=\"sr-only\">Open main menu</span>\n            <i class=\"fas fa-bars text-xl\"></i>\n          </button>\n        </div>\n      </div>\n    </div>\n\n    <!-- Mobile menu, show/hide based on menu state -->\n    <div v-if=\"isMobileMenuOpen\" class=\"md:hidden\">\n      <div class=\"pt-2 pb-3 space-y-1\">\n        <router-link\n          v-for=\"item in menuItems\" \n          :key=\"item.path\"\n          :to=\"item.path\"\n          class=\"block pl-3 pr-4 py-2 border-l-4 text-base font-medium\"\n          :class=\"[\n            isActive(item.path) \n              ? 'bg-green-50 border-green-500 text-green-700' \n              : 'border-transparent text-gray-500 hover:bg-gray-50 hover:border-gray-300 hover:text-gray-700'\n          ]\"\n          @click=\"isMobileMenuOpen = false\"\n        >\n          <i :class=\"['mr-2', item.icon]\"></i>\n          {{ item.label }}\n        </router-link>\n      </div>\n    </div>\n  </header>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted, onUnmounted } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport auth from '@/store/auth'\nimport sessionToken from '@/store/sessionToken'\nimport notificationService from '@/utils/notificationService'\n\nconst router = useRouter()\nconst route = useRoute()\n\nconst isMobileMenuOpen = ref(false)\nconst isUserMenuOpen = ref(false)\n\n// Menu items\nconst menuItems = [\n  { label: 'Dashboard', path: '/admin/dashboard', icon: 'fas fa-tachometer-alt' },\n  { label: 'Sản phẩm', path: '/admin/products', icon: 'fas fa-box' },\n  { label: 'Danh mục', path: '/admin/categories', icon: 'fas fa-tags' },\n  { label: 'Dịch vụ', path: '/admin/services', icon: 'fas fa-cogs' },\n  { label: 'Đơn hàng', path: '/admin/orders', icon: 'fas fa-shopping-cart' },\n  { label: 'Tin tức', path: '/admin/news', icon: 'fas fa-newspaper' },\n  { label: 'Người dùng', path: '/admin/users', icon: 'fas fa-users' }\n]\n\n// Get user info from auth store\nconst userName = computed(() => auth.currentUser?.value?.name || 'Admin')\nconst userEmail = computed(() => auth.currentUser?.value?.email || 'admin@example.com')\nconst userInitials = computed(() => {\n  const name = userName.value\n  return name.charAt(0).toUpperCase()\n})\n\n// Toggle mobile menu\nfunction toggleMobileMenu() {\n  isMobileMenuOpen.value = !isMobileMenuOpen.value\n  if (isMobileMenuOpen.value) {\n    isUserMenuOpen.value = false\n  }\n}\n\n// Toggle user menu\nfunction toggleUserMenu() {\n  isUserMenuOpen.value = !isUserMenuOpen.value\n  if (isUserMenuOpen.value) {\n    isMobileMenuOpen.value = false\n  }\n}\n\n// Check if route is active\nfunction isActive(path) {\n  return route.path.startsWith(path)\n}\n\n// Đóng dropdown khi click ra ngoài\nfunction closeDropdownOnOutsideClick(event) {\n  if (isUserMenuOpen.value && !event.target.closest('.user-dropdown')) {\n    isUserMenuOpen.value = false\n  }\n}\n\n// Đăng xuất\nasync function logout() {\n  try {\n    isUserMenuOpen.value = false\n    \n    const token = localStorage.getItem('admin_current_token')\n    if (!token) {\n      handleLogoutSuccess()\n      return\n    }\n    \n    // Gọi API đăng xuất\n    const axios = (await import('axios')).default\n    \n    try {\n      await axios.post('http://localhost:8080/api/auth/logout', {}, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n      console.log('Đăng xuất thành công từ API')\n    } catch (error) {\n      console.error('Không thể gọi API đăng xuất:', error)\n    }\n    \n    // Xử lý đăng xuất ở client\n    handleLogoutSuccess()\n    \n  } catch (error) {\n    console.error('Lỗi khi đăng xuất:', error)\n    notificationService.show('Đã xảy ra lỗi khi đăng xuất', {\n      title: 'Lỗi',\n      type: 'error'\n    })\n  }\n}\n\n// Xử lý sau khi đăng xuất\nfunction handleLogoutSuccess() {\n  // Xóa token\n  localStorage.removeItem('admin_current_token')\n  \n  // Đặt lại trạng thái xác thực\n  auth.isAuthenticated.value = false\n  auth.currentUser.value = null\n  \n  // Xóa session token\n  sessionToken.resetAll()\n  \n  // Thông báo\n  notificationService.show('Đăng xuất thành công', {\n    title: 'Đăng xuất',\n    type: 'success'\n  })\n  \n  // Chuyển hướng về trang đăng nhập\n  router.push('/admin/login')\n}\n\n// Lắng nghe sự kiện click để đóng dropdown\nonMounted(() => {\n  document.addEventListener('click', closeDropdownOnOutsideClick)\n})\n\nonUnmounted(() => {\n  document.removeEventListener('click', closeDropdownOnOutsideClick)\n})\n</script> ","<template>\n  <div class=\"admin-dashboard min-h-screen bg-gray-50\">\n    <!-- Header -->\n    <AdminHeader />\n    \n    <!-- Main Content -->\n    <main class=\"py-6\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <h1 class=\"text-2xl font-semibold text-gray-900 mb-6\">BẢNG ĐIỀU KHIỂN</h1>\n        \n        <!-- Loading indicator -->\n        <div v-if=\"isLoading\" class=\"flex justify-center py-12\">\n          <div class=\"animate-spin rounded-full h-12 w-12 border-b-2 border-green-700\"></div>\n        </div>\n        \n        <!-- Dashboard content -->\n        <div v-else>\n          <!-- Stats Overview -->\n          <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-5 mb-6\">\n            <!-- Total Products -->\n            <div class=\"bg-white rounded-lg shadow px-5 py-6\">\n              <div class=\"flex items-center\">\n                <div class=\"flex-shrink-0 bg-green-100 rounded-full p-3\">\n                  <svg class=\"h-6 w-6 text-green-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M20 7l-8-4-8 4m16 0l-8 4m8-4v10l-8 4m0-10L4 7m8 4v10\" />\n                  </svg>\n                </div>\n                <div class=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt class=\"text-sm font-medium text-gray-500 truncate\">\n                      Sản phẩm\n                    </dt>\n                    <dd>\n                      <div class=\"text-lg font-medium text-gray-900\">\n                        {{ dashboardData.totalProducts }}\n                      </div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n            \n            <!-- Total Orders -->\n            <div class=\"bg-white rounded-lg shadow px-5 py-6\">\n              <div class=\"flex items-center\">\n                <div class=\"flex-shrink-0 bg-blue-100 rounded-full p-3\">\n                  <svg class=\"h-6 w-6 text-blue-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M16 11V7a4 4 0 00-8 0v4M5 9h14l1 12H4L5 9z\" />\n                  </svg>\n                </div>\n                <div class=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt class=\"text-sm font-medium text-gray-500 truncate\">\n                      Đơn hàng\n                    </dt>\n                    <dd>\n                      <div class=\"text-lg font-medium text-gray-900\">\n                        {{ dashboardData.totalOrders }}\n                      </div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n            \n            <!-- Revenue -->\n            <div class=\"bg-white rounded-lg shadow px-5 py-6\">\n              <div class=\"flex items-center\">\n                <div class=\"flex-shrink-0 bg-yellow-100 rounded-full p-3\">\n                  <svg class=\"h-6 w-6 text-yellow-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M12 8c-1.657 0-3 .895-3 2s1.343 2 3 2 3 .895 3 2-1.343 2-3 2m0-8c1.11 0 2.08.402 2.599 1M12 8V7m0 1v8m0 0v1m0-1c-1.11 0-2.08-.402-2.599-1M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" />\n                  </svg>\n                </div>\n                <div class=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt class=\"text-sm font-medium text-gray-500 truncate\">\n                      Doanh thu\n                    </dt>\n                    <dd>\n                      <div class=\"text-lg font-medium text-gray-900\">\n                        {{ formatCurrency(dashboardData.totalRevenue) }}\n                      </div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n            \n            <!-- Total Users -->\n            <div class=\"bg-white rounded-lg shadow px-5 py-6\">\n              <div class=\"flex items-center\">\n                <div class=\"flex-shrink-0 bg-purple-100 rounded-full p-3\">\n                  <svg class=\"h-6 w-6 text-purple-600\" xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                    <path stroke-linecap=\"round\" stroke-linejoin=\"round\" stroke-width=\"2\" d=\"M17 20h5v-2a3 3 0 00-5.356-1.857M17 20H7m10 0v-2c0-.656-.126-1.283-.356-1.857M7 20H2v-2a3 3 0 015.356-1.857M7 20v-2c0-.656.126-1.283.356-1.857m0 0a5.002 5.002 0 019.288 0M15 7a3 3 0 11-6 0 3 3 0 016 0zm6 3a2 2 0 11-4 0 2 2 0 014 0zM7 10a2 2 0 11-4 0 2 2 0 014 0z\" />\n                  </svg>\n                </div>\n                <div class=\"ml-5 w-0 flex-1\">\n                  <dl>\n                    <dt class=\"text-sm font-medium text-gray-500 truncate\">\n                      Người dùng\n                    </dt>\n                    <dd>\n                      <div class=\"text-lg font-medium text-gray-900\">\n                        {{ dashboardData.totalUsers }}\n                      </div>\n                    </dd>\n                  </dl>\n                </div>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Recent Orders -->\n          <div class=\"mt-8\">\n            <h2 class=\"text-lg font-medium text-gray-900\">Đơn hàng gần đây</h2>\n            <div class=\"mt-4 bg-white shadow overflow-hidden rounded-lg\">\n              <div v-if=\"dashboardData.recentOrders.length === 0\" class=\"p-6 text-center text-gray-500\">\n                Không có đơn hàng nào\n              </div>\n              <table v-else class=\"min-w-full divide-y divide-gray-200\">\n                <thead class=\"bg-gray-50\">\n                  <tr>\n                    <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      ID\n                    </th>\n                    <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Khách hàng\n                    </th>\n                    <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Ngày đặt\n                    </th>\n                    <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Trạng thái\n                    </th>\n                    <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Giá trị\n                    </th>\n                  </tr>\n                </thead>\n                <tbody class=\"bg-white divide-y divide-gray-200\">\n                  <tr v-for=\"order in dashboardData.recentOrders\" :key=\"order.id\">\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                      #{{ order.id }}\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {{ order.shippingName }}\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {{ formatDate(order.createdAt) }}\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap\">\n                      <span class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full\" :class=\"getStatusColor(order.status)\">\n                        {{ getStatusName(order.status) }}\n                      </span>\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {{ formatCurrency(order.totalAmount) }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <div class=\"bg-gray-50 px-6 py-3 flex justify-end\">\n                <router-link to=\"/admin/orders\" class=\"text-sm font-medium text-green-600 hover:text-green-900\">\n                  Xem tất cả đơn hàng\n                </router-link>\n              </div>\n            </div>\n          </div>\n          \n          <!-- Products stats -->\n          <div class=\"mt-8\" v-if=\"dashboardData.productStats && dashboardData.productStats.length > 0\">\n            <h2 class=\"text-lg font-medium text-gray-900\">Thống kê sản phẩm</h2>\n            <div class=\"mt-4 bg-white shadow overflow-hidden rounded-lg\">\n              <table class=\"min-w-full divide-y divide-gray-200\">\n                <thead class=\"bg-gray-50\">\n                  <tr>\n                    <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Sản phẩm\n                    </th>\n                    <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Đã bán\n                    </th>\n                    <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                      Tồn kho\n                    </th>\n                  </tr>\n                </thead>\n                <tbody class=\"bg-white divide-y divide-gray-200\">\n                  <tr v-for=\"(product, index) in dashboardData.productStats\" :key=\"index\">\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900\">\n                      {{ product.name }}\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {{ product.sold }}\n                    </td>\n                    <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                      {{ product.stock }}\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              <div class=\"bg-gray-50 px-6 py-3 flex justify-end\">\n                <router-link to=\"/admin/products\" class=\"text-sm font-medium text-green-600 hover:text-green-900\">\n                  Quản lý sản phẩm\n                </router-link>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script setup>\nimport { ref, onMounted, computed } from 'vue'\nimport { useRouter } from 'vue-router'\nimport AdminHeader from '@/components/admin/AdminHeader.vue'\nimport auth from '@/store/auth'\nimport api from '@/api'\nimport sessionToken from '@/store/sessionToken'\nimport notificationService from '@/utils/notificationService'\n\nconst router = useRouter()\nconst isLoading = ref(false)\nconst dashboardData = ref({\n  totalProducts: 0,\n  totalOrders: 0,\n  totalRevenue: 0,\n  totalUsers: 0,\n  recentOrders: [],\n  productStats: []\n})\n\n// Kiểm tra đăng nhập\nif (!auth.isAuthenticated.value) {\n  router.push('/admin/login')\n}\n\n// Lấy thông tin dashboard từ API\nasync function fetchDashboardData() {\n  isLoading.value = true\n  \n  try {\n    // Lấy tổng số sản phẩm\n    const productsResponse = await api.product.getProducts({ page: 0, size: 1 })\n    if (productsResponse.data && productsResponse.data.totalElements) {\n      dashboardData.value.totalProducts = productsResponse.data.totalElements\n    }\n    \n    // Lấy đơn hàng\n    const ordersResponse = await api.order.getOrders()\n    if (Array.isArray(ordersResponse.data)) {\n      dashboardData.value.totalOrders = ordersResponse.data.length\n      dashboardData.value.recentOrders = ordersResponse.data.slice(0, 5)\n      \n      // Tính tổng doanh thu\n      dashboardData.value.totalRevenue = ordersResponse.data.reduce((sum, order) => {\n        return sum + (order.status === 'COMPLETED' ? order.totalAmount : 0)\n      }, 0)\n    }\n    \n    // Lấy người dùng\n    const usersResponse = await api.user.getUsers()\n    if (Array.isArray(usersResponse.data)) {\n      dashboardData.value.totalUsers = usersResponse.data.length\n    }\n    \n  } catch (error) {\n    console.error('Error fetching dashboard data:', error)\n    \n    // Sử dụng dữ liệu giả lập nếu API gặp lỗi\n    dashboardData.value = {\n      totalProducts: 24,\n      totalOrders: 158,\n      totalRevenue: 256800000,\n      totalUsers: 90,\n      recentOrders: [\n        { id: 1, shippingName: 'Nguyễn Văn A', totalAmount: 3500000, status: 'COMPLETED', createdAt: new Date().toISOString() },\n        { id: 2, shippingName: 'Trần Thị B', totalAmount: 7800000, status: 'PROCESSING', createdAt: new Date().toISOString() },\n        { id: 3, shippingName: 'Lê Văn C', totalAmount: 2100000, status: 'PENDING', createdAt: new Date().toISOString() }\n      ],\n      productStats: [\n        { name: 'Sâm Ngọc Linh tươi 10 năm tuổi', sold: 25, stock: 12 },\n        { name: 'Sâm Ngọc Linh tươi 15 năm tuổi', sold: 18, stock: 5 },\n        { name: 'Sâm Ngọc Linh ngâm mật ong', sold: 42, stock: 38 }\n      ]\n    }\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// Định dạng số thành tiền Việt Nam\nfunction formatCurrency(amount) {\n  return new Intl.NumberFormat('vi-VN', {\n    style: 'currency',\n    currency: 'VND'\n  }).format(amount).replace('₫', 'VNĐ')\n}\n\n// Định dạng thời gian\nfunction formatDate(dateString) {\n  return new Date(dateString).toLocaleDateString('vi-VN')\n}\n\n// Lấy màu cho trạng thái\nfunction getStatusColor(status) {\n  switch (status) {\n    case 'COMPLETED':\n      return 'bg-green-100 text-green-800'\n    case 'PROCESSING':\n      return 'bg-blue-100 text-blue-800'\n    case 'SHIPPING':\n      return 'bg-purple-100 text-purple-800'\n    case 'PENDING':\n      return 'bg-yellow-100 text-yellow-800'\n    case 'CANCELLED':\n      return 'bg-red-100 text-red-800'\n    default:\n      return 'bg-gray-100 text-gray-800'\n  }\n}\n\n// Hiển thị tên trạng thái tiếng Việt\nfunction getStatusName(status) {\n  switch (status) {\n    case 'COMPLETED':\n      return 'Hoàn thành'\n    case 'PROCESSING':\n      return 'Đang xử lý'\n    case 'SHIPPING':\n      return 'Đang giao hàng'\n    case 'PENDING':\n      return 'Chờ xử lý'\n    case 'CANCELLED':\n      return 'Đã hủy'\n    default:\n      return status\n  }\n}\n\n// Lấy thông tin khi component được khởi tạo\nonMounted(() => {\n  fetchDashboardData()\n})\n\n// Hàm đăng xuất\nasync function logout() {\n  try {\n    const token = localStorage.getItem('admin_current_token')\n    if (!token) {\n      handleLogoutSuccess()\n      return\n    }\n    \n    // Gọi API đăng xuất\n    const axios = (await import('axios')).default\n    \n    try {\n      await axios.post('http://localhost:8080/api/auth/logout', {}, {\n        headers: {\n          'Authorization': `Bearer ${token}`\n        }\n      })\n      console.log('Đăng xuất thành công từ API')\n    } catch (error) {\n      console.error('Không thể gọi API đăng xuất:', error)\n    }\n    \n    // Dù API có thành công hay không, vẫn xử lý đăng xuất ở client\n    handleLogoutSuccess()\n    \n  } catch (error) {\n    console.error('Lỗi khi đăng xuất:', error)\n    notificationService.show('Đã xảy ra lỗi khi đăng xuất', {\n      title: 'Lỗi',\n      type: 'error'\n    })\n  }\n}\n\n// Xử lý sau khi đăng xuất\nfunction handleLogoutSuccess() {\n  // Xóa token\n  localStorage.removeItem('admin_current_token')\n  \n  // Đặt lại trạng thái xác thực\n  auth.isAuthenticated.value = false\n  auth.currentUser.value = null\n  \n  // Xóa session token\n  sessionToken.resetAll()\n  \n  // Thông báo\n  notificationService.show('Đăng xuất thành công', {\n    title: 'Đăng xuất',\n    type: 'success'\n  })\n  \n  // Chuyển hướng về trang đăng nhập\n  router.push('/admin/login')\n}\n</script>\n\n<style scoped>\n/* Thêm styles nếu cần */\n</style> ","<template>\n  <div class=\"products-admin-page min-h-screen bg-gray-50\">\n    <AdminHeader />\n    \n    <div class=\"container mx-auto px-4 py-8 mt-12\">\n      <div class=\"flex justify-between items-center mb-6\">\n        <h1 class=\"text-2xl font-bold text-gray-800\">Quản lý sản phẩm</h1>\n        <button \n          @click=\"openAddProductModal\"\n          class=\"bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-md flex items-center mt-1\"\n        >\n          <i class=\"fas fa-plus mr-2\"></i> Thêm sản phẩm\n        </button>\n      </div>\n      \n      <!-- Filter Section -->\n      <div class=\"bg-white rounded-lg shadow-md p-5 mb-6\">\n        <div class=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <!-- Search -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Tìm kiếm</label>\n            <div class=\"relative\">\n              <input\n                v-model=\"searchTerm\"\n                type=\"text\"\n                placeholder=\"Tìm kiếm sản phẩm...\"\n                class=\"w-full border border-gray-300 rounded-md pl-10 pr-4 py-2 focus:ring-blue-500 focus:border-blue-500\"\n                @keyup.enter=\"applySearch\"\n              >\n              <i class=\"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"></i>\n            </div>\n            </div>\n            \n          <!-- Category filter -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Danh mục</label>\n              <select \n                v-model=\"selectedCategory\" \n              class=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500\"\n              @change=\"applySearch\"\n              >\n                <option value=\"\">Tất cả danh mục</option>\n              <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category.id\">\n                {{ category.name }}\n                </option>\n              </select>\n            </div>\n            \n          <!-- Status filter -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Trạng thái</label>\n            <select \n              v-model=\"statusFilter\" \n              class=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500\"\n              @change=\"applySearch\"\n            >\n              <option value=\"\">Tất cả trạng thái</option>\n              <option value=\"ACTIVE\">Đang bán</option>\n              <option value=\"INACTIVE\">Không bán</option>\n            </select>\n          </div>\n          \n          <!-- Stock filter -->\n          <div>\n            <label class=\"block text-sm font-medium text-gray-700 mb-1\">Tồn kho</label>\n            <select\n              v-model=\"stockFilter\"\n              @change=\"applySearch\"\n              class=\"w-full border border-gray-300 rounded-md px-3 py-2 focus:ring-blue-500 focus:border-blue-500\"\n            >\n              <option value=\"all\">Tất cả sản phẩm</option>\n              <option value=\"in-stock\">Còn hàng</option>\n              <option value=\"out-of-stock\">Hết hàng</option>\n            </select>\n          </div>\n        </div>\n        \n        <div class=\"flex justify-end mt-4\">\n            <button \n            @click=\"resetFilters\" \n            class=\"px-4 py-2 bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors flex items-center\"\n            >\n            <i class=\"fas fa-redo-alt mr-2\"></i> Đặt lại bộ lọc\n            </button>\n          </div>\n        </div>\n        \n      <!-- Error message -->\n      <div v-if=\"error\" class=\"mb-6 bg-red-50 border-l-4 border-red-500 p-5 rounded-md text-red-700\">\n        <div class=\"flex items-center\">\n          <div class=\"flex-shrink-0\">\n            <i class=\"fas fa-exclamation-circle text-red-500 text-xl\"></i>\n          </div>\n          <div class=\"ml-3\">\n            <h3 class=\"text-sm font-medium text-red-800\">Lỗi khi tải dữ liệu</h3>\n            <p class=\"mt-1 text-sm\">{{ error }}</p>\n            <div v-if=\"error.includes('đăng nhập')\" class=\"mt-3\">\n              <button \n                @click=\"redirectToLogin\"\n                class=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm inline-flex items-center\"\n              >\n                <i class=\"fas fa-sign-in-alt mr-2\"></i> Đăng nhập lại\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Loading indicator -->\n      <div v-if=\"isLoading\" class=\"flex flex-col items-center justify-center my-12\">\n        <div class=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500\"></div>\n        <p class=\"mt-4 text-gray-600\">Đang tải dữ liệu...</p>\n      </div>\n      \n      <!-- Products Table -->\n      <div v-else-if=\"products.length > 0\" class=\"bg-white rounded-lg shadow-md overflow-hidden\">\n            <table class=\"min-w-full divide-y divide-gray-200\">\n              <thead class=\"bg-gray-50\">\n                <tr>\n                  <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Sản phẩm\n                  </th>\n                  <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Danh mục\n                  </th>\n                  <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Giá\n                  </th>\n                  <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Tồn kho\n                  </th>\n                  <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                    Trạng thái\n                  </th>\n              <th scope=\"col\" class=\"px-6 py-3 text-xs font-medium text-gray-500 uppercase tracking-wider text-center\">\n                    Thao tác\n                  </th>\n                </tr>\n              </thead>\n              <tbody class=\"bg-white divide-y divide-gray-200\">\n            <tr \n              v-for=\"product in filteredProducts\" \n              :key=\"product.id\" \n              :class=\"[\n                'transition-colors', \n                product.stock <= 0 \n                  ? 'hover:bg-red-50 bg-red-50/30' \n                  : 'hover:bg-gray-50'\n              ]\"\n            >\n              <!-- Product Info -->\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                    <div class=\"flex items-center\">\n                  <div class=\"h-14 w-14 flex-shrink-0 overflow-hidden rounded-md border border-gray-200 bg-gray-50\">\n                    <img \n                      :src=\"product.image || '/assets/images/products/sam-tuoi.png'\" \n                      :alt=\"product.name\"\n                      class=\"h-full w-full object-cover object-center\"\n                      @error=\"$event.target.src = '/assets/images/products/sam-tuoi.png'\"\n                    >\n                      </div>\n                  <div class=\"ml-4 max-w-xs\">\n                    <div class=\"text-sm font-semibold text-gray-900 line-clamp-1\">\n                      {{ product.name }}\n                    </div>\n                    <div class=\"text-xs text-gray-500 mt-1\">{{ product.slug }}</div>\n                      </div>\n                    </div>\n                  </td>\n                  \n                  <!-- Category -->\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"text-sm text-gray-900 font-medium\">\n                  <span class=\"px-2 py-1 rounded-full bg-blue-50 text-blue-700 text-xs\">\n                    {{ categories.find(c => c.id === product.categoryId)?.name || 'Chưa phân loại' }}\n                  </span>\n                </div>\n                  </td>\n                  \n                  <!-- Price -->\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"flex flex-col\">\n                  <div class=\"text-sm font-medium\" :class=\"{'text-green-600': product.stock > 0, 'text-gray-500': product.stock <= 0}\">\n                    {{ formatPrice(product.price) }}\n                  </div>\n                  <div v-if=\"product.originalPrice && product.originalPrice > product.price\" class=\"text-xs text-gray-500 line-through\">\n                    {{ formatPrice(product.originalPrice) }}\n                  </div>\n                    </div>\n                  </td>\n                  \n                  <!-- Stock -->\n              <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                <div class=\"flex items-center\">\n                  <div class=\"relative\">\n                    <input \n                      type=\"number\" \n                      v-model.number=\"product.stock\" \n                      min=\"0\"\n                      @change=\"quickUpdateStock(product)\"\n                      :disabled=\"isUpdating[product.id]\"\n                      class=\"w-20 px-3 py-1.5 border rounded-md text-center focus:ring-blue-500 focus:outline-none\"\n                      :class=\"{\n                        'bg-red-50 border-red-300 text-red-700 focus:border-red-500': product.stock <= 0,\n                        'bg-yellow-50 border-yellow-300 text-yellow-700 focus:border-yellow-500': product.stock > 0 && product.stock <= 5,\n                        'bg-green-50 border-green-300 text-green-700 focus:border-green-500': product.stock > 5\n                      }\"\n                    >\n                    <!-- Mũi tên lên xuống tùy chỉnh, nếu cần -->\n                  </div>\n                  <div v-if=\"isUpdating[product.id]\" class=\"ml-2 animate-spin h-4 w-4 border-t-2 border-b-2 border-blue-500 rounded-full\"></div>\n                  \n                  <!-- Badge cải tiến cho trạng thái tồn kho -->\n                  <div v-if=\"product.stock <= 0\" class=\"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-red-100 text-red-800 border border-red-200 shadow-sm\">\n                    Hết hàng\n                  </div>\n                  <div v-else-if=\"product.stock <= 5\" class=\"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-yellow-100 text-yellow-800 border border-yellow-200 shadow-sm\">\n                    Sắp hết ({{product.stock}})\n                  </div>\n                  <div v-else class=\"ml-2 px-2 py-1 text-xs font-medium rounded-full bg-green-100 text-green-800 border border-green-200 shadow-sm\">\n                    Còn hàng\n                  </div>\n                </div>\n                  </td>\n                  \n                  <!-- Status -->\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\n                <div class=\"flex items-center\">\n                  <select \n                    v-model=\"product.status\"\n                    @change=\"quickUpdateStatus(product)\"\n                    :disabled=\"isUpdating[product.id]\"\n                    class=\"px-3 py-1.5 text-sm font-semibold rounded-md border focus:outline-none focus:ring-2 focus:ring-offset-2\"\n                    :class=\"getStatusClass(product.status)\"\n                  >\n                    <option value=\"ACTIVE\">Đang bán</option>\n                    <option value=\"INACTIVE\">Không bán</option>\n                  </select>\n                  <div v-if=\"isUpdating[product.id]\" class=\"ml-2 animate-spin h-4 w-4 border-t-2 border-b-2 border-blue-500 rounded-full\"></div>\n                </div>\n                  </td>\n                  \n                  <!-- Actions -->\n              <td class=\"px-6 py-4 whitespace-nowrap text-center text-sm font-medium\">\n                <div class=\"flex items-center justify-center space-x-3\">\n                      <button \n                    @click=\"openEditProductModal(product)\"\n                    :class=\"[\n                      'p-1.5 rounded-md transition-colors', \n                      product.stock <= 0 \n                        ? 'text-blue-600 hover:text-blue-800 bg-blue-50 hover:bg-blue-100' \n                        : 'text-indigo-600 hover:text-indigo-900 bg-indigo-50 hover:bg-indigo-100'\n                    ]\"\n                        title=\"Chỉnh sửa\"\n                      >\n                        <i class=\"fas fa-edit\"></i>\n                      </button>\n                      <button \n                    @click=\"confirmDeleteProduct(product.id)\"\n                    class=\"text-red-600 hover:text-red-900 bg-red-50 p-1.5 rounded-md hover:bg-red-100 transition-colors\"\n                        title=\"Xóa\"\n                      >\n                        <i class=\"fas fa-trash-alt\"></i>\n                      </button>\n                    </div>\n                  </td>\n                </tr>\n              </tbody>\n            </table>\n          \n          <!-- Pagination -->\n        <div v-if=\"totalPages > 1\" class=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\n          <div class=\"flex-1 flex justify-between sm:hidden\">\n            <button\n              @click=\"prevPage\"\n              :disabled=\"currentPage === 0\"\n              :class=\"[\n                currentPage === 0 ? 'bg-gray-100 text-gray-400 cursor-not-allowed' : 'bg-white text-gray-700 hover:bg-gray-50',\n                'relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md'\n              ]\"\n            >\n              Trước\n            </button>\n            <button\n              @click=\"nextPage\"\n              :disabled=\"currentPage >= totalPages - 1\"\n              :class=\"[\n                currentPage >= totalPages - 1 ? 'bg-gray-100 text-gray-400 cursor-not-allowed' : 'bg-white text-gray-700 hover:bg-gray-50',\n                'relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium rounded-md'\n              ]\"\n            >\n              Sau\n            </button>\n          </div>\n            <div class=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n              <div>\n                <p class=\"text-sm text-gray-700\">\n                Hiển thị <span class=\"font-medium\">{{ currentPage * pageSize + 1 }}</span> đến \n                <span class=\"font-medium\">{{ Math.min((currentPage + 1) * pageSize, totalItems) }}</span> của \n                <span class=\"font-medium\">{{ totalItems }}</span> sản phẩm\n                </p>\n              </div>\n              <div>\n                <nav class=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" aria-label=\"Pagination\">\n                  <button\n                  @click=\"prevPage\"\n                  :disabled=\"currentPage === 0\"\n                  class=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50\"\n                  >\n                    <i class=\"fas fa-chevron-left\"></i>\n                  </button>\n                <!-- Page numbers -->\n                <template v-for=\"i in totalPages\" :key=\"i\">\n                  <button\n                    v-if=\"Math.abs(i - 1 - currentPage) < 2 || i === 1 || i === totalPages\"\n                    @click=\"goToPage(i - 1)\"\n                    :class=\"[\n                      currentPage === i - 1 ? 'bg-blue-50 border-blue-500 text-blue-600' : 'bg-white border-gray-300 text-gray-500 hover:bg-gray-50',\n                      'relative inline-flex items-center px-4 py-2 border text-sm font-medium'\n                    ]\"\n                  >\n                    {{ i }}\n                  </button>\n                  <span\n                    v-else-if=\"i === 2 || i === totalPages - 1\"\n                    class=\"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium text-gray-700\"\n                  >\n                    ...\n                  </span>\n                </template>\n                <button\n                  @click=\"nextPage\"\n                  :disabled=\"currentPage >= totalPages - 1\"\n                  class=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50\"\n                  >\n                    <i class=\"fas fa-chevron-right\"></i>\n                  </button>\n                </nav>\n              </div>\n            </div>\n          </div>\n        </div>\n      \n      <!-- Empty state -->\n      <div v-else-if=\"!isLoading && products.length === 0\" class=\"bg-white rounded-lg shadow-md py-12 px-6 text-center\">\n        <div class=\"flex flex-col items-center max-w-md mx-auto\">\n          <div class=\"bg-gray-100 p-5 rounded-full\">\n            <i class=\"fas fa-box-open text-gray-400 text-5xl\"></i>\n      </div>\n          <h3 class=\"text-xl font-medium text-gray-900 mt-5\">Không có sản phẩm nào</h3>\n          <p class=\"text-gray-500 mt-2 mb-6\">\n            Bạn chưa có sản phẩm nào trong hệ thống. Hãy thêm sản phẩm đầu tiên để bắt đầu quản lý cửa hàng của bạn!\n          </p>\n          <button \n            @click=\"openAddProductModal\"\n            class=\"inline-flex items-center px-5 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            <i class=\"fas fa-plus mr-2\"></i> Thêm sản phẩm mới\n          </button>\n        </div>\n      </div>\n\n      <!-- No results after filtering -->\n      <div v-else-if=\"!isLoading && filteredProducts.length === 0\" class=\"bg-white rounded-lg shadow-md py-12 px-6 text-center\">\n        <div class=\"flex flex-col items-center max-w-md mx-auto\">\n          <div class=\"bg-yellow-50 p-5 rounded-full\">\n            <i class=\"fas fa-search text-yellow-400 text-5xl\"></i>\n          </div>\n          <h3 class=\"text-xl font-medium text-gray-900 mt-5\">Không tìm thấy sản phẩm</h3>\n          <p class=\"text-gray-500 mt-2 mb-6\">\n            Không có sản phẩm nào phù hợp với bộ lọc đã chọn. Vui lòng thử lại với bộ lọc khác.\n          </p>\n          <button \n            @click=\"resetFilters\"\n            class=\"inline-flex items-center px-5 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-yellow-500 hover:bg-yellow-600 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-yellow-500\"\n          >\n            <i class=\"fas fa-redo-alt mr-2\"></i> Đặt lại bộ lọc\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Add/Edit Product Modal -->\n    <div v-if=\"isModalOpen\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center p-4 z-50\">\n      <div class=\"bg-white rounded-lg shadow-xl w-full max-w-3xl max-h-[90vh] overflow-y-auto\">\n        <div class=\"flex justify-between items-center px-6 py-4 border-b border-gray-200\">\n          <h3 class=\"text-lg font-medium text-gray-900\">\n            {{ isEditMode ? 'Chỉnh sửa sản phẩm' : 'Thêm sản phẩm mới' }}\n                </h3>\n          <button @click=\"closeModal\" class=\"text-gray-400 hover:text-gray-500\">\n            <i class=\"fas fa-times\"></i>\n          </button>\n        </div>\n        \n        <div class=\"p-6\">\n          <div class=\"grid grid-cols-1 md:grid-cols-2 gap-6\">\n            <!-- Product Name -->\n            <div class=\"col-span-2\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Tên sản phẩm <span class=\"text-red-500\">*</span></label>\n                    <input\n                type=\"text\" \n                      v-model=\"productForm.name\"\n                @input=\"updateSlug\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Nhập tên sản phẩm\"\n                required\n              >\n            </div>\n            \n            <!-- Product Slug -->\n            <div class=\"col-span-2\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                Slug <span class=\"text-red-500\">*</span>\n                <span class=\"text-gray-500 text-xs font-normal\">(Dùng cho URL)</span>\n              </label>\n              <input\n                      type=\"text\"\n                v-model=\"productForm.slug\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"ten-san-pham\"\n                      required\n                    >\n                  </div>\n                  \n                  <!-- Category -->\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Danh mục <span class=\"text-red-500\">*</span></label>\n                    <select\n                v-model=\"productForm.categoryId\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                      required\n                    >\n                <option v-for=\"category in categories\" :key=\"category.id\" :value=\"category.id\">\n                  {{ category.name }}\n                      </option>\n                    </select>\n                  </div>\n                  \n            <!-- Product Status -->\n                    <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Trạng thái</label>\n              <select \n                v-model=\"productForm.status\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n              >\n                <option value=\"ACTIVE\">Đang bán</option>\n                <option value=\"INACTIVE\">Không bán</option>\n              </select>\n            </div>\n            \n            <!-- Price -->\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Giá bán (VNĐ) <span class=\"text-red-500\">*</span></label>\n                      <input\n                        type=\"number\"\n                v-model.number=\"productForm.price\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Nhập giá bán\"\n                        min=\"0\"\n                        required\n                      >\n                    </div>\n            \n            <!-- Original Price -->\n                    <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">\n                Giá gốc (VNĐ)\n                <span class=\"text-gray-500 text-xs font-normal\">(để hiển thị giá khuyến mãi)</span>\n              </label>\n                      <input\n                        type=\"number\"\n                v-model.number=\"productForm.originalPrice\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Nhập giá gốc\"\n                        min=\"0\"\n                      >\n                  </div>\n                  \n            <!-- Stock -->\n                    <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Số lượng tồn kho <span class=\"text-red-500\">*</span></label>\n                      <input\n                        type=\"number\"\n                v-model.number=\"productForm.stock\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Nhập số lượng tồn kho\"\n                        min=\"0\"\n                        required\n                      >\n                    </div>\n            \n            <!-- Image URL -->\n                    <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">URL hình ảnh</label>\n              <input \n                type=\"text\" \n                v-model=\"productForm.image\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Nhập đường dẫn hình ảnh\"\n              >\n                  </div>\n                  \n                  <!-- Description -->\n            <div class=\"col-span-2\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Mô tả sản phẩm</label>\n                    <textarea\n                      v-model=\"productForm.description\"\n                rows=\"4\"\n                class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:ring-blue-500 focus:border-blue-500\"\n                placeholder=\"Nhập mô tả sản phẩm\"\n                    ></textarea>\n            </div>\n          </div>\n                  </div>\n                  \n        <div class=\"px-6 py-4 border-t border-gray-200 bg-gray-50 flex items-center justify-end gap-3\">\n          <button \n            type=\"button\" \n            @click=\"closeModal\" \n            class=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-gray-500\"\n          >\n            Hủy\n          </button>\n          <button \n            type=\"button\"\n            @click=\"saveProduct\"\n            class=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500\"\n          >\n            {{ isEditMode ? 'Cập nhật' : 'Thêm mới' }}\n          </button>\n                  </div>\n              </div>\n            </div>\n\n    <!-- Confirm Delete Dialog -->\n    <div v-if=\"showDeleteConfirm\" class=\"fixed inset-0 z-50 overflow-y-auto\">\n      <div class=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\">\n        <div class=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n          <div class=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n          </div>\n          \n        <!-- Confirm dialog -->\n        <div class=\"inline-block align-bottom bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n          <div class=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n            <div class=\"sm:flex sm:items-start\">\n              <div class=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10\">\n                <i class=\"fas fa-exclamation-triangle text-red-600\"></i>\n              </div>\n              <div class=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n                <h3 class=\"text-lg leading-6 font-medium text-gray-900\">\n                  Xác nhận xóa sản phẩm\n                </h3>\n                <div class=\"mt-2\">\n                  <p class=\"text-sm text-gray-500\">\n                    Bạn có chắc chắn muốn xóa sản phẩm này? Hành động này không thể khôi phục.\n                  </p>\n                </div>\n              </div>\n            </div>\n          </div>\n          <div class=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\n            <button \n              @click=\"handleDeleteConfirm\" \n              class=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm\"\n            >\n              Xóa sản phẩm\n            </button>\n            <button \n              @click=\"showDeleteConfirm = false\" \n              class=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\"\n            >\n              Hủy\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, reactive, onMounted } from 'vue'\nimport AdminHeader from '@/components/admin/AdminHeader.vue'\nimport api from '@/api'\nimport notificationService from '@/utils/notificationService'\n\n// State\nconst products = ref([])\nconst categories = ref([])\nconst isLoading = ref(true)\nconst error = ref(null)\n\n// Pagination\nconst currentPage = ref(0)\nconst pageSize = ref(10)\nconst totalItems = ref(0)\nconst totalPages = ref(0)\n\n// Search filters\nconst searchTerm = ref('')\nconst selectedCategory = ref('')\nconst stockFilter = ref('all')\nconst statusFilter = ref('')\n\n// Modal state\nconst isModalOpen = ref(false)\nconst isEditMode = ref(false)\nconst currentProductId = ref(null)\n\n// Product form\nconst productForm = reactive({\n  name: '',\n  slug: '',\n  description: '',\n  price: 0,\n  originalPrice: 0,\n  image: '',\n  categoryId: null,\n  stock: 0,\n  status: 'ACTIVE'\n})\n\n// State for quick updates\nconst isUpdating = ref({})\n\n// Computed properties\nconst filteredProducts = computed(() => {\n  let result = products.value\n\n  // Filter by search term\n    if (searchTerm.value) {\n    const search = searchTerm.value.toLowerCase()\n    result = result.filter(product => \n      product.name.toLowerCase().includes(search) || \n      (product.description && product.description.toLowerCase().includes(search))\n    )\n  }\n\n  // Filter by category\n  if (selectedCategory.value) {\n    result = result.filter(product => String(product.categoryId) === String(selectedCategory.value))\n  }\n\n  // Filter by stock\n  if (stockFilter.value === 'in-stock') {\n    result = result.filter(product => product.stock > 0)\n  } else if (stockFilter.value === 'out-of-stock') {\n    result = result.filter(product => product.stock <= 0)\n  }\n\n  // Filter by status\n  if (statusFilter.value) {\n    result = result.filter(product => product.status === statusFilter.value)\n  }\n\n  return result\n})\n\n// Convert string to slug\nfunction slugify(text) {\n  return text\n    .toString()\n    .toLowerCase()\n    .normalize('NFD')\n    .replace(/[\\u0300-\\u036f]/g, '')\n    .replace(/đ/g, 'd')\n    .replace(/[^\\w\\s-]/g, '')\n    .replace(/[\\s_-]+/g, '-')\n    .replace(/^-+|-+$/g, '')\n}\n\n// Auto-generate slug when name changes\nfunction updateSlug() {\n  if (!isEditMode.value || (isEditMode.value && !productForm.slug)) {\n    productForm.slug = slugify(productForm.name)\n  }\n}\n\n// Format price\nfunction formatPrice(price) {\n  return new Intl.NumberFormat('vi-VN', {\n    style: 'currency',\n    currency: 'VND',\n    maximumFractionDigits: 0\n  }).format(price)\n}\n\n// Status display\nfunction getStatusDisplay(product) {\n  if (product.status === 'ACTIVE') {\n    return { text: 'Đang bán', class: 'bg-green-100 text-green-800' }\n  }\n  return { text: 'Không bán', class: 'bg-gray-100 text-gray-800' }\n}\n\n// Hàm lấy tên danh mục theo id\nfunction getCategoryName(categoryId) {\n  const category = categories.value.find(c => c.id === categoryId)\n  return category ? category.name : 'Chưa phân loại'\n}\n\n// Hàm xác định trạng thái sản phẩm\nfunction getProductStatus(product) {\n  // Nếu trạng thái không hợp lệ hoặc là OUT_OF_STOCK, chuyển về INACTIVE\n  if (!product.status || product.status === 'OUT_OF_STOCK' || !['ACTIVE', 'INACTIVE'].includes(product.status)) {\n    return 'INACTIVE';\n  }\n  return product.status;\n}\n\n// API calls\nasync function fetchCategories() {\n  try {\n    console.log('Đang tải danh mục sản phẩm...')\n    \n    try {\n      // Thử gọi API danh mục\n      const response = await api.category.getCategories()\n      if (response.data && response.data.length > 0) {\n        console.log('Đã tải danh mục từ API:', response.data)\n        categories.value = response.data\n  } else {\n        console.log('API trả về danh mục rỗng')\n        categories.value = []\n      }\n    } catch (apiError) {\n      console.error('Lỗi khi tải danh mục từ API:', apiError)\n      categories.value = []\n    }\n  } catch (error) {\n    console.error('Lỗi chung khi tải danh mục:', error)\n    categories.value = []\n  }\n}\n\nfunction redirectToLogin() {\n  window.location.href = '/admin/login'\n}\n\n// Cập nhật hàm fetchAllProducts dựa theo API mới\nasync function fetchAllProducts() {\n  isLoading.value = true;\n  error.value = null;\n  \n  try {\n    console.log('=== Bắt đầu tải sản phẩm ===');\n    \n    // Kiểm tra token trước khi gọi API\n    const token = localStorage.getItem('admin_current_token') || localStorage.getItem('token');\n    if (!token) {\n      error.value = 'Bạn chưa đăng nhập hoặc phiên làm việc đã hết hạn. Vui lòng đăng nhập lại.';\n      isLoading.value = false;\n      setTimeout(() => { redirectToLogin(); }, 3000);\n      return;\n    }\n    \n    // Thiết lập params - số lượng lớn để lấy tất cả sản phẩm\n    const params = {\n      page: 0,\n      size: 10000 // Số lượng lớn để đảm bảo tải tất cả sản phẩm\n    };\n    \n    // Chỉ thêm tham số status khi người dùng chọn lọc theo trạng thái cụ thể\n    if (statusFilter.value) {\n      params.status = statusFilter.value;\n    }\n    \n    console.log('Đang tải sản phẩm với params:', params);\n    \n    // Sử dụng axios trực tiếp\n    const axios = (await import('axios')).default;\n    const response = await axios.get('/products', {\n      baseURL: 'http://localhost:8080/api',\n      params,\n      headers: {\n        'Content-Type': 'application/json',\n        'Authorization': token ? `Bearer ${token}` : undefined\n      }\n    });\n    \n    console.log('API trả về:', response.data);\n    \n    // Kiểm tra cấu trúc và xử lý dữ liệu từ API\n    if (response.data) {\n      let apiProducts = [];\n      \n      // Kiểm tra cấu trúc phản hồi từ API\n      if (response.data.content && Array.isArray(response.data.content)) {\n        // Cấu trúc phổ biến: { content: [...], totalElements, totalPages }\n        apiProducts = response.data.content;\n        totalItems.value = response.data.totalElements || apiProducts.length;\n        totalPages.value = response.data.totalPages || 1;\n      } else if (response.data.products && Array.isArray(response.data.products)) {\n        // Cấu trúc thay thế: { products: [...], totalItems, totalPages }\n        apiProducts = response.data.products;\n        totalItems.value = response.data.totalItems || apiProducts.length;\n        totalPages.value = response.data.totalPages || 1;\n      } else if (Array.isArray(response.data)) {\n        // Mảng trực tiếp không có phân trang\n        apiProducts = response.data;\n        totalItems.value = apiProducts.length;\n        totalPages.value = 1;\n      }\n      \n      console.log(`Đã tải ${apiProducts.length} sản phẩm`);\n      \n      if (apiProducts.length > 0) {\n        // Cập nhật danh sách sản phẩm\n        products.value = apiProducts.map(p => ({\n          id: p.id,\n          name: p.name,\n          description: p.description || '',\n          price: p.price,\n          originalPrice: p.originalPrice,\n          image: p.image || '/assets/images/products/sam-tuoi.png',\n          categoryId: p.categoryId,\n          categoryName: getCategoryName(p.categoryId),\n          stock: p.stock || 0,\n          status: p.status || 'INACTIVE',\n          slug: p.slug || slugify(p.name)\n        }));\n        \n        console.log(`Đã tải tổng cộng ${products.value.length} sản phẩm từ API`);\n      } else {\n        products.value = [];\n        console.log('Không có sản phẩm nào được tải');\n      }\n    } else {\n      products.value = [];\n      totalItems.value = 0;\n      totalPages.value = 0;\n      console.log('Không có dữ liệu từ API');\n    }\n  } catch (err) {\n    console.error('Lỗi khi tải sản phẩm:', err);\n    error.value = 'Không thể tải danh sách sản phẩm. Vui lòng thử lại sau.';\n    products.value = [];\n    totalItems.value = 0;\n    totalPages.value = 0;\n  } finally {\n    isLoading.value = false;\n  }\n}\n\n// Modal functions\nfunction openAddProductModal() {\n  isEditMode.value = false\n  currentProductId.value = null\n  \n  // Reset form\n    Object.assign(productForm, {\n      name: '',\n    slug: '',\n    description: '',\n      price: 0,\n    originalPrice: 0,\n    image: '',\n    categoryId: categories.value.length > 0 ? categories.value[0].id : null,\n      stock: 0,\n    status: 'ACTIVE'\n  })\n  \n  isModalOpen.value = true\n}\n\nfunction openEditProductModal(product) {\n  isEditMode.value = true\n  currentProductId.value = product.id\n  \n  // Populate form with product data\n  Object.assign(productForm, {\n    name: product.name,\n    slug: product.slug,\n    description: product.description,\n    price: product.price,\n    originalPrice: product.originalPrice || product.price,\n    image: product.image,\n    categoryId: product.categoryId,\n    stock: product.stock,\n    status: product.status\n  })\n  \n  isModalOpen.value = true\n}\n\nfunction closeModal() {\n  isModalOpen.value = false\n}\n\n// Save product\nasync function saveProduct() {\n  if (!productForm.name || !productForm.price) {\n    notificationService.show('Vui lòng điền đầy đủ thông tin sản phẩm', {\n      title: 'Lỗi',\n      type: 'error'\n    })\n    return\n  }\n  \n  isLoading.value = true\n  \n  try {\n    // Kiểm tra token trước khi gọi API\n    const token = localStorage.getItem('admin_current_token') || localStorage.getItem('token')\n    if (!token) {\n      notificationService.show('Bạn chưa đăng nhập hoặc phiên làm việc đã hết hạn. Vui lòng đăng nhập lại.', {\n        title: 'Lỗi xác thực',\n        type: 'error'\n      })\n      isLoading.value = false\n      // Tự động chuyển hướng đến trang đăng nhập sau 3 giây\n      setTimeout(() => {\n        redirectToLogin()\n      }, 3000)\n      return\n    }\n    \n    // Chuyển đổi giá và stock thành số\n    const productData = {\n      ...productForm,\n      price: Number(productForm.price),\n      originalPrice: productForm.originalPrice ? Number(productForm.originalPrice) : null,\n      stock: Number(productForm.stock),\n    }\n    \n    try {\n      let response\n      \n      if (isEditMode.value) {\n        console.log(`Đang cập nhật sản phẩm ID: ${currentProductId.value}`)\n        \n        // Sử dụng API wrapper\n        response = await api.product.updateProduct(currentProductId.value, productData)\n        \n        console.log('Sản phẩm đã được cập nhật:', response.data)\n        \n        // Cập nhật sản phẩm trong danh sách\n        const index = products.value.findIndex(p => p.id === response.data.id)\n    if (index !== -1) {\n          // Đảm bảo trạng thái hợp lệ khi cập nhật lại danh sách\n          products.value[index] = {\n            ...response.data,\n            categoryName: getCategoryName(response.data.categoryId)\n          }\n        }\n        \n        notificationService.show('Sản phẩm đã được cập nhật thành công', {\n          title: 'Thành công',\n          type: 'success'\n        })\n  } else {\n        console.log('Đang tạo sản phẩm mới')\n        \n        // Sử dụng API wrapper\n        response = await api.product.createProduct(productData)\n        \n        console.log('Sản phẩm mới đã được tạo:', response.data)\n        \n        // Thêm sản phẩm mới vào danh sách\n        products.value.unshift({\n          ...response.data,\n          categoryName: getCategoryName(response.data.categoryId)\n        })\n        \n        notificationService.show('Sản phẩm mới đã được tạo thành công', {\n          title: 'Thành công',\n          type: 'success'\n        })\n      }\n      \n      // Đóng modal sau khi lưu\n  closeModal()\n      \n    } catch (apiError) {\n      console.error('Lỗi khi gọi API sản phẩm:', apiError)\n      \n      if (apiError.response) {\n        if (apiError.response.status === 401 || apiError.response.status === 403) {\n          notificationService.show('Token không hợp lệ hoặc đã hết hạn. Vui lòng đăng nhập lại.', {\n            title: 'Lỗi xác thực',\n            type: 'error'\n          })\n          // Xóa token không hợp lệ\n          localStorage.removeItem('admin_current_token')\n          localStorage.removeItem('token')\n          // Chuyển hướng đến trang đăng nhập sau 3 giây\n          setTimeout(() => {\n            redirectToLogin()\n          }, 3000)\n        } else {\n          notificationService.show(`Lỗi từ máy chủ: ${apiError.response.status} - ${apiError.response.data?.message || 'Không thể lưu sản phẩm'}`, {\n            title: 'Lỗi',\n            type: 'error'\n          })\n        }\n      } else {\n        notificationService.show('Không thể kết nối đến máy chủ API. Vui lòng kiểm tra kết nối mạng.', {\n          title: 'Lỗi kết nối',\n          type: 'error'\n        })\n      }\n    }\n  } catch (err) {\n    console.error('Lỗi chung khi lưu sản phẩm:', err)\n    notificationService.show('Đã xảy ra lỗi khi lưu sản phẩm. Vui lòng thử lại sau.', {\n      title: 'Lỗi',\n      type: 'error'\n    })\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// Delete product\nconst showDeleteConfirm = ref(false)\nconst productToDelete = ref(null)\n\nfunction openDeleteConfirm(productId) {\n  productToDelete.value = productId\n  showDeleteConfirm.value = true\n}\n\nfunction handleDeleteConfirm() {\n  const productId = productToDelete.value\n  showDeleteConfirm.value = false\n  if (productId) {\n    deleteProduct(productId)\n  }\n}\n\nasync function deleteProduct(productId) {\n  // Kiểm tra ID sản phẩm hợp lệ\n  if (!productId || isNaN(parseInt(productId)) || parseInt(productId) <= 0) {\n    notificationService.show('ID sản phẩm không hợp lệ, vui lòng thử lại.', {\n      title: 'Lỗi dữ liệu',\n      type: 'error'\n    })\n    return\n  }\n  \n  try {\n    // Kiểm tra token trước khi gọi API\n    const token = localStorage.getItem('admin_current_token') || localStorage.getItem('token')\n    if (!token) {\n      notificationService.show('Bạn chưa đăng nhập hoặc phiên làm việc đã hết hạn. Vui lòng đăng nhập lại.', {\n        title: 'Lỗi xác thực',\n        type: 'error'\n      })\n      // Tự động chuyển hướng đến trang đăng nhập sau 3 giây\n      setTimeout(() => {\n        redirectToLogin()\n      }, 3000)\n      return\n    }\n    \n    console.log(`Đang gửi yêu cầu xóa sản phẩm ID: ${productId}`)\n    isLoading.value = true\n    \n    try {\n      // Sử dụng API wrapper\n      await api.product.deleteProduct(productId)\n      \n      console.log(`Đã xóa sản phẩm ID: ${productId} thành công`)\n      \n      // Remove from local array\n      products.value = products.value.filter(p => p.id !== productId)\n      \n      notificationService.show('Sản phẩm đã được xóa thành công', {\n        title: 'Thành công',\n        type: 'success'\n      })\n    } catch (apiError) {\n      console.error('Lỗi khi gọi API xóa sản phẩm:', apiError)\n      \n      if (apiError.response) {\n        const status = apiError.response.status\n        const errorMessage = apiError.response.data?.message || 'Không có thông tin chi tiết'\n        \n        // Xử lý theo mã lỗi cụ thể\n        switch (status) {\n          case 400:\n            notificationService.show(`ID sản phẩm không hợp lệ: ${errorMessage}`, {\n              title: 'Lỗi dữ liệu',\n              type: 'error'\n            })\n            break\n            \n          case 401:\n            notificationService.show('Token không hợp lệ hoặc đã hết hạn. Vui lòng đăng nhập lại.', {\n              title: 'Lỗi xác thực',\n              type: 'error'\n            })\n            // Xóa token không hợp lệ\n            localStorage.removeItem('admin_current_token')\n            localStorage.removeItem('token')\n            // Chuyển hướng đến trang đăng nhập sau 3 giây\n            setTimeout(() => {\n              redirectToLogin()\n            }, 3000)\n            break\n            \n          case 403:\n            notificationService.show('Bạn không có quyền xóa sản phẩm. Vui lòng liên hệ quản trị viên.', {\n              title: 'Lỗi phân quyền',\n              type: 'error'\n            })\n            break\n            \n          case 404:\n            notificationService.show(`Không tìm thấy sản phẩm với ID: ${productId}`, {\n              title: 'Không tìm thấy',\n              type: 'error'\n            })\n            // Xóa khỏi mảng local vì không tồn tại trên server\n            products.value = products.value.filter(p => p.id !== productId)\n            break\n            \n          default:\n            notificationService.show(`Lỗi từ máy chủ: ${status} - ${errorMessage}`, {\n              title: 'Lỗi',\n              type: 'error'\n            })\n        }\n      } else {\n        notificationService.show('Không thể kết nối đến máy chủ API. Vui lòng kiểm tra kết nối mạng.', {\n          title: 'Lỗi kết nối',\n          type: 'error'\n        })\n      }\n    } finally {\n      isLoading.value = false\n    }\n  } catch (err) {\n    console.error('Lỗi chung khi xóa sản phẩm:', err)\n    notificationService.show('Không thể xóa sản phẩm. Vui lòng thử lại sau.', {\n      title: 'Lỗi',\n      type: 'error'\n    })\n    isLoading.value = false\n  }\n}\n\n// Pagination functions\nfunction goToPage(page) {\n  currentPage.value = page\n  fetchAllProducts()\n}\n\nfunction nextPage() {\n  if (currentPage.value < totalPages.value - 1) {\n    currentPage.value++\n    fetchAllProducts()\n  }\n}\n\nfunction prevPage() {\n  if (currentPage.value > 0) {\n    currentPage.value--\n    fetchAllProducts()\n  }\n}\n\n// Search and filter functions\nfunction applySearch() {\n  currentPage.value = 0\n  fetchAllProducts()\n}\n\nfunction searchProducts() {\n  applySearch()\n}\n\nfunction resetFilters() {\n  searchTerm.value = ''\n  selectedCategory.value = ''\n  statusFilter.value = ''\n  stockFilter.value = 'all'\n  fetchAllProducts()\n}\n\n// Load data when component mounts\nonMounted(async () => {\n  try {\n    // Tải danh mục sản phẩm\n    await fetchCategories()\n    \n    // Tải tất cả sản phẩm, bao gồm cả ACTIVE và INACTIVE\n    await fetchAllProducts()\n    \n    console.log('Đã khởi tạo trang sản phẩm với', products.value.length, 'sản phẩm')\n  } catch (error) {\n    console.error('Lỗi khi khởi tạo trang:', error)\n  }\n})\n\n// Cập nhật nút xóa sản phẩm để gọi openDeleteConfirm\nfunction confirmDeleteProduct(productId) {\n  openDeleteConfirm(productId);\n}\n\n// Quick update functions\nasync function quickUpdateStatus(product) {\n  if (isUpdating.value[product.id]) return\n  \n  isUpdating.value[product.id] = true\n  \n  try {\n    const token = localStorage.getItem('admin_current_token') || localStorage.getItem('token')\n    if (!token) {\n      notificationService.show('Bạn cần đăng nhập lại để thực hiện thao tác này', {\n        title: 'Lỗi xác thực',\n        type: 'error'\n      })\n      return\n    }\n    \n    // Sử dụng API wrapper (chỉ gửi trường status)\n    await api.product.updateProduct(product.id, {\n      status: product.status\n    })\n    \n    console.log(`Đã cập nhật trạng thái sản phẩm ID: ${product.id} thành ${product.status}`)\n    \n    notificationService.show(`Đã cập nhật trạng thái thành ${getStatusDisplayText(product.status)}`, {\n      title: 'Cập nhật thành công',\n      type: 'success',\n      duration: 2000\n    })\n    \n  } catch (error) {\n    console.error('Lỗi khi cập nhật trạng thái:', error)\n    \n    // Xử lý lỗi HTTP cụ thể\n    if (error.response) {\n      const status = error.response.status\n      \n      handleApiError(status, error.response.data?.message, 'trạng thái')\n      \n      // Khôi phục trạng thái ban đầu\n      const originalProduct = products.value.find(p => p.id === product.id)\n      if (originalProduct) {\n        product.status = originalProduct.status\n      }\n    } else {\n      notificationService.show('Lỗi kết nối khi cập nhật trạng thái', {\n        title: 'Lỗi',\n        type: 'error'\n      })\n    }\n  } finally {\n    isUpdating.value[product.id] = false\n  }\n}\n\nasync function quickUpdateStock(product) {\n  if (isUpdating.value[product.id]) return\n  \n  isUpdating.value[product.id] = true\n  \n  try {\n    const token = localStorage.getItem('admin_current_token') || localStorage.getItem('token')\n    if (!token) {\n      notificationService.show('Bạn cần đăng nhập lại để thực hiện thao tác này', {\n        title: 'Lỗi xác thực',\n        type: 'error'\n      })\n      return\n    }\n    \n    // Validate stock\n    if (product.stock < 0) {\n      product.stock = 0\n    }\n    \n    // Sử dụng API wrapper (chỉ gửi trường stock)\n    await api.product.updateProduct(product.id, {\n      stock: product.stock\n    })\n    \n    console.log(`Đã cập nhật số lượng sản phẩm ID: ${product.id} thành ${product.stock}`)\n    \n    notificationService.show(`Đã cập nhật số lượng thành ${product.stock}`, {\n      title: 'Cập nhật thành công',\n      type: 'success',\n      duration: 2000\n    })\n    \n  } catch (error) {\n    console.error('Lỗi khi cập nhật số lượng:', error)\n    \n    // Xử lý lỗi HTTP cụ thể\n    if (error.response) {\n      const status = error.response.status\n      \n      handleApiError(status, error.response.data?.message, 'số lượng')\n      \n      // Khôi phục số lượng ban đầu\n      const originalProduct = products.value.find(p => p.id === product.id)\n      if (originalProduct) {\n        product.stock = originalProduct.stock\n      }\n    } else {\n      notificationService.show('Lỗi kết nối khi cập nhật số lượng', {\n        title: 'Lỗi',\n        type: 'error'\n      })\n    }\n  } finally {\n    isUpdating.value[product.id] = false\n  }\n}\n\n// Hàm xử lý lỗi API chung\nfunction handleApiError(status, message, fieldName) {\n  switch (status) {\n    case 400:\n      notificationService.show(`Dữ liệu ${fieldName} không hợp lệ: ${message || 'Vui lòng kiểm tra lại'}`, {\n        title: 'Lỗi dữ liệu',\n        type: 'error'\n      })\n      break\n    case 401:\n      notificationService.show('Token không hợp lệ hoặc đã hết hạn. Vui lòng đăng nhập lại.', {\n        title: 'Lỗi xác thực',\n        type: 'error'\n      })\n      localStorage.removeItem('admin_current_token')\n      localStorage.removeItem('token')\n      setTimeout(() => {\n        redirectToLogin()\n      }, 3000)\n      break\n    case 403:\n      notificationService.show('Bạn không có quyền thực hiện thao tác này', {\n        title: 'Lỗi phân quyền',\n        type: 'error'\n      })\n      break\n    case 404:\n      notificationService.show(`Không tìm thấy sản phẩm cần cập nhật ${fieldName}`, {\n        title: 'Không tìm thấy',\n        type: 'error'\n      })\n      break\n    default:\n      notificationService.show(`Lỗi máy chủ khi cập nhật ${fieldName}: ${message || status}`, {\n        title: 'Lỗi',\n        type: 'error'\n      })\n  }\n}\n\n// Hàm lấy CSS class dựa trên trạng thái\nfunction getStatusClass(status) {\n  if (status === 'ACTIVE') {\n    return 'bg-green-100 text-green-800 border-green-300 focus:ring-green-500'\n  } else {\n    return 'bg-gray-100 text-gray-800 border-gray-300 focus:ring-gray-500'\n  }\n}\n\n// Hàm lấy text hiển thị cho trạng thái\nfunction getStatusDisplayText(status) {\n  if (status === 'ACTIVE') {\n    return 'Đang bán'\n  } else {\n    return 'Không bán'\n  }\n}\n\n// Hàm xử lý dữ liệu sản phẩm trước khi hiển thị\nfunction processProductData(productData) {\n  // Không còn xử lý chuẩn hóa trạng thái nữa, trả về nguyên bản\n  return productData;\n}\n\nconst filterProducts = () => {\n  // Reset to first page when filters change\n  currentPage.value = 1\n}\n\nconst filterByCategory = () => {\n  filterProducts()\n}\n</script>\n\n<style scoped>\n.line-clamp-1 {\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n</style> ","<template>\n  <div class=\"services-management admin-dashboard bg-gray-50 min-h-screen\">\n    <!-- Header -->\n    <AdminHeader />\n    \n    <!-- Main Content -->\n    <main class=\"py-6\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <!-- Page Title -->\n        <div class=\"flex justify-between items-center mb-6\">\n          <h1 class=\"text-2xl font-bold text-gray-800\">Quản lý dịch vụ</h1>\n          <button \n            @click=\"openAddModal\"\n            class=\"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 transition-colors\"\n          >\n            <i class=\"fas fa-plus\"></i>\n            Thêm dịch vụ mới\n          </button>\n        </div>\n        \n        <!-- Search and filters -->\n        <div class=\"bg-white p-4 rounded shadow mb-6\">\n          <div class=\"flex flex-wrap gap-4\">\n            <div class=\"flex-1 min-w-[200px]\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Tìm kiếm</label>\n              <div class=\"relative\">\n                <input \n                  v-model=\"searchQuery\"\n                  type=\"text\" \n                  placeholder=\"Tìm kiếm dịch vụ...\" \n                  class=\"w-full px-4 py-2 border rounded-md\"\n                  @keyup.enter=\"searchQuery = searchQuery\"\n                >\n                <button \n                  class=\"absolute right-2 top-2 text-gray-400\"\n                  @click=\"searchQuery = searchQuery\"\n                >\n                  <i class=\"fas fa-search\"></i>\n                </button>\n              </div>\n            </div>\n            \n            <div class=\"w-48\">\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Trạng thái</label>\n              <select \n                v-model=\"statusFilter\" \n                class=\"w-full px-4 py-2 border rounded-md\"\n              >\n                <option value=\"all\">Tất cả</option>\n                <option value=\"active\">Đang hoạt động</option>\n                <option value=\"inactive\">Không hoạt động</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Error message -->\n        <div v-if=\"error\" class=\"bg-red-100 border-l-4 border-red-500 text-red-700 p-4 mb-6\">\n          <p>{{ error }}</p>\n        </div>\n        \n        <!-- Loading indicator -->\n        <div v-if=\"isLoading\" class=\"flex justify-center my-10\">\n          <div class=\"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-blue-500\"></div>\n        </div>\n        \n        <!-- Services table -->\n        <div v-else-if=\"filteredServices.length > 0\" class=\"bg-white rounded shadow overflow-x-auto\">\n          <table class=\"min-w-full divide-y divide-gray-200\">\n            <thead class=\"bg-gray-50\">\n              <tr>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Tên dịch vụ\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Giá\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Thời gian\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Trạng thái\n                </th>\n                <th class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  Thao tác\n                </th>\n              </tr>\n            </thead>\n            <tbody class=\"bg-white divide-y divide-gray-200\">\n              <tr v-for=\"service in filteredServices\" :key=\"service.id\">\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <div class=\"flex items-center\">\n                    <div class=\"flex-shrink-0 h-10 w-10 flex items-center justify-center bg-blue-100 rounded-full\">\n                      <i :class=\"[service.icon, 'text-blue-500 text-lg']\"></i>\n                    </div>\n                    <div class=\"ml-4\">\n                      <div class=\"text-sm font-medium text-gray-900 line-clamp-1\">\n                        {{ service.name }}\n                      </div>\n                      <div class=\"text-sm text-gray-500 line-clamp-1\">\n                        {{ service.description }}\n                      </div>\n                    </div>\n                  </div>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <div class=\"text-sm text-gray-900\">{{ formatPrice(service.price) }}</div>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <div class=\"text-sm text-gray-900\">{{ service.duration }}</div>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <span class=\"px-2 inline-flex text-xs leading-5 font-semibold rounded-full\" \n                    :class=\"service.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-red-100 text-red-800'\">\n                    {{ service.status === 'active' ? 'Đang hoạt động' : 'Không hoạt động' }}\n                  </span>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm font-medium\">\n                  <div class=\"flex space-x-2\">\n                    <button \n                      @click=\"editService(service)\" \n                      class=\"text-indigo-600 hover:text-indigo-900\"\n                      title=\"Chỉnh sửa\"\n                    >\n                      <i class=\"fas fa-edit\"></i>\n                    </button>\n                    <button \n                      @click=\"toggleServiceStatus(service)\" \n                      class=\"text-yellow-600 hover:text-yellow-900\"\n                      :title=\"service.status === 'active' ? 'Vô hiệu hóa' : 'Kích hoạt'\"\n                    >\n                      <i :class=\"service.status === 'active' ? 'fas fa-toggle-on' : 'fas fa-toggle-off'\"></i>\n                    </button>\n                    <button \n                      @click=\"confirmDelete(service.id)\" \n                      class=\"text-red-600 hover:text-red-900\"\n                      title=\"Xóa\"\n                    >\n                      <i class=\"fas fa-trash-alt\"></i>\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          \n          <!-- Pagination -->\n          <div v-if=\"totalPages > 1\" class=\"px-6 py-3 flex items-center justify-between border-t\">\n            <div class=\"flex-1 flex justify-between sm:hidden\">\n              <button \n                @click=\"prevPage\" \n                :disabled=\"currentPage === 0\"\n                :class=\"currentPage === 0 ? 'bg-gray-300 text-gray-500' : 'bg-blue-500 hover:bg-blue-600 text-white'\"\n                class=\"px-4 py-2 rounded\"\n              >\n                Trước\n              </button>\n              <button \n                @click=\"nextPage\" \n                :disabled=\"currentPage >= totalPages - 1\"\n                :class=\"currentPage >= totalPages - 1 ? 'bg-gray-300 text-gray-500' : 'bg-blue-500 hover:bg-blue-600 text-white'\"\n                class=\"px-4 py-2 rounded\"\n              >\n                Sau\n              </button>\n            </div>\n            <div class=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\n              <div>\n                <p class=\"text-sm text-gray-700\">\n                  Hiển thị <span class=\"font-medium\">{{ filteredServices.length }}</span> trong số \n                  <span class=\"font-medium\">{{ totalServices }}</span> dịch vụ\n                </p>\n              </div>\n              <div>\n                <nav class=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\">\n                  <button \n                    @click=\"prevPage\" \n                    :disabled=\"currentPage === 0\"\n                    class=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50\"\n                  >\n                    <i class=\"fas fa-chevron-left\"></i>\n                  </button>\n                  <button \n                    v-for=\"page in totalPages\" \n                    :key=\"page\"\n                    @click=\"goToPage(page - 1)\"\n                    :class=\"currentPage === page - 1 ? 'bg-blue-50 border-blue-500 text-blue-600' : 'bg-white text-gray-500 hover:bg-gray-50'\"\n                    class=\"relative inline-flex items-center px-4 py-2 border border-gray-300 text-sm font-medium\"\n                  >\n                    {{ page }}\n                  </button>\n                  <button \n                    @click=\"nextPage\" \n                    :disabled=\"currentPage >= totalPages - 1\"\n                    class=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50\"\n                  >\n                    <i class=\"fas fa-chevron-right\"></i>\n                  </button>\n                </nav>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Empty state -->\n        <div v-else-if=\"!isLoading\" class=\"bg-white p-8 rounded shadow text-center\">\n          <i class=\"fas fa-inbox text-4xl text-gray-400 mb-4\"></i>\n          <h3 class=\"text-lg font-medium text-gray-900 mb-1\">Không có dịch vụ nào</h3>\n          <p class=\"text-gray-500 mb-4\">Không tìm thấy dịch vụ nào phù hợp với tìm kiếm của bạn.</p>\n          <button \n            @click=\"openAddModal\" \n            class=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-blue-600 hover:bg-blue-700\"\n          >\n            <i class=\"fas fa-plus mr-2\"></i>\n            Thêm dịch vụ mới\n          </button>\n        </div>\n      </div>\n    </main>\n    \n    <!-- Add/Edit Service Modal -->\n    <div v-if=\"isModalOpen\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4\">\n      <div class=\"bg-white rounded-lg shadow-xl max-w-2xl w-full max-h-[90vh] overflow-y-auto\">\n        <div class=\"px-6 py-4 border-b\">\n          <h3 class=\"text-lg font-medium text-gray-900\">\n            {{ isEditMode ? 'Chỉnh sửa dịch vụ' : 'Thêm dịch vụ mới' }}\n          </h3>\n        </div>\n        \n        <div class=\"p-6\">\n          <div class=\"space-y-4\">\n            <!-- Service Name -->\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Tên dịch vụ *</label>\n              <input \n                v-model=\"serviceForm.name\" \n                type=\"text\" \n                class=\"w-full px-4 py-2 border rounded-md\"\n                placeholder=\"Nhập tên dịch vụ\"\n              >\n            </div>\n            \n            <!-- Icon -->\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Icon</label>\n              <div class=\"flex space-x-4\">\n                <div class=\"w-16 h-16 flex items-center justify-center bg-blue-100 rounded-lg\">\n                  <i :class=\"[serviceForm.icon, 'text-blue-500 text-3xl']\"></i>\n                </div>\n                <select \n                  v-model=\"serviceForm.icon\" \n                  class=\"flex-1 px-4 py-2 border rounded-md\"\n                >\n                  <option value=\"fas fa-leaf\">Lá</option>\n                  <option value=\"fas fa-hiking\">Du lịch</option>\n                  <option value=\"fas fa-seedling\">Cây con</option>\n                  <option value=\"fas fa-tractor\">Máy kéo</option>\n                  <option value=\"fas fa-spa\">Spa</option>\n                  <option value=\"fas fa-tree\">Cây</option>\n                  <option value=\"fas fa-mountain\">Núi</option>\n                  <option value=\"fas fa-clinic-medical\">Y tế</option>\n                </select>\n              </div>\n            </div>\n            \n            <!-- Status -->\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Trạng thái</label>\n              <select \n                v-model=\"serviceForm.status\" \n                class=\"w-full px-4 py-2 border rounded-md\"\n              >\n                <option value=\"active\">Đang hoạt động</option>\n                <option value=\"inactive\">Không hoạt động</option>\n              </select>\n            </div>\n            \n            <!-- Price -->\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Giá (VNĐ) *</label>\n              <input \n                v-model.number=\"serviceForm.price\" \n                type=\"number\" \n                class=\"w-full px-4 py-2 border rounded-md\"\n                placeholder=\"Nhập giá dịch vụ\"\n                min=\"0\"\n              >\n            </div>\n            \n            <!-- Duration -->\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Thời gian *</label>\n              <input \n                v-model=\"serviceForm.duration\" \n                type=\"text\" \n                class=\"w-full px-4 py-2 border rounded-md\"\n                placeholder=\"Ví dụ: 2 giờ, 1 ngày, 3 tháng...\"\n              >\n            </div>\n            \n            <!-- Description -->\n            <div>\n              <label class=\"block text-sm font-medium text-gray-700 mb-1\">Mô tả</label>\n              <textarea \n                v-model=\"serviceForm.description\" \n                class=\"w-full px-4 py-2 border rounded-md\"\n                rows=\"4\"\n                placeholder=\"Nhập mô tả chi tiết về dịch vụ\"\n              ></textarea>\n            </div>\n          </div>\n        </div>\n        \n        <div class=\"px-6 py-4 border-t bg-gray-50 flex justify-end space-x-3\">\n          <button \n            @click=\"closeModal\" \n            class=\"px-4 py-2 border rounded-md\"\n          >\n            Hủy\n          </button>\n          <button \n            @click=\"saveService\" \n            class=\"px-4 py-2 bg-blue-500 hover:bg-blue-600 text-white rounded-md\"\n          >\n            {{ isEditMode ? 'Cập nhật' : 'Thêm mới' }}\n          </button>\n        </div>\n      </div>\n    </div>\n    \n    <!-- Delete Confirmation Modal -->\n    <div v-if=\"showDeleteConfirm\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n      <div class=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\n        <div class=\"text-center\">\n          <div class=\"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mx-auto mb-4\">\n            <i class=\"fas fa-exclamation-triangle text-xl\"></i>\n          </div>\n          <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Xác nhận xóa</h3>\n          <p class=\"text-gray-500 mb-6\">Bạn có chắc chắn muốn xóa dịch vụ này? Hành động này không thể hoàn tác.</p>\n        </div>\n        <div class=\"flex justify-center gap-3\">\n          <button \n            @click=\"showDeleteConfirm = false\"\n            class=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\n          >\n            Hủy\n          </button>\n          <button \n            @click=\"deleteService\"\n            class=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700\"\n          >\n            Xóa\n          </button>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, reactive, onMounted } from 'vue'\nimport AdminHeader from '@/components/admin/AdminHeader.vue'\nimport api from '@/api'\nimport notificationService from '@/utils/notificationService'\n\n// Services data\nconst services = ref([])\nconst isLoading = ref(true)\nconst error = ref(null)\n\n// Modal state\nconst isModalOpen = ref(false)\nconst isEditMode = ref(false)\nconst currentServiceId = ref(null)\n\n// Filters\nconst searchQuery = ref('')\nconst statusFilter = ref('all')\n\n// Pagination\nconst currentPage = ref(0)\nconst itemsPerPage = ref(10)\nconst totalServices = ref(0)\nconst totalPages = ref(1)\n\n// Service form data\nconst serviceForm = reactive({\n  name: '',\n  icon: 'fas fa-leaf',\n  status: 'active',\n  price: 0,\n  duration: '',\n  description: ''\n})\n\n// Computed: filtered services based on search and status\nconst filteredServices = computed(() => {\n  return services.value.filter(service => {\n    // Filter by search query\n    const matchesSearch = !searchQuery.value || \n      service.name.toLowerCase().includes(searchQuery.value.toLowerCase()) ||\n      service.description.toLowerCase().includes(searchQuery.value.toLowerCase())\n    \n    // Filter by status\n    const matchesStatus = statusFilter.value === 'all' || service.status === statusFilter.value\n    \n    return matchesSearch && matchesStatus\n  })\n})\n\n// Fetch services from API\nasync function fetchServices() {\n  isLoading.value = true\n  error.value = null\n  \n  try {\n    // For now, services endpoint might not be ready, so we're using sample data\n    // This should be replaced with actual API call when backend is ready\n    // const response = await api.service.getServices()\n    // services.value = response.data\n    \n    // Sample data\n    services.value = [\n      {\n        id: 1,\n        name: 'Tham quan vườn sâm Ngọc Linh',\n        icon: 'fas fa-hiking',\n        description: 'Tham quan vườn sâm Ngọc Linh và tìm hiểu quy trình trồng, chăm sóc sâm.',\n        price: 500000,\n        duration: '2 giờ',\n        status: 'active'\n      },\n      {\n        id: 2,\n        name: 'Trải nghiệm thu hoạch sâm',\n        icon: 'fas fa-seedling',\n        description: 'Trải nghiệm quy trình thu hoạch sâm Ngọc Linh cùng các chuyên gia.',\n        price: 1200000,\n        duration: '4 giờ',\n        status: 'active'\n      },\n      {\n        id: 3,\n        name: 'Chăm sóc sức khỏe với sâm Ngọc Linh',\n        icon: 'fas fa-spa',\n        description: 'Dịch vụ tư vấn sức khỏe và cách sử dụng sâm Ngọc Linh hiệu quả.',\n        price: 300000,\n        duration: '1 giờ',\n        status: 'inactive'\n      }\n    ]\n    \n    // Simulate pagination data\n    totalServices.value = services.value.length\n    totalPages.value = Math.ceil(totalServices.value / itemsPerPage.value)\n    \n  } catch (err) {\n    console.error('Error fetching services:', err)\n    error.value = 'Không thể tải danh sách dịch vụ. Vui lòng thử lại sau.'\n    notificationService.show('Không thể tải danh sách dịch vụ. Vui lòng thử lại sau.', {\n      title: 'Lỗi',\n      type: 'error'\n    })\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// Format price\nfunction formatPrice(price) {\n  return new Intl.NumberFormat('vi-VN', { \n    style: 'currency', \n    currency: 'VND',\n    maximumFractionDigits: 0\n  }).format(price)\n}\n\n// Open modal to add new service\nfunction openAddModal() {\n  isEditMode.value = false\n  currentServiceId.value = null\n  \n  // Reset form\n  serviceForm.name = ''\n  serviceForm.icon = 'fas fa-leaf'\n  serviceForm.status = 'active'\n  serviceForm.price = 0\n  serviceForm.duration = ''\n  serviceForm.description = ''\n  \n  isModalOpen.value = true\n}\n\n// Open modal to edit service\nfunction editService(service) {\n  isEditMode.value = true\n  currentServiceId.value = service.id\n  \n  // Populate form with service data\n  serviceForm.name = service.name\n  serviceForm.icon = service.icon\n  serviceForm.status = service.status\n  serviceForm.price = service.price\n  serviceForm.duration = service.duration\n  serviceForm.description = service.description\n  \n  isModalOpen.value = true\n}\n\n// Close modal\nfunction closeModal() {\n  isModalOpen.value = false\n}\n\n// Save service (add new or update existing)\nasync function saveService() {\n  try {\n    if (isEditMode.value) {\n      // Update existing service\n      // await api.service.updateService(currentServiceId.value, serviceForm)\n      \n      // For now, update in local array\n      const index = services.value.findIndex(s => s.id === currentServiceId.value)\n      if (index !== -1) {\n        services.value[index] = {\n          ...services.value[index],\n          ...serviceForm\n        }\n      }\n      \n      notificationService.show('Dịch vụ đã được cập nhật thành công.', {\n        title: 'Thành công',\n        type: 'success'\n      })\n    } else {\n      // Add new service\n      // const response = await api.service.createService(serviceForm)\n      \n      // For now, add to local array\n      const newId = Math.max(0, ...services.value.map(s => s.id)) + 1\n      services.value.push({\n        id: newId,\n        ...serviceForm\n      })\n      \n      notificationService.show('Dịch vụ mới đã được thêm thành công.', {\n        title: 'Thành công',\n        type: 'success'\n      })\n    }\n    \n    // Close modal\n    closeModal()\n    \n  } catch (err) {\n    console.error('Error saving service:', err)\n    notificationService.show('Có lỗi xảy ra khi lưu dịch vụ. Vui lòng thử lại sau.', {\n      title: 'Lỗi',\n      type: 'error'\n    })\n  }\n}\n\n// Toggle service status (active/inactive)\nfunction toggleServiceStatus(service) {\n  const newStatus = service.status === 'active' ? 'inactive' : 'active'\n  try {\n    // await api.service.updateService(service.id, { status: newStatus })\n    \n    // For now, update in local array\n    const index = services.value.findIndex(s => s.id === service.id)\n    if (index !== -1) {\n      services.value[index].status = newStatus\n    }\n    \n    notificationService.show(`Dịch vụ đã được ${newStatus === 'active' ? 'kích hoạt' : 'vô hiệu hóa'}.`, {\n      title: 'Thành công',\n      type: 'success'\n    })\n  } catch (err) {\n    console.error('Error updating service status:', err)\n    notificationService.show('Có lỗi xảy ra khi cập nhật trạng thái dịch vụ.', {\n      title: 'Lỗi',\n      type: 'error'\n    })\n  }\n}\n\n// Confirm delete service\nfunction confirmDelete(serviceId) {\n  const confirmed = confirm('Bạn có chắc chắn muốn xóa dịch vụ này?')\n  if (confirmed) {\n    deleteService(serviceId)\n  }\n}\n\n// Delete service\nasync function deleteService(serviceId) {\n  try {\n    // await api.service.deleteService(serviceId)\n    \n    // For now, remove from local array\n    services.value = services.value.filter(s => s.id !== serviceId)\n    \n    notificationService.show('Dịch vụ đã được xóa thành công.', {\n      title: 'Thành công',\n      type: 'success'\n    })\n  } catch (err) {\n    console.error('Error deleting service:', err)\n    notificationService.show('Có lỗi xảy ra khi xóa dịch vụ.', {\n      title: 'Lỗi',\n      type: 'error'\n    })\n  }\n}\n\n// Pagination controls\nfunction nextPage() {\n  if (currentPage.value < totalPages.value - 1) {\n    currentPage.value++\n    // When API is implemented:\n    // fetchServices()\n  }\n}\n\nfunction prevPage() {\n  if (currentPage.value > 0) {\n    currentPage.value--\n    // When API is implemented:\n    // fetchServices()\n  }\n}\n\nfunction goToPage(page) {\n  currentPage.value = page\n  // When API is implemented:\n  // fetchServices()\n}\n\n// Load services on component mount\nonMounted(() => {\n  fetchServices()\n})\n</script>\n\n<style scoped>\n.line-clamp-1 {\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n/* Đảm bảo các nút thao tác luôn hiển thị */\ntd button {\n  position: relative;\n  z-index: 10;\n  opacity: 1 !important;\n  visibility: visible !important;\n}\n\n/* Tăng độ nổi bật khi hover */\ntd button:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n/* Đảm bảo cell có đủ không gian cho nút */\ntd:last-child {\n  min-width: 140px;\n}\n\n.min-width-cell {\n  min-width: 140px;\n}\n</style> ","<template>\n  <div class=\"admin-dashboard bg-gray-50 min-h-screen\">\n    <!-- Header -->\n    <AdminHeader />\n    \n    <!-- Main Content -->\n    <main class=\"py-6\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <!-- Actions Bar -->\n        <div class=\"flex justify-between items-center mb-6\">\n          <div class=\"flex gap-4\">\n            <div class=\"relative\">\n              <input \n                type=\"text\" \n                placeholder=\"Tìm kiếm người dùng...\" \n                class=\"pl-10 pr-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 w-64\"\n              >\n              <i class=\"fas fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\"></i>\n            </div>\n            <select class=\"border rounded-lg px-4 py-2 focus:outline-none focus:ring-2 focus:ring-green-500\">\n              <option value=\"\">Tất cả vai trò</option>\n              <option value=\"user\">Khách hàng</option>\n              <option value=\"admin\">Quản trị viên</option>\n            </select>\n          </div>\n          <button \n            @click=\"showAddModal = true\"\n            class=\"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-500 transition-colors flex items-center gap-2\"\n          >\n            <i class=\"fas fa-user-plus\"></i>\n            Thêm người dùng\n          </button>\n        </div>\n\n        <!-- Users Table -->\n        <div class=\"overflow-x-auto bg-white rounded-lg shadow-sm\">\n          <table class=\"min-w-full divide-y divide-gray-200\">\n            <thead class=\"bg-gray-50\">\n              <tr>\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  NGƯỜI DÙNG\n                </th>\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  EMAIL\n                </th>\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  SỐ ĐIỆN THOẠI\n                </th>\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  VAI TRÒ\n                </th>\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  TRẠNG THÁI\n                </th>\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-40\">\n                  THAO TÁC\n                </th>\n              </tr>\n            </thead>\n            <tbody class=\"divide-y\">\n              <tr v-for=\"user in users\" :key=\"user.id\" class=\"hover:bg-gray-50\">\n                <td class=\"px-6 py-4\">\n                  <div class=\"flex items-center\">\n                    <div class=\"w-10 h-10 bg-gray-200 rounded-full overflow-hidden flex-shrink-0 mr-3\">\n                      <img :src=\"user.avatar\" :alt=\"user.name\" class=\"w-full h-full object-cover\">\n                    </div>\n                    <div class=\"max-w-xs\">\n                      <div class=\"font-medium text-gray-900 truncate\">{{ user.name }}</div>\n                      <div class=\"text-sm text-gray-500\">ID: {{ user.id }}</div>\n                    </div>\n                  </div>\n                </td>\n                <td class=\"px-6 py-4 text-gray-600 truncate max-w-xs\">{{ user.email }}</td>\n                <td class=\"px-6 py-4 text-gray-600\">{{ user.phone }}</td>\n                <td class=\"px-6 py-4\">\n                  <span \n                    class=\"px-2 py-1 rounded-full text-xs font-medium\"\n                    :class=\"{\n                      'bg-purple-100 text-purple-700': user.role === 'admin',\n                      'bg-blue-100 text-blue-700': user.role === 'user'\n                    }\"\n                  >\n                    {{ getRoleText(user.role) }}\n                  </span>\n                </td>\n                <td class=\"px-6 py-4\">\n                  <span \n                    class=\"px-2 py-1 rounded-full text-xs font-medium\"\n                    :class=\"{\n                      'bg-green-100 text-green-700': user.status === 'active',\n                      'bg-red-100 text-red-700': user.status === 'inactive'\n                    }\"\n                  >\n                    {{ getStatusText(user.status) }}\n                  </span>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  <div class=\"flex gap-3 items-center px-2\">\n                    <button \n                      @click=\"viewUser(user)\"\n                      class=\"w-9 h-9 flex items-center justify-center rounded-full bg-green-50 text-green-600 hover:bg-green-100 transition-colors shadow-sm\"\n                      title=\"Xem chi tiết\"\n                      type=\"button\"\n                    >\n                      <i class=\"fas fa-eye\"></i>\n                    </button>\n                    <button \n                      @click=\"editUser(user)\"\n                      class=\"w-9 h-9 flex items-center justify-center rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors shadow-sm\"\n                      title=\"Chỉnh sửa\"\n                      type=\"button\"\n                    >\n                      <i class=\"fas fa-edit\"></i>\n                    </button>\n                    <button \n                      @click=\"deleteUser(user)\"\n                      class=\"w-9 h-9 flex items-center justify-center rounded-full bg-red-50 text-red-600 hover:bg-red-100 transition-colors shadow-sm\"\n                      title=\"Xóa\"\n                      type=\"button\"\n                    >\n                      <i class=\"fas fa-trash-alt\"></i>\n                    </button>\n                  </div>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n        <!-- Pagination -->\n        <div class=\"flex justify-between items-center mt-6\">\n          <div class=\"text-sm text-gray-500\">\n            Hiển thị 1-10 trong số 50 người dùng\n          </div>\n          <div class=\"flex gap-2\">\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50\">\n              <i class=\"fas fa-chevron-left\"></i>\n            </button>\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md bg-green-600 text-white\">1</button>\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50\">2</button>\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50\">3</button>\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50\">\n              <i class=\"fas fa-chevron-right\"></i>\n            </button>\n          </div>\n        </div>\n\n        <!-- Add/Edit User Modal -->\n        <div v-if=\"showAddModal\" class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <div class=\"bg-white rounded-xl shadow-xl w-full max-w-2xl\">\n            <div class=\"flex justify-between items-center p-6 border-b\">\n              <h3 class=\"text-xl font-semibold text-gray-800\">\n                {{ editingUser ? 'Chỉnh sửa người dùng' : 'Thêm người dùng mới' }}\n              </h3>\n              <button @click=\"closeModal\" class=\"text-gray-400 hover:text-gray-600\">\n                <i class=\"fas fa-times\"></i>\n              </button>\n            </div>\n            <div class=\"p-6\">\n              <form @submit.prevent=\"saveUser\" class=\"space-y-4\">\n                <div class=\"grid grid-cols-2 gap-4\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Họ tên</label>\n                    <input \n                      v-model=\"userForm.name\"\n                      type=\"text\" \n                      class=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n                      required\n                    >\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Email</label>\n                    <input \n                      v-model=\"userForm.email\"\n                      type=\"email\" \n                      class=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n                      required\n                    >\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Số điện thoại</label>\n                    <input \n                      v-model=\"userForm.phone\"\n                      type=\"tel\" \n                      class=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n                      required\n                    >\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Vai trò</label>\n                    <select \n                      v-model=\"userForm.role\"\n                      class=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n                      required\n                    >\n                      <option value=\"user\">Khách hàng</option>\n                      <option value=\"admin\">Quản trị viên</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Trạng thái</label>\n                    <select \n                      v-model=\"userForm.status\"\n                      class=\"w-full px-4 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500\"\n                      required\n                    >\n                      <option value=\"active\">Hoạt động</option>\n                      <option value=\"inactive\">Không hoạt động</option>\n                    </select>\n                  </div>\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ảnh đại diện</label>\n                    <div class=\"flex items-center gap-4\">\n                      <div class=\"flex-1\">\n                        <label class=\"border border-dashed border-gray-300 rounded-lg p-4 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors\">\n                          <i class=\"fas fa-cloud-upload-alt text-gray-400 text-2xl mb-2\"></i>\n                          <span class=\"text-sm text-gray-500\">Chọn file hoặc kéo thả vào đây</span>\n                          <input \n                            type=\"file\" \n                            accept=\"image/*\" \n                            class=\"hidden\" \n                            @change=\"handleImageUpload\"\n                          />\n                        </label>\n                      </div>\n                      <div v-if=\"userForm.avatar\" class=\"w-24 h-24 bg-gray-100 rounded-full overflow-hidden flex-shrink-0 relative\">\n                        <img :src=\"userForm.avatar\" alt=\"Preview\" class=\"w-full h-full object-cover\">\n                        <button \n                          @click=\"removeImage\" \n                          type=\"button\" \n                          class=\"absolute top-1 right-1 w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center text-xs\"\n                        >\n                          <i class=\"fas fa-times\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                </div>\n                <div class=\"flex justify-end gap-4\">\n                  <button \n                    type=\"button\"\n                    @click=\"closeModal\"\n                    class=\"px-4 py-2 border rounded-lg hover:bg-gray-50\"\n                  >\n                    Hủy\n                  </button>\n                  <button \n                    type=\"submit\"\n                    class=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-500\"\n                  >\n                    {{ editingUser ? 'Cập nhật' : 'Thêm mới' }}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n\n        <!-- View User Modal -->\n        <div v-if=\"showViewModal\" class=\"fixed inset-0 bg-black/50 flex items-center justify-center z-50\">\n          <div class=\"bg-white rounded-xl shadow-xl w-full max-w-2xl\">\n            <div class=\"flex justify-between items-center p-6 border-b\">\n              <h3 class=\"text-xl font-semibold text-gray-800\">Thông tin người dùng</h3>\n              <button @click=\"closeViewModal\" class=\"text-gray-400 hover:text-gray-600\">\n                <i class=\"fas fa-times\"></i>\n              </button>\n            </div>\n            <div class=\"p-6\">\n              <div class=\"flex items-center gap-4 mb-6\">\n                <img :src=\"selectedUser?.avatar\" :alt=\"selectedUser?.name\" class=\"w-20 h-20 rounded-full object-cover\">\n                <div>\n                  <h4 class=\"text-xl font-semibold text-gray-900\">{{ selectedUser?.name }}</h4>\n                  <p class=\"text-gray-600\">{{ getRoleText(selectedUser?.role) }}</p>\n                </div>\n              </div>\n              <div class=\"grid grid-cols-2 gap-4\">\n                <div>\n                  <p class=\"text-sm text-gray-500\">Email</p>\n                  <p class=\"text-gray-900\">{{ selectedUser?.email }}</p>\n                </div>\n                <div>\n                  <p class=\"text-sm text-gray-500\">Số điện thoại</p>\n                  <p class=\"text-gray-900\">{{ selectedUser?.phone }}</p>\n                </div>\n                <div>\n                  <p class=\"text-sm text-gray-500\">Ngày tham gia</p>\n                  <p class=\"text-gray-900\">{{ formatDate(selectedUser?.joinDate) }}</p>\n                </div>\n                <div>\n                  <p class=\"text-sm text-gray-500\">Trạng thái</p>\n                  <span \n                    class=\"px-2 py-1 rounded-full text-xs font-medium\"\n                    :class=\"{\n                      'bg-green-100 text-green-700': selectedUser?.status === 'active',\n                      'bg-red-100 text-red-700': selectedUser?.status === 'inactive'\n                    }\"\n                  >\n                    {{ getStatusText(selectedUser?.status) }}\n                  </span>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script setup>\nimport { ref } from 'vue'\nimport AdminHeader from '@/components/admin/AdminHeader.vue'\nimport samTuoiImage from '@/assets/images/products/sam-tuoi.png'\n\n// Danh sách người dùng mẫu\nconst users = ref([\n  {\n    id: 1,\n    name: 'Nguyễn Văn A',\n    email: 'nguyenvana@example.com',\n    phone: '0123456789',\n    role: 'admin',\n    status: 'active',\n    avatar: 'https://ui-avatars.com/api/?name=Nguyen+Van+A',\n    joinDate: '2024-01-01'\n  },\n  {\n    id: 2,\n    name: 'Trần Thị B',\n    email: 'tranthib@example.com',\n    phone: '0987654321',\n    role: 'user',\n    status: 'active',\n    avatar: 'https://ui-avatars.com/api/?name=Tran+Thi+B',\n    joinDate: '2024-02-15'\n  },\n  {\n    id: 3,\n    name: 'Lê Văn C',\n    email: 'levanc@example.com',\n    phone: '0369852147',\n    role: 'user',\n    status: 'inactive',\n    avatar: 'https://ui-avatars.com/api/?name=Le+Van+C',\n    joinDate: '2024-03-01'\n  }\n])\n\nconst showAddModal = ref(false)\nconst showViewModal = ref(false)\nconst editingUser = ref(null)\nconst selectedUser = ref(null)\nconst userForm = ref({\n  name: '',\n  email: '',\n  phone: '',\n  role: 'user',\n  status: 'active',\n  avatar: ''\n})\n\nconst getRoleText = (role) => {\n  switch (role) {\n    case 'admin':\n      return 'Quản trị viên'\n    case 'user':\n      return 'Khách hàng'\n    default:\n      return role\n  }\n}\n\nconst getStatusText = (status) => {\n  switch (status) {\n    case 'active':\n      return 'Hoạt động'\n    case 'inactive':\n      return 'Không hoạt động'\n    default:\n      return status\n  }\n}\n\nconst formatDate = (date) => {\n  return new Date(date).toLocaleDateString('vi-VN')\n}\n\nconst viewUser = (user) => {\n  selectedUser.value = user\n  showViewModal.value = true\n}\n\nconst editUser = (user) => {\n  editingUser.value = user\n  userForm.value = { ...user }\n  showAddModal.value = true\n}\n\nconst deleteUser = (user) => {\n  if (confirm('Bạn có chắc chắn muốn xóa người dùng này?')) {\n    users.value = users.value.filter(u => u.id !== user.id)\n  }\n}\n\nconst closeModal = () => {\n  showAddModal.value = false\n  editingUser.value = null\n  userForm.value = {\n    name: '',\n    email: '',\n    phone: '',\n    role: 'user',\n    status: 'active',\n    avatar: ''\n  }\n}\n\nconst closeViewModal = () => {\n  showViewModal.value = false\n  selectedUser.value = null\n}\n\nconst handleImageUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    const reader = new FileReader()\n    reader.onload = (e) => {\n      userForm.value.avatar = e.target.result\n    }\n    reader.readAsDataURL(file)\n  }\n}\n\nconst removeImage = () => {\n  userForm.value.avatar = ''\n}\n\nconst saveUser = () => {\n  if (editingUser.value) {\n    // Update existing user\n    const index = users.value.findIndex(u => u.id === editingUser.value.id)\n    users.value[index] = { \n      ...users.value[index], \n      ...userForm.value \n    }\n  } else {\n    // Add new user\n    users.value.push({\n      id: users.value.length + 1,\n      ...userForm.value,\n      avatar: userForm.value.avatar || `https://ui-avatars.com/api/?name=${userForm.value.name.replace(' ', '+')}`,\n      joinDate: new Date().toISOString().split('T')[0]\n    })\n  }\n  closeModal()\n}\n</script>\n\n<style scoped>\n.line-clamp-1 {\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  max-width: 200px;\n}\n\n.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 200px;\n}\n\n/* Đảm bảo các nút thao tác luôn hiển thị */\ntd button {\n  position: relative;\n  z-index: 10;\n  opacity: 1 !important;\n  visibility: visible !important;\n}\n\n/* Tăng độ nổi bật khi hover */\ntd button:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n/* Đảm bảo cell có đủ không gian cho nút */\ntd:last-child {\n  min-width: 140px;\n}\n</style> ","<template>\n  <div class=\"news-management admin-dashboard bg-gray-50 min-h-screen\">\n    <!-- Header -->\n    <AdminHeader />\n    \n    <!-- Main Content -->\n    <main class=\"py-6\">\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\n        <!-- Page Title -->\n        <div class=\"flex justify-between items-center mb-6\">\n          <h1 class=\"text-2xl font-bold text-gray-800\">Quản lý bảng tin</h1>\n          <button \n            @click=\"openAddModal\"\n            class=\"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 transition-colors\"\n          >\n            <i class=\"fas fa-plus\"></i>\n            Thêm bài viết mới\n          </button>\n        </div>\n        \n        <!-- Actions Bar -->\n        <div class=\"bg-white p-4 rounded-lg shadow-sm mb-6 flex flex-wrap gap-4 items-center justify-between\">\n          <div class=\"flex items-center gap-4 flex-grow\">\n            <div class=\"relative flex-grow max-w-md\">\n              <input \n                type=\"text\" \n                v-model=\"searchQuery\"\n                placeholder=\"Tìm kiếm bài viết...\" \n                class=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              >\n              <i class=\"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"></i>\n            </div>\n            <div class=\"flex-shrink-0\">\n              <select \n                v-model=\"categoryFilter\"\n                class=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n              >\n                <option value=\"all\">Tất cả danh mục</option>\n                <option value=\"news\">Tin tức</option>\n                <option value=\"events\">Sự kiện</option>\n                <option value=\"promotions\">Khuyến mãi</option>\n                <option value=\"knowledge\">Kiến thức</option>\n              </select>\n            </div>\n          </div>\n        </div>\n        \n        <!-- News Table -->\n        <div class=\"bg-white rounded-lg shadow-sm overflow-hidden\">\n          <table class=\"min-w-full divide-y divide-gray-200\">\n            <thead class=\"bg-gray-50\">\n              <tr>\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  BÀI VIẾT\n                </th>\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  DANH MỤC\n                </th>\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  NGÀY ĐĂNG\n                </th>\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\n                  TRẠNG THÁI\n                </th>\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-40\">\n                  THAO TÁC\n                </th>\n              </tr>\n            </thead>\n            <tbody class=\"bg-white divide-y divide-gray-200\">\n              <tr v-for=\"article in filteredArticles\" :key=\"article.id\" class=\"hover:bg-gray-50\">\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <div class=\"flex items-center\">\n                    <div class=\"w-12 h-12 bg-gray-200 rounded-lg overflow-hidden flex-shrink-0 mr-3\">\n                      <img \n                        :src=\"article.image\" \n                        alt=\"Thumbnail\" \n                        class=\"w-full h-full object-cover\"\n                      >\n                    </div>\n                    <div class=\"max-w-xs\">\n                      <div class=\"text-sm font-medium text-gray-900 truncate\">{{ article.title }}</div>\n                      <div class=\"text-sm text-gray-500 line-clamp-1\">{{ article.summary }}</div>\n                    </div>\n                  </div>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <span class=\"px-2 py-1 text-xs font-medium rounded-full\" :class=\"getCategoryClass(article.category)\">\n                    {{ getCategoryName(article.category) }}\n                  </span>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <div class=\"text-sm text-gray-900\">{{ formatDate(article.publishDate) }}</div>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap\">\n                  <span class=\"px-2 py-1 text-xs font-medium rounded-full\" :class=\"article.published ? 'bg-green-100 text-green-800' : 'bg-yellow-100 text-yellow-800'\">\n                    {{ article.published ? 'Đã đăng' : 'Bản nháp' }}\n                  </span>\n                </td>\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\n                  <div class=\"flex gap-3 items-center px-2\">\n                    <button \n                      @click=\"editArticle(article)\"\n                      class=\"w-9 h-9 flex items-center justify-center rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors shadow-sm\"\n                      title=\"Chỉnh sửa\"\n                      type=\"button\"\n                    >\n                      <i class=\"fas fa-edit\"></i>\n                    </button>\n                    <button \n                      @click=\"togglePublish(article)\"\n                      class=\"w-9 h-9 flex items-center justify-center rounded-full shadow-sm transition-colors\"\n                      :class=\"article.published ? 'bg-yellow-50 text-yellow-600 hover:bg-yellow-100' : 'bg-green-50 text-green-600 hover:bg-green-100'\"\n                      :title=\"article.published ? 'Ẩn bài viết' : 'Đăng bài viết'\"\n                      type=\"button\"\n                    >\n                      <i :class=\"article.published ? 'fas fa-eye-slash' : 'fas fa-eye'\"></i>\n                    </button>\n                    <button \n                      @click=\"confirmDelete(article.id)\"\n                      class=\"w-9 h-9 flex items-center justify-center rounded-full bg-red-50 text-red-600 hover:bg-red-100 transition-colors shadow-sm\"\n                      title=\"Xóa\"\n                      type=\"button\"\n                    >\n                      <i class=\"fas fa-trash-alt\"></i>\n                    </button>\n                  </div>\n                </td>\n              </tr>\n              <tr v-if=\"filteredArticles.length === 0\">\n                <td colspan=\"5\" class=\"px-6 py-10 text-center text-gray-500\">\n                  Không tìm thấy bài viết nào\n                </td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n        \n        <!-- Pagination -->\n        <div class=\"flex justify-between items-center mt-6\">\n          <div class=\"text-sm text-gray-500\">\n            Hiển thị {{ filteredArticles.length }} trên tổng số {{ articles.length }} bài viết\n          </div>\n          <div class=\"flex gap-2\">\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50\">\n              <i class=\"fas fa-chevron-left\"></i>\n            </button>\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md bg-green-600 text-white\">1</button>\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50\">2</button>\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50\">3</button>\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50\">\n              <i class=\"fas fa-chevron-right\"></i>\n            </button>\n          </div>\n        </div>\n        \n        <!-- Add/Edit Article Modal -->\n        <div v-if=\"isModalOpen\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div class=\"bg-white rounded-lg shadow-xl max-w-3xl w-full max-h-[90vh] overflow-y-auto\">\n            <div class=\"p-6 border-b border-gray-200\">\n              <h3 class=\"text-lg font-medium text-gray-900\">\n                {{ isEditMode ? 'Chỉnh sửa bài viết' : 'Thêm bài viết mới' }}\n              </h3>\n            </div>\n            <div class=\"p-6\">\n              <form @submit.prevent=\"saveArticle\">\n                <div class=\"grid gap-6\">\n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Tiêu đề <span class=\"text-red-500\">*</span></label>\n                    <input \n                      type=\"text\" \n                      v-model=\"articleForm.title\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                      required\n                    >\n                  </div>\n                  \n                  <div class=\"grid grid-cols-2 gap-4\">\n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-1\">Danh mục <span class=\"text-red-500\">*</span></label>\n                      <select \n                        v-model=\"articleForm.category\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                        required\n                      >\n                        <option value=\"news\">Tin tức</option>\n                        <option value=\"events\">Sự kiện</option>\n                        <option value=\"promotions\">Khuyến mãi</option>\n                        <option value=\"knowledge\">Kiến thức</option>\n                      </select>\n                    </div>\n                    \n                    <div>\n                      <label class=\"block text-sm font-medium text-gray-700 mb-1\">Trạng thái</label>\n                      <select \n                        v-model=\"articleForm.published\"\n                        class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                      >\n                        <option :value=\"true\">Đăng ngay</option>\n                        <option :value=\"false\">Lưu nháp</option>\n                      </select>\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Ảnh đại diện</label>\n                    <div class=\"flex items-center gap-4\">\n                      <div class=\"flex-1\">\n                        <label class=\"border border-dashed border-gray-300 rounded-lg p-4 flex flex-col items-center justify-center cursor-pointer hover:bg-gray-50 transition-colors\">\n                          <i class=\"fas fa-cloud-upload-alt text-gray-400 text-2xl mb-2\"></i>\n                          <span class=\"text-sm text-gray-500\">Chọn file hoặc kéo thả vào đây</span>\n                          <input \n                            type=\"file\" \n                            accept=\"image/*\" \n                            class=\"hidden\" \n                            @change=\"handleImageUpload\"\n                          />\n                        </label>\n                      </div>\n                      <div v-if=\"articleForm.image\" class=\"w-24 h-24 bg-gray-100 rounded-lg overflow-hidden flex-shrink-0 relative\">\n                        <img :src=\"articleForm.image\" alt=\"Preview\" class=\"w-full h-full object-cover\">\n                        <button \n                          @click=\"removeImage\" \n                          type=\"button\" \n                          class=\"absolute top-1 right-1 w-6 h-6 rounded-full bg-red-500 text-white flex items-center justify-center text-xs\"\n                        >\n                          <i class=\"fas fa-times\"></i>\n                        </button>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Tóm tắt</label>\n                    <textarea \n                      v-model=\"articleForm.summary\"\n                      rows=\"2\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                    ></textarea>\n                  </div>\n                  \n                  <div>\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Nội dung <span class=\"text-red-500\">*</span></label>\n                    <textarea \n                      v-model=\"articleForm.content\"\n                      rows=\"10\"\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\n                      required\n                    ></textarea>\n                  </div>\n                </div>\n                \n                <div class=\"mt-6 flex justify-end gap-3\">\n                  <button \n                    type=\"button\"\n                    @click=\"closeModal\"\n                    class=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\n                  >\n                    Hủy\n                  </button>\n                  <button \n                    type=\"submit\"\n                    class=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-700\"\n                  >\n                    {{ isEditMode ? 'Cập nhật' : 'Thêm mới' }}\n                  </button>\n                </div>\n              </form>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Delete Confirmation Modal -->\n        <div v-if=\"showDeleteConfirm\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\n          <div class=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\n            <div class=\"text-center\">\n              <div class=\"w-12 h-12 rounded-full bg-red-100 text-red-600 flex items-center justify-center mx-auto mb-4\">\n                <i class=\"fas fa-exclamation-triangle text-xl\"></i>\n              </div>\n              <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Xác nhận xóa</h3>\n              <p class=\"text-gray-500 mb-6\">Bạn có chắc chắn muốn xóa bài viết này? Hành động này không thể hoàn tác.</p>\n            </div>\n            <div class=\"flex justify-center gap-3\">\n              <button \n                @click=\"showDeleteConfirm = false\"\n                class=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\n              >\n                Hủy\n              </button>\n              <button \n                @click=\"deleteArticle\"\n                class=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-700\"\n              >\n                Xóa\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </main>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed } from 'vue'\nimport AdminHeader from '@/components/admin/AdminHeader.vue'\nimport samTuoiImage from '@/assets/images/products/sam-tuoi.png'\n\n// Sample data - replace with API calls in production\nconst articles = ref([\n  {\n    id: 1,\n    title: 'Sâm Ngọc Linh đạt chứng nhận quốc tế về chất lượng',\n    summary: 'Sâm Ngọc Linh Việt Nam vừa đạt chứng nhận về chất lượng từ tổ chức quốc tế, đánh dấu một bước tiến quan trọng.',\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc, quis aliquam nisl nunc quis nisl. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc, quis aliquam nisl nunc quis nisl.',\n    category: 'news',\n    image: samTuoiImage,\n    publishDate: new Date(2023, 11, 15),\n    published: true\n  },\n  {\n    id: 2,\n    title: 'Hội thảo Sâm Ngọc Linh và phát triển bền vững',\n    summary: 'Hội thảo khoa học về phát triển bền vững cây Sâm Ngọc Linh sẽ được tổ chức vào tháng 5 tới.',\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc, quis aliquam nisl nunc quis nisl. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc, quis aliquam nisl nunc quis nisl.',\n    category: 'events',\n    image: samTuoiImage,\n    publishDate: new Date(2023, 10, 25),\n    published: true\n  },\n  {\n    id: 3,\n    title: 'Khuyến mãi đặc biệt nhân dịp Tết Nguyên Đán',\n    summary: 'Chương trình khuyến mãi lớn nhất trong năm với nhiều ưu đãi hấp dẫn dành cho khách hàng.',\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc, quis aliquam nisl nunc quis nisl. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc, quis aliquam nisl nunc quis nisl.',\n    category: 'promotions',\n    image: samTuoiImage,\n    publishDate: new Date(2023, 11, 30),\n    published: true\n  },\n  {\n    id: 4,\n    title: 'Cách phân biệt Sâm Ngọc Linh thật và giả',\n    summary: 'Hướng dẫn chi tiết giúp người tiêu dùng có thể nhận biết Sâm Ngọc Linh thật và giả trên thị trường.',\n    content: 'Lorem ipsum dolor sit amet, consectetur adipiscing elit. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc, quis aliquam nisl nunc quis nisl. Nullam euismod, nisl eget aliquam ultricies, nunc nisl aliquet nunc, quis aliquam nisl nunc quis nisl.',\n    category: 'knowledge',\n    image: samTuoiImage,\n    publishDate: new Date(2023, 9, 10),\n    published: false\n  }\n])\n\n// Search and filter\nconst searchQuery = ref('')\nconst categoryFilter = ref('all')\n\nconst filteredArticles = computed(() => {\n  let result = articles.value\n  \n  // Apply search filter\n  if (searchQuery.value) {\n    const query = searchQuery.value.toLowerCase()\n    result = result.filter(article => \n      article.title.toLowerCase().includes(query) || \n      article.summary.toLowerCase().includes(query) ||\n      article.content.toLowerCase().includes(query)\n    )\n  }\n  \n  // Apply category filter\n  if (categoryFilter.value !== 'all') {\n    result = result.filter(article => article.category === categoryFilter.value)\n  }\n  \n  return result\n})\n\n// Modal state and form\nconst isModalOpen = ref(false)\nconst isEditMode = ref(false)\nconst articleForm = ref({\n  id: null,\n  title: '',\n  summary: '',\n  content: '',\n  category: 'news',\n  image: '',\n  publishDate: new Date(),\n  published: true\n})\n\n// Delete confirmation\nconst showDeleteConfirm = ref(false)\nconst articleToDeleteId = ref(null)\n\n// Format date\nconst formatDate = (date) => {\n  return new Date(date).toLocaleDateString('vi-VN', {\n    day: '2-digit',\n    month: '2-digit',\n    year: 'numeric'\n  })\n}\n\n// Get category name\nconst getCategoryName = (category) => {\n  const categories = {\n    news: 'Tin tức',\n    events: 'Sự kiện',\n    promotions: 'Khuyến mãi',\n    knowledge: 'Kiến thức'\n  }\n  return categories[category] || category\n}\n\n// Get category class\nconst getCategoryClass = (category) => {\n  const classes = {\n    news: 'bg-blue-100 text-blue-800',\n    events: 'bg-purple-100 text-purple-800',\n    promotions: 'bg-orange-100 text-orange-800',\n    knowledge: 'bg-indigo-100 text-indigo-800'\n  }\n  return classes[category] || 'bg-gray-100 text-gray-800'\n}\n\n// Open modal for adding new article\nconst openAddModal = () => {\n  isEditMode.value = false\n  articleForm.value = {\n    id: null,\n    title: '',\n    summary: '',\n    content: '',\n    category: 'news',\n    image: '',\n    publishDate: new Date(),\n    published: true\n  }\n  isModalOpen.value = true\n}\n\n// Open modal for editing article\nconst editArticle = (article) => {\n  isEditMode.value = true\n  articleForm.value = { ...article }\n  isModalOpen.value = true\n}\n\n// Close modal\nconst closeModal = () => {\n  isModalOpen.value = false\n}\n\n// Toggle publish status\nconst togglePublish = (article) => {\n  const index = articles.value.findIndex(a => a.id === article.id)\n  if (index !== -1) {\n    articles.value[index].published = !articles.value[index].published\n  }\n}\n\n// Save article (add or update)\nconst saveArticle = () => {\n  if (isEditMode.value) {\n    // Update existing article\n    const index = articles.value.findIndex(a => a.id === articleForm.value.id)\n    if (index !== -1) {\n      articles.value[index] = { ...articleForm.value }\n    }\n  } else {\n    // Add new article\n    const newId = Math.max(0, ...articles.value.map(a => a.id)) + 1\n    articles.value.push({\n      ...articleForm.value,\n      id: newId,\n      publishDate: new Date()\n    })\n  }\n  \n  closeModal()\n}\n\n// Confirm delete\nconst confirmDelete = (id) => {\n  articleToDeleteId.value = id\n  showDeleteConfirm.value = true\n}\n\n// Delete article\nconst deleteArticle = () => {\n  articles.value = articles.value.filter(a => a.id !== articleToDeleteId.value)\n  showDeleteConfirm.value = false\n}\n\n// Thêm các hàm xử lý file trong <script setup>\nconst handleImageUpload = (event) => {\n  const file = event.target.files[0]\n  if (file) {\n    const reader = new FileReader()\n    reader.onload = (e) => {\n      articleForm.value.image = e.target.result\n    }\n    reader.readAsDataURL(file)\n  }\n}\n\nconst removeImage = () => {\n  articleForm.value.image = ''\n}\n</script>\n\n<style scoped>\n.line-clamp-1 {\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n  max-width: 200px;\n}\n\n.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  max-width: 200px;\n}\n\n/* Đảm bảo các nút thao tác luôn hiển thị */\ntd button {\n  position: relative;\n  z-index: 10;\n  opacity: 1 !important;\n  visibility: visible !important;\n}\n\n/* Tăng độ nổi bật khi hover */\ntd button:hover {\n  transform: translateY(-1px);\n  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);\n}\n\n/* Đảm bảo cell có đủ không gian cho nút */\ntd:last-child {\n  min-width: 140px;\n}\n</style> ","<template>\r\n  <div class=\"categories-management admin-dashboard bg-gray-50 min-h-screen\">\r\n    <!-- Header -->\r\n    <AdminHeader />\r\n    \r\n    <!-- Main Content -->\r\n    <main class=\"py-6\">\r\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <!-- Page Title -->\r\n        <div class=\"flex justify-between items-center mb-6\">\r\n          <h1 class=\"text-2xl font-bold text-gray-800\">Quản lý danh mục</h1>\r\n          <button \r\n            @click=\"openAddModal\"\r\n            class=\"bg-green-600 text-white px-4 py-2 rounded-lg flex items-center gap-2 hover:bg-green-700 transition-colors\"\r\n          >\r\n            <i class=\"fas fa-plus\"></i>\r\n            Thêm danh mục mới\r\n          </button>\r\n        </div>\r\n        \r\n        <!-- Actions Bar -->\r\n        <div class=\"bg-white p-4 rounded-lg shadow-sm mb-6 flex flex-wrap gap-4 items-center justify-between\">\r\n          <div class=\"flex items-center gap-4 flex-grow\">\r\n            <div class=\"relative flex-grow max-w-md\">\r\n              <input \r\n                type=\"text\" \r\n                v-model=\"searchQuery\"\r\n                placeholder=\"Tìm kiếm danh mục...\" \r\n                class=\"w-full pl-10 pr-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n              >\r\n              <i class=\"fas fa-search absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400\"></i>\r\n            </div>\r\n            <div class=\"flex-shrink-0\">\r\n              <select \r\n                v-model=\"statusFilter\"\r\n                class=\"border border-gray-300 rounded-lg px-3 py-2 focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n              >\r\n                <option value=\"all\">Tất cả trạng thái</option>\r\n                <option value=\"active\">Hoạt động</option>\r\n                <option value=\"inactive\">Không hoạt động</option>\r\n              </select>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Categories Table -->\r\n        <div class=\"bg-white rounded-lg shadow-sm overflow-hidden\">\r\n          <table class=\"min-w-full divide-y divide-gray-200\">\r\n            <thead class=\"bg-gray-50\">\r\n              <tr>\r\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  TÊN DANH MỤC\r\n                </th>\r\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  SLUG\r\n                </th>\r\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  DANH MỤC CHA\r\n                </th>\r\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  SỐ SẢN PHẨM\r\n                </th>\r\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                  TRẠNG THÁI\r\n                </th>\r\n                <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-40\">\r\n                  THAO TÁC\r\n                </th>\r\n              </tr>\r\n            </thead>\r\n            <tbody class=\"bg-white divide-y divide-gray-200\">\r\n              <tr v-for=\"category in filteredCategories\" :key=\"category.id\" class=\"hover:bg-gray-50\">\r\n                <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                  <div class=\"flex items-center\">\r\n                    <div class=\"w-8 h-8 bg-green-100 rounded-lg flex items-center justify-center text-green-600 mr-3\">\r\n                      <i class=\"fas fa-folder\"></i>\r\n                    </div>\r\n                    <div class=\"font-medium text-gray-900\">{{ category.name }}</div>\r\n                  </div>\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {{ category.slug }}\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {{ getParentCategoryName(category.parent_id) || '—' }}\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap text-sm text-gray-500\">\r\n                  {{ category.productCount }}\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                  <span :class=\"`inline-flex px-2 py-1 text-xs font-medium rounded-full ${category.status === 'active' ? 'bg-green-100 text-green-800' : 'bg-gray-100 text-gray-800'}`\">\r\n                    {{ category.status === 'active' ? 'Hoạt động' : 'Không hoạt động' }}\r\n                  </span>\r\n                </td>\r\n                <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                  <div class=\"flex gap-3 items-center px-2\">\r\n                    <button \r\n                      @click=\"editCategory(category)\"\r\n                      class=\"w-9 h-9 flex items-center justify-center rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors shadow-sm\"\r\n                      title=\"Chỉnh sửa\"\r\n                      type=\"button\"\r\n                    >\r\n                      <i class=\"fas fa-edit\"></i>\r\n                    </button>\r\n                    <button \r\n                      @click=\"toggleCategoryStatus(category)\"\r\n                      class=\"w-9 h-9 flex items-center justify-center rounded-full shadow-sm transition-colors\"\r\n                      :class=\"category.status === 'active' ? 'bg-yellow-50 text-yellow-600 hover:bg-yellow-100' : 'bg-green-50 text-green-600 hover:bg-green-100'\"\r\n                      :title=\"category.status === 'active' ? 'Vô hiệu hóa' : 'Kích hoạt'\"\r\n                      type=\"button\"\r\n                    >\r\n                      <i :class=\"category.status === 'active' ? 'fas fa-toggle-on' : 'fas fa-toggle-off'\"></i>\r\n                    </button>\r\n                    <button \r\n                      @click=\"confirmDelete(category.id)\"\r\n                      class=\"w-9 h-9 flex items-center justify-center rounded-full bg-red-50 text-red-600 hover:bg-red-100 transition-colors shadow-sm\"\r\n                      title=\"Xóa\"\r\n                      type=\"button\"\r\n                      :disabled=\"category.productCount > 0\"\r\n                      :class=\"{ 'opacity-50 cursor-not-allowed': category.productCount > 0 }\"\r\n                    >\r\n                      <i class=\"fas fa-trash-alt\"></i>\r\n                    </button>\r\n                  </div>\r\n                </td>\r\n              </tr>\r\n              <tr v-if=\"filteredCategories.length === 0\">\r\n                <td colspan=\"6\" class=\"px-6 py-10 text-center text-gray-500\">\r\n                  Không tìm thấy danh mục nào\r\n                </td>\r\n              </tr>\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n        \r\n        <!-- Pagination -->\r\n        <div class=\"flex justify-between items-center mt-6\">\r\n          <div class=\"text-sm text-gray-500\">\r\n            Hiển thị {{ filteredCategories.length }} trên tổng số {{ categories.length }} danh mục\r\n          </div>\r\n          <div class=\"flex gap-2\">\r\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50\">\r\n              <i class=\"fas fa-chevron-left\"></i>\r\n            </button>\r\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md bg-green-600 text-white\">1</button>\r\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50\">2</button>\r\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50\">3</button>\r\n            <button class=\"px-3 py-1 border border-gray-300 rounded-md hover:bg-gray-50\">\r\n              <i class=\"fas fa-chevron-right\"></i>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Add/Edit Category Modal -->\r\n        <div v-if=\"isModalOpen\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div class=\"bg-white rounded-lg shadow-xl max-w-lg w-full max-h-[90vh] overflow-y-auto\">\r\n            <div class=\"p-6 border-b border-gray-200\">\r\n              <h3 class=\"text-lg font-medium text-gray-900\">\r\n                {{ isEditMode ? 'Chỉnh sửa danh mục' : 'Thêm danh mục mới' }}\r\n              </h3>\r\n            </div>\r\n            <div class=\"p-6\">\r\n              <form @submit.prevent=\"saveCategory\">\r\n                <div class=\"grid gap-6\">\r\n                  <div>\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Tên danh mục <span class=\"text-red-500\">*</span></label>\r\n                    <input \r\n                      type=\"text\" \r\n                      v-model=\"categoryForm.name\"\r\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                      required\r\n                      @input=\"generateSlug\"\r\n                    >\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Slug <span class=\"text-red-500\">*</span></label>\r\n                    <input \r\n                      type=\"text\" \r\n                      v-model=\"categoryForm.slug\"\r\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                      required\r\n                    >\r\n                    <p class=\"text-xs text-gray-500 mt-1\">Slug được sử dụng trong URL, chỉ bao gồm chữ thường, số và dấu gạch ngang.</p>\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Danh mục cha</label>\r\n                    <select \r\n                      v-model=\"categoryForm.parent_id\"\r\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                    >\r\n                      <option :value=\"null\">Không có</option>\r\n                      <option \r\n                        v-for=\"category in categories.filter(c => c.id !== (isEditMode ? categoryForm.id : null))\" \r\n                        :key=\"category.id\" \r\n                        :value=\"category.id\"\r\n                      >\r\n                        {{ category.name }}\r\n                      </option>\r\n                    </select>\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Mô tả</label>\r\n                    <textarea \r\n                      v-model=\"categoryForm.description\"\r\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                      rows=\"3\"\r\n                    ></textarea>\r\n                  </div>\r\n                  \r\n                  <div>\r\n                    <label class=\"block text-sm font-medium text-gray-700 mb-1\">Trạng thái</label>\r\n                    <select \r\n                      v-model=\"categoryForm.status\"\r\n                      class=\"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                    >\r\n                      <option value=\"active\">Hoạt động</option>\r\n                      <option value=\"inactive\">Không hoạt động</option>\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div class=\"mt-6 flex justify-end gap-3\">\r\n                  <button \r\n                    type=\"button\"\r\n                    @click=\"closeModal\"\r\n                    class=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\r\n                  >\r\n                    Hủy\r\n                  </button>\r\n                  <button \r\n                    type=\"submit\"\r\n                    class=\"px-4 py-2 bg-green-600 text-white rounded-md hover:bg-green-500\"\r\n                  >\r\n                    {{ isEditMode ? 'Cập nhật' : 'Thêm mới' }}\r\n                  </button>\r\n                </div>\r\n              </form>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Delete Confirmation Modal -->\r\n        <div v-if=\"isDeleteModalOpen\" class=\"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50\">\r\n          <div class=\"bg-white rounded-lg shadow-xl max-w-md w-full p-6\">\r\n            <div class=\"text-center\">\r\n              <div class=\"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 text-red-600 mb-4\">\r\n                <i class=\"fas fa-exclamation-triangle text-xl\"></i>\r\n              </div>\r\n              <h3 class=\"text-lg font-medium text-gray-900 mb-2\">Xác nhận xóa</h3>\r\n              <p class=\"text-gray-500\">Bạn có chắc chắn muốn xóa danh mục này? Thao tác này không thể hoàn tác.</p>\r\n            </div>\r\n            <div class=\"mt-6 flex justify-center gap-3\">\r\n              <button \r\n                type=\"button\"\r\n                @click=\"isDeleteModalOpen = false\"\r\n                class=\"px-4 py-2 border border-gray-300 rounded-md text-gray-700 hover:bg-gray-50\"\r\n              >\r\n                Hủy\r\n              </button>\r\n              <button \r\n                type=\"button\"\r\n                @click=\"deleteCategory\"\r\n                class=\"px-4 py-2 bg-red-600 text-white rounded-md hover:bg-red-500\"\r\n              >\r\n                Xóa\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed } from 'vue'\r\nimport AdminHeader from '@/components/admin/AdminHeader.vue'\r\n\r\n// Sample data - replace with API calls in production\r\nconst categories = ref([\r\n  {\r\n    id: 1,\r\n    name: 'Sâm tươi',\r\n    slug: 'sam-tuoi',\r\n    description: 'Các sản phẩm sâm Ngọc Linh tươi',\r\n    parent_id: null,\r\n    status: 'active',\r\n    productCount: 10\r\n  },\r\n  {\r\n    id: 2,\r\n    name: 'Cao sâm',\r\n    slug: 'cao-sam',\r\n    description: 'Các sản phẩm cao sâm Ngọc Linh',\r\n    parent_id: null,\r\n    status: 'active',\r\n    productCount: 5\r\n  },\r\n  {\r\n    id: 3,\r\n    name: 'Rượu sâm',\r\n    slug: 'ruou-sam',\r\n    description: 'Các loại rượu ngâm sâm Ngọc Linh',\r\n    parent_id: null,\r\n    status: 'active',\r\n    productCount: 3\r\n  },\r\n  {\r\n    id: 4,\r\n    name: 'Sâm tươi 10 năm',\r\n    slug: 'sam-tuoi-10-nam',\r\n    description: 'Sâm tươi có tuổi đời 10 năm',\r\n    parent_id: 1,\r\n    status: 'active',\r\n    productCount: 2\r\n  },\r\n  {\r\n    id: 5,\r\n    name: 'Sâm tươi 15 năm',\r\n    slug: 'sam-tuoi-15-nam',\r\n    description: 'Sâm tươi có tuổi đời 15 năm',\r\n    parent_id: 1,\r\n    status: 'active',\r\n    productCount: 3\r\n  },\r\n  {\r\n    id: 6,\r\n    name: 'Trà sâm',\r\n    slug: 'tra-sam',\r\n    description: 'Các sản phẩm trà sâm Ngọc Linh',\r\n    parent_id: 2,\r\n    status: 'inactive',\r\n    productCount: 0\r\n  }\r\n])\r\n\r\n// Search and filter\r\nconst searchQuery = ref('')\r\nconst statusFilter = ref('all')\r\n\r\n// Modal state\r\nconst isModalOpen = ref(false)\r\nconst isEditMode = ref(false)\r\nconst isDeleteModalOpen = ref(false)\r\nconst deleteId = ref(null)\r\n\r\n// Category form\r\nconst categoryForm = ref({\r\n  id: null,\r\n  name: '',\r\n  slug: '',\r\n  description: '',\r\n  parent_id: null,\r\n  status: 'active'\r\n})\r\n\r\n// Filtered categories based on search query and status filter\r\nconst filteredCategories = computed(() => {\r\n  let result = [...categories.value]\r\n  \r\n  // Apply search filter\r\n  if (searchQuery.value.trim()) {\r\n    const query = searchQuery.value.toLowerCase()\r\n    result = result.filter(category => \r\n      category.name.toLowerCase().includes(query) ||\r\n      category.slug.toLowerCase().includes(query) ||\r\n      (category.description && category.description.toLowerCase().includes(query))\r\n    )\r\n  }\r\n  \r\n  // Apply status filter\r\n  if (statusFilter.value !== 'all') {\r\n    result = result.filter(category => category.status === statusFilter.value)\r\n  }\r\n  \r\n  return result\r\n})\r\n\r\n// Get parent category name\r\nconst getParentCategoryName = (parentId) => {\r\n  if (!parentId) return null\r\n  const parent = categories.value.find(c => c.id === parentId)\r\n  return parent ? parent.name : null\r\n}\r\n\r\n// Open modal for adding a new category\r\nconst openAddModal = () => {\r\n  categoryForm.value = {\r\n    id: null,\r\n    name: '',\r\n    slug: '',\r\n    description: '',\r\n    parent_id: null,\r\n    status: 'active'\r\n  }\r\n  isEditMode.value = false\r\n  isModalOpen.value = true\r\n}\r\n\r\n// Open modal for editing a category\r\nconst editCategory = (category) => {\r\n  categoryForm.value = { ...category }\r\n  isEditMode.value = true\r\n  isModalOpen.value = true\r\n}\r\n\r\n// Close modal\r\nconst closeModal = () => {\r\n  isModalOpen.value = false\r\n}\r\n\r\n// Generate slug from name\r\nconst generateSlug = () => {\r\n  if (!categoryForm.value.name) return\r\n  \r\n  // Only generate slug automatically if it's a new category or slug hasn't been manually edited\r\n  if (!isEditMode.value || categoryForm.value.slug === '') {\r\n    categoryForm.value.slug = categoryForm.value.name\r\n      .toLowerCase()\r\n      .normalize('NFD') // Decompose accented characters\r\n      .replace(/[\\u0300-\\u036f]/g, '') // Remove accent marks\r\n      .replace(/[đĐ]/g, 'd') // Replace Vietnamese đ/Đ\r\n      .replace(/[^a-z0-9\\s-]/g, '') // Remove special characters\r\n      .replace(/\\s+/g, '-') // Replace spaces with hyphens\r\n      .replace(/-+/g, '-') // Replace multiple hyphens with a single hyphen\r\n      .trim()\r\n  }\r\n}\r\n\r\n// Save category (create or update)\r\nconst saveCategory = () => {\r\n  if (isEditMode.value) {\r\n    // Update existing category\r\n    const index = categories.value.findIndex(c => c.id === categoryForm.value.id)\r\n    if (index !== -1) {\r\n      categories.value[index] = { ...categoryForm.value }\r\n    }\r\n  } else {\r\n    // Create new category\r\n    const newId = Math.max(0, ...categories.value.map(c => c.id)) + 1\r\n    categories.value.push({\r\n      ...categoryForm.value,\r\n      id: newId,\r\n      productCount: 0\r\n    })\r\n  }\r\n  \r\n  // Close modal\r\n  closeModal()\r\n  \r\n  // Show success message (in a real app, you would use a toast or alert)\r\n  alert(isEditMode.value ? 'Cập nhật danh mục thành công!' : 'Thêm danh mục mới thành công!')\r\n}\r\n\r\n// Toggle category status\r\nconst toggleCategoryStatus = (category) => {\r\n  const index = categories.value.findIndex(c => c.id === category.id)\r\n  if (index !== -1) {\r\n    categories.value[index].status = category.status === 'active' ? 'inactive' : 'active'\r\n  }\r\n}\r\n\r\n// Open confirmation modal for deleting a category\r\nconst confirmDelete = (id) => {\r\n  const category = categories.value.find(c => c.id === id)\r\n  \r\n  // Prevent deletion if category has products\r\n  if (category && category.productCount > 0) {\r\n    alert('Không thể xóa danh mục đang có sản phẩm. Vui lòng di chuyển hoặc xóa sản phẩm trước.')\r\n    return\r\n  }\r\n  \r\n  // Prevent deletion if category has children\r\n  const hasChildren = categories.value.some(c => c.parent_id === id)\r\n  if (hasChildren) {\r\n    alert('Không thể xóa danh mục đang có danh mục con. Vui lòng xóa danh mục con trước.')\r\n    return\r\n  }\r\n  \r\n  deleteId.value = id\r\n  isDeleteModalOpen.value = true\r\n}\r\n\r\n// Delete category\r\nconst deleteCategory = () => {\r\n  const index = categories.value.findIndex(c => c.id === deleteId.value)\r\n  if (index !== -1) {\r\n    categories.value.splice(index, 1)\r\n  }\r\n  \r\n  // Close modal\r\n  isDeleteModalOpen.value = false\r\n  deleteId.value = null\r\n  \r\n  // Show success message\r\n  alert('Xóa danh mục thành công!')\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n/* Add custom styles here if needed */\r\n</style> ","<template>\r\n  <div class=\"admin-orders min-h-screen bg-gray-50\">\r\n    <!-- Header -->\r\n    <AdminHeader />\r\n    \r\n    <!-- Main Content -->\r\n    <main class=\"py-6\">\r\n      <div class=\"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8\">\r\n        <!-- Orders title and actions -->\r\n        <div class=\"flex flex-col sm:flex-row sm:justify-between sm:items-center mb-6\">\r\n          <h1 class=\"text-2xl font-semibold text-gray-900 mb-4 sm:mb-0\">QUẢN LÝ ĐƠN HÀNG</h1>\r\n          \r\n          <div class=\"flex flex-col sm:flex-row sm:items-center gap-3\">\r\n            <div class=\"relative\">\r\n              <input\r\n                type=\"text\"\r\n                v-model=\"searchTerm\"\r\n                placeholder=\"Tìm kiếm đơn hàng...\"\r\n                class=\"px-4 py-2 pr-10 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent w-full sm:w-auto\"\r\n              >\r\n              <i class=\"fas fa-search absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\"></i>\r\n            </div>\r\n            \r\n            <div class=\"relative w-full sm:w-auto\">\r\n              <select \r\n                v-model=\"selectedStatus\" \r\n                class=\"appearance-none px-4 py-2 pr-10 border rounded-lg bg-white focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent w-full\"\r\n              >\r\n                <option value=\"\">Tất cả trạng thái</option>\r\n                <option v-for=\"status in statusOptions\" :key=\"status\" :value=\"status\">\r\n                  {{ status }}\r\n                </option>\r\n              </select>\r\n              <i class=\"fas fa-chevron-down absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400\"></i>\r\n            </div>\r\n            \r\n            <button \r\n              @click=\"exportOrders\" \r\n              class=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors flex items-center justify-center gap-2\"\r\n            >\r\n              <i class=\"fas fa-file-export\"></i>\r\n              <span>Xuất Excel</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n        \r\n        <!-- Orders table -->\r\n        <div class=\"bg-white rounded-lg shadow overflow-hidden\">\r\n          <div class=\"overflow-x-auto\">\r\n            <table class=\"min-w-full divide-y divide-gray-200\">\r\n              <thead class=\"bg-gray-50\">\r\n                <tr>\r\n                  <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Mã đơn hàng\r\n                  </th>\r\n                  <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Khách hàng\r\n                  </th>\r\n                  <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Ngày đặt\r\n                  </th>\r\n                  <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Tổng tiền\r\n                  </th>\r\n                  <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider\">\r\n                    Trạng thái\r\n                  </th>\r\n                  <th scope=\"col\" class=\"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider w-[120px]\">\r\n                    Thao tác\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody class=\"bg-white divide-y divide-gray-200\">\r\n                <tr v-for=\"order in filteredOrders\" :key=\"order.id\">\r\n                  <!-- Order ID -->\r\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div class=\"text-sm font-medium text-gray-900\">#{{ order.id }}</div>\r\n                  </td>\r\n                  \r\n                  <!-- Customer info -->\r\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div class=\"flex items-center\">\r\n                      <div class=\"ml-0\">\r\n                        <div class=\"text-sm font-medium text-gray-900 line-clamp-1\">{{ order.shippingName }}</div>\r\n                        <div class=\"text-xs text-gray-500 truncate max-w-[200px]\">{{ order.shippingEmail }}</div>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  \r\n                  <!-- Order date -->\r\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div class=\"text-sm text-gray-900\">{{ formatDate(order.createdAt) }}</div>\r\n                  </td>\r\n                  \r\n                  <!-- Total price -->\r\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                    <div class=\"text-sm text-gray-900\">{{ formatCurrency(order.totalAmount) }}</div>\r\n                  </td>\r\n                  \r\n                  <!-- Status -->\r\n                  <td class=\"px-6 py-4 whitespace-nowrap\">\r\n                    <span \r\n                      class=\"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full\"\r\n                      :class=\"getStatusColor(order.status)\"\r\n                    >\r\n                      {{ getStatusName(order.status) }}\r\n                    </span>\r\n                  </td>\r\n                  \r\n                  <!-- Actions -->\r\n                  <td class=\"px-6 py-4 whitespace-nowrap text-right text-sm font-medium\">\r\n                    <div class=\"flex items-center space-x-2\">\r\n                      <button \r\n                        @click=\"viewOrderDetails(order)\"\r\n                        class=\"w-9 h-9 flex items-center justify-center rounded-full bg-blue-50 text-blue-600 hover:bg-blue-100 transition-colors\"\r\n                        title=\"Xem chi tiết\"\r\n                        type=\"button\"\r\n                      >\r\n                        <i class=\"fas fa-eye\"></i>\r\n                      </button>\r\n                      <button \r\n                        @click=\"updateOrderStatus(order.id, order.status)\"\r\n                        class=\"w-9 h-9 flex items-center justify-center rounded-full bg-green-50 text-green-600 hover:bg-green-100 transition-colors\"\r\n                        title=\"Cập nhật trạng thái\"\r\n                        type=\"button\"\r\n                      >\r\n                        <i class=\"fas fa-edit\"></i>\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n                \r\n                <!-- Empty state -->\r\n                <tr v-if=\"filteredOrders.length === 0\">\r\n                  <td colspan=\"6\" class=\"px-6 py-10 text-center\">\r\n                    <div class=\"text-gray-500\">\r\n                      <i class=\"fas fa-shopping-cart mb-3 text-2xl\"></i>\r\n                      <p>Không tìm thấy đơn hàng nào.</p>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n          \r\n          <!-- Pagination -->\r\n          <div class=\"bg-white px-4 py-3 flex items-center justify-between border-t border-gray-200 sm:px-6\">\r\n            <div class=\"hidden sm:flex-1 sm:flex sm:items-center sm:justify-between\">\r\n              <div>\r\n                <p class=\"text-sm text-gray-700\">\r\n                  Hiển thị <span class=\"font-medium\">1</span> đến <span class=\"font-medium\">{{ Math.min(currentPage * itemsPerPage, filteredOrders.length) }}</span> trên tổng số <span class=\"font-medium\">{{ filteredOrders.length }}</span> đơn hàng\r\n                </p>\r\n              </div>\r\n              <div>\r\n                <nav class=\"relative z-0 inline-flex rounded-md shadow-sm -space-x-px\" aria-label=\"Pagination\">\r\n                  <button\r\n                    @click=\"currentPage--\"\r\n                    :disabled=\"currentPage === 1\"\r\n                    class=\"relative inline-flex items-center px-2 py-2 rounded-l-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                  >\r\n                    <i class=\"fas fa-chevron-left\"></i>\r\n                  </button>\r\n                  <!-- Pagination numbers -->\r\n                  <span \r\n                    v-for=\"page in Math.min(5, Math.ceil(filteredOrders.length / itemsPerPage))\" \r\n                    :key=\"page\"\r\n                    @click=\"currentPage = page\"\r\n                    class=\"relative inline-flex items-center px-4 py-2 border border-gray-300 bg-white text-sm font-medium hover:bg-gray-50 cursor-pointer\"\r\n                    :class=\"currentPage === page ? 'text-green-600 bg-green-50' : 'text-gray-500'\"\r\n                  >\r\n                    {{ page }}\r\n                  </span>\r\n                  <button\r\n                    @click=\"currentPage++\"\r\n                    :disabled=\"currentPage >= Math.ceil(filteredOrders.length / itemsPerPage)\"\r\n                    class=\"relative inline-flex items-center px-2 py-2 rounded-r-md border border-gray-300 bg-white text-sm font-medium text-gray-500 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed\"\r\n                  >\r\n                    <i class=\"fas fa-chevron-right\"></i>\r\n                  </button>\r\n                </nav>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </main>\r\n    \r\n    <!-- Order Detail Modal -->\r\n    <div v-if=\"showDetailModal\" class=\"fixed inset-0 z-50 overflow-y-auto\">\r\n      <div class=\"flex items-center justify-center min-h-screen pt-4 px-4 pb-20 text-center sm:block sm:p-0\">\r\n        <!-- Background overlay -->\r\n        <div class=\"fixed inset-0 bg-gray-500 bg-opacity-75 transition-opacity\" @click=\"closeDetailModal\"></div>\r\n        \r\n        <!-- Modal panel -->\r\n        <div class=\"inline-block align-bottom bg-white rounded-lg text-left overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-2xl sm:w-full\">\r\n          <div class=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\r\n            <div class=\"sm:flex sm:items-start\">\r\n              <div class=\"w-full\">\r\n                <div class=\"flex justify-between items-center mb-4\">\r\n                  <h3 class=\"text-lg leading-6 font-medium text-gray-900\">\r\n                    Chi tiết đơn hàng #{{ selectedOrder?.id }}\r\n                  </h3>\r\n                  <button @click=\"closeDetailModal\" class=\"text-gray-400 hover:text-gray-500\">\r\n                    <i class=\"fas fa-times\"></i>\r\n                  </button>\r\n                </div>\r\n                \r\n                <div class=\"border-t border-gray-200 py-4\">\r\n                  <div class=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <h4 class=\"text-sm font-medium text-gray-500 mb-2\">Thông tin khách hàng</h4>\r\n                      <p class=\"text-sm text-gray-900\">{{ selectedOrder?.shippingName }}</p>\r\n                      <p class=\"text-sm text-gray-500\">{{ selectedOrder?.shippingEmail }}</p>\r\n                      <p class=\"text-sm text-gray-500\">{{ selectedOrder?.shippingPhone }}</p>\r\n                    </div>\r\n                    <div>\r\n                      <h4 class=\"text-sm font-medium text-gray-500 mb-2\">Thông tin đơn hàng</h4>\r\n                      <p class=\"text-sm text-gray-900\">Ngày đặt: {{ formatDate(selectedOrder?.createdAt) }}</p>\r\n                      <p class=\"text-sm text-gray-900\">Trạng thái: \r\n                        <span \r\n                          class=\"px-2 py-1 inline-flex text-xs leading-5 font-semibold rounded-full\"\r\n                          :class=\"getStatusColor(selectedOrder?.status)\"\r\n                        >\r\n                          {{ getStatusName(selectedOrder?.status) }}\r\n                        </span>\r\n                      </p>\r\n                      <p class=\"text-sm text-gray-900\">Phương thức thanh toán: {{ selectedOrder?.paymentMethod }}</p>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                \r\n                <div class=\"border-t border-gray-200 py-4\">\r\n                  <h4 class=\"text-sm font-medium text-gray-500 mb-2\">Địa chỉ giao hàng</h4>\r\n                  <p class=\"text-sm text-gray-900\">{{ selectedOrder?.shippingAddress }}</p>\r\n                </div>\r\n                \r\n                <div class=\"border-t border-gray-200 pt-4\">\r\n                  <div class=\"flex justify-between\">\r\n                    <select \r\n                      v-model=\"newStatus\" \r\n                      class=\"px-3 py-2 border rounded-lg focus:outline-none focus:ring-2 focus:ring-green-500 focus:border-transparent\"\r\n                    >\r\n                      <option value=\"PENDING\">Chờ xử lý</option>\r\n                      <option value=\"PROCESSING\">Đang xử lý</option>\r\n                      <option value=\"SHIPPING\">Đang giao hàng</option>\r\n                      <option value=\"COMPLETED\">Hoàn thành</option>\r\n                      <option value=\"CANCELLED\">Đã hủy</option>\r\n                    </select>\r\n                    \r\n                    <button \r\n                      @click=\"saveOrderStatus\"\r\n                      class=\"px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700 transition-colors\"\r\n                    >\r\n                      Cập nhật trạng thái\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script setup>\r\nimport { ref, computed, onMounted } from 'vue'\r\nimport { useRouter } from 'vue-router'\r\nimport AdminHeader from '@/components/admin/AdminHeader.vue'\r\nimport auth from '@/store/auth'\r\nimport api from '@/api'\r\n\r\nconst router = useRouter()\r\nconst orders = ref([])\r\nconst isLoading = ref(false)\r\nconst loadingError = ref(null)\r\n\r\n// Chuyển hướng nếu chưa đăng nhập\r\nif (!auth.isAuthenticated.value) {\r\n  router.push('/admin/login')\r\n}\r\n\r\n// State\r\nconst searchTerm = ref('')\r\nconst selectedStatus = ref('')\r\nconst currentPage = ref(1)\r\nconst itemsPerPage = 10\r\nconst showDetailModal = ref(false)\r\nconst selectedOrder = ref(null)\r\nconst newStatus = ref('')\r\n\r\n// Status options\r\nconst statusOptions = [\r\n  'PENDING',\r\n  'PROCESSING',\r\n  'SHIPPING',\r\n  'COMPLETED',\r\n  'CANCELLED'\r\n]\r\n\r\n// Filtered orders\r\nconst filteredOrders = computed(() => {\r\n  let result = orders.value\r\n\r\n  // Filter by search term\r\n  if (searchTerm.value) {\r\n    const searchLower = searchTerm.value.toLowerCase()\r\n    result = result.filter(order => \r\n      order.id.toString().includes(searchLower) || \r\n      order.shippingName.toLowerCase().includes(searchLower) || \r\n      order.shippingEmail.toLowerCase().includes(searchLower)\r\n    )\r\n  }\r\n\r\n  // Filter by status\r\n  if (selectedStatus.value) {\r\n    result = result.filter(order => order.status === selectedStatus.value)\r\n  }\r\n\r\n  return result\r\n})\r\n\r\n// Lấy danh sách đơn hàng\r\nasync function fetchOrders() {\r\n  isLoading.value = true\r\n  loadingError.value = null\r\n  \r\n  try {\r\n    const response = await api.order.getOrders()\r\n    orders.value = response.data\r\n  } catch (error) {\r\n    console.error('Error fetching orders:', error)\r\n    loadingError.value = 'Không thể tải danh sách đơn hàng'\r\n    \r\n    // Sử dụng dữ liệu mẫu nếu API lỗi\r\n    orders.value = [\r\n      {\r\n        id: 1,\r\n        userId: 1,\r\n        totalAmount: 3450000,\r\n        shippingFee: 30000,\r\n        status: \"COMPLETED\",\r\n        paymentMethod: \"COD\",\r\n        paymentStatus: \"COMPLETED\",\r\n        shippingName: \"Nguyễn Văn A\",\r\n        shippingPhone: \"0123456789\",\r\n        shippingAddress: \"123 Đường ABC, Quận XYZ\",\r\n        shippingEmail: \"nguyenvana@example.com\",\r\n        notes: \"Giao hàng giờ hành chính\",\r\n        createdAt: \"2023-11-01T12:00:00\",\r\n        updatedAt: \"2023-11-01T15:30:00\"\r\n      },\r\n      {\r\n        id: 2,\r\n        userId: 2,\r\n        totalAmount: 7800000,\r\n        shippingFee: 30000,\r\n        status: \"PROCESSING\",\r\n        paymentMethod: \"TRANSFER\",\r\n        paymentStatus: \"PENDING\",\r\n        shippingName: \"Trần Thị B\",\r\n        shippingPhone: \"0987654321\",\r\n        shippingAddress: \"456 Đường DEF, Quận UVW\",\r\n        shippingEmail: \"tranthib@example.com\",\r\n        notes: \"\",\r\n        createdAt: \"2023-11-02T10:15:00\",\r\n        updatedAt: \"2023-11-02T10:15:00\"\r\n      },\r\n      {\r\n        id: 3,\r\n        userId: 3,\r\n        totalAmount: 1250000,\r\n        shippingFee: 30000,\r\n        status: \"SHIPPING\",\r\n        paymentMethod: \"COD\",\r\n        paymentStatus: \"PENDING\",\r\n        shippingName: \"Lê Văn C\",\r\n        shippingPhone: \"0369852147\",\r\n        shippingAddress: \"789 Đường GHI, Quận RST\",\r\n        shippingEmail: \"levanc@example.com\",\r\n        notes: \"Gọi trước khi giao\",\r\n        createdAt: \"2023-11-03T09:30:00\",\r\n        updatedAt: \"2023-11-03T14:20:00\"\r\n      }\r\n    ]\r\n  } finally {\r\n    isLoading.value = false\r\n  }\r\n}\r\n\r\n// Cập nhật trạng thái đơn hàng\r\nasync function updateOrderStatus(orderId, status) {\r\n  try {\r\n    await api.order.updateOrderStatus(orderId, status)\r\n    // Cập nhật lại danh sách đơn hàng\r\n    fetchOrders()\r\n  } catch (error) {\r\n    console.error('Error updating order status:', error)\r\n    alert('Không thể cập nhật trạng thái đơn hàng')\r\n  }\r\n}\r\n\r\n// Cập nhật trạng thái thanh toán\r\nasync function updatePaymentStatus(orderId, paymentStatus) {\r\n  try {\r\n    await api.order.updatePaymentStatus(orderId, paymentStatus)\r\n    // Cập nhật lại danh sách đơn hàng\r\n    fetchOrders()\r\n  } catch (error) {\r\n    console.error('Error updating payment status:', error)\r\n    alert('Không thể cập nhật trạng thái thanh toán')\r\n  }\r\n}\r\n\r\n// Định dạng số thành tiền Việt Nam\r\nfunction formatCurrency(amount) {\r\n  return new Intl.NumberFormat('vi-VN', {\r\n    style: 'currency',\r\n    currency: 'VND'\r\n  }).format(amount).replace('₫', 'VNĐ')\r\n}\r\n\r\n// Định dạng thời gian\r\nfunction formatDate(dateString) {\r\n  return new Date(dateString).toLocaleDateString('vi-VN')\r\n}\r\n\r\n// Lấy màu cho trạng thái\r\nfunction getStatusColor(status) {\r\n  switch (status) {\r\n    case 'COMPLETED':\r\n      return 'bg-green-100 text-green-800'\r\n    case 'PROCESSING':\r\n      return 'bg-blue-100 text-blue-800'\r\n    case 'SHIPPING':\r\n      return 'bg-purple-100 text-purple-800'\r\n    case 'PENDING':\r\n      return 'bg-yellow-100 text-yellow-800'\r\n    case 'CANCELLED':\r\n      return 'bg-red-100 text-red-800'\r\n    default:\r\n      return 'bg-gray-100 text-gray-800'\r\n  }\r\n}\r\n\r\n// Hiển thị tên trạng thái tiếng Việt\r\nfunction getStatusName(status) {\r\n  switch (status) {\r\n    case 'COMPLETED':\r\n      return 'Hoàn thành'\r\n    case 'PROCESSING':\r\n      return 'Đang xử lý'\r\n    case 'SHIPPING':\r\n      return 'Đang giao hàng'\r\n    case 'PENDING':\r\n      return 'Chờ xử lý'\r\n    case 'CANCELLED':\r\n      return 'Đã hủy'\r\n    default:\r\n      return status\r\n  }\r\n}\r\n\r\n// View order details\r\nfunction viewOrderDetails(order) {\r\n  selectedOrder.value = order\r\n  newStatus.value = order.status\r\n  showDetailModal.value = true\r\n}\r\n\r\n// Close detail modal\r\nfunction closeDetailModal() {\r\n  showDetailModal.value = false\r\n  selectedOrder.value = null\r\n}\r\n\r\n// Save order status\r\nfunction saveOrderStatus() {\r\n  if (selectedOrder.value) {\r\n    // Call API to update order status\r\n    updateOrderStatus(selectedOrder.value.id, newStatus.value)\r\n    closeDetailModal()\r\n  }\r\n}\r\n\r\n// Export orders to Excel\r\nfunction exportOrders() {\r\n  // In a real app, this would call a function to export to Excel\r\n  console.log('Exporting orders to Excel...')\r\n  alert('Tính năng xuất Excel đang được phát triển')\r\n}\r\n\r\n// Lấy danh sách đơn hàng khi component được khởi tạo\r\nonMounted(() => {\r\n  fetchOrders()\r\n})\r\n</script>\r\n\r\n<style scoped>\r\n.line-clamp-1 {\r\n  display: -webkit-box;\r\n  -webkit-line-clamp: 1;\r\n  -webkit-box-orient: vertical;\r\n  overflow: hidden;\r\n}\r\n\r\n.truncate {\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n}\r\n</style> ","<template>\n  <div class=\"sessions-admin-page min-h-screen bg-gray-50\">\n    <AdminHeader />\n    \n    <div class=\"container mx-auto px-4 py-8\">\n      <div class=\"flex justify-between items-center mb-6\">\n        <h1 class=\"text-2xl font-bold text-gray-800\">Quản lý phiên đăng nhập</h1>\n        <button \n          @click=\"refreshSessions\"\n          class=\"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-md flex items-center\"\n        >\n          <i class=\"fas fa-sync-alt mr-2\"></i> Làm mới\n        </button>\n      </div>\n      \n      <!-- Loading indicator -->\n      <div v-if=\"isLoading\" class=\"flex flex-col items-center justify-center my-12\">\n        <div class=\"animate-spin rounded-full h-16 w-16 border-t-2 border-b-2 border-blue-500\"></div>\n        <p class=\"mt-4 text-gray-600\">Đang tải dữ liệu phiên đăng nhập...</p>\n      </div>\n      \n      <!-- Error message -->\n      <div v-else-if=\"error\" class=\"mb-6 bg-red-50 border-l-4 border-red-500 p-5 rounded-md text-red-700\">\n        <div class=\"flex items-center\">\n          <div class=\"flex-shrink-0\">\n            <i class=\"fas fa-exclamation-circle text-red-500 text-xl\"></i>\n          </div>\n          <div class=\"ml-3\">\n            <h3 class=\"text-sm font-medium text-red-800\">Lỗi khi tải dữ liệu</h3>\n            <p class=\"mt-1 text-sm\">{{ error }}</p>\n            <div v-if=\"error.includes('đăng nhập')\" class=\"mt-3\">\n              <button \n                @click=\"redirectToLogin\"\n                class=\"bg-red-600 hover:bg-red-700 text-white px-4 py-2 rounded-md text-sm inline-flex items-center\"\n              >\n                <i class=\"fas fa-sign-in-alt mr-2\"></i> Đăng nhập lại\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Sessions -->\n      <div v-else class=\"space-y-6\">\n        <!-- Current session -->\n        <div class=\"bg-white rounded-lg shadow-md overflow-hidden\">\n          <div class=\"bg-green-50 px-6 py-4 border-b border-green-100\">\n            <div class=\"flex justify-between items-center\">\n              <h2 class=\"text-lg font-medium text-green-800\">\n                <i class=\"fas fa-desktop mr-2\"></i> Phiên hiện tại\n              </h2>\n              <span class=\"px-2 py-1 bg-green-100 text-green-800 text-xs font-medium rounded-full\">\n                Đang hoạt động\n              </span>\n            </div>\n          </div>\n          \n          <div class=\"p-6\">\n            <div class=\"flex items-start md:items-center flex-col md:flex-row justify-between\">\n              <div class=\"flex items-center mb-4 md:mb-0\">\n                <div class=\"h-12 w-12 rounded-full bg-green-100 flex items-center justify-center mr-4\">\n                  <i class=\"fas fa-laptop text-green-700 text-lg\"></i>\n                </div>\n                <div>\n                  <div class=\"font-medium\">{{ currentDevice }}</div>\n                  <div class=\"text-sm text-gray-500\">\n                    <span>{{ currentLocation }}</span>\n                    <span class=\"mx-2\">•</span>\n                    <span>{{ formatDate(currentLoginTime) }}</span>\n                  </div>\n                </div>\n              </div>\n            </div>\n          </div>\n        </div>\n        \n        <!-- Other sessions -->\n        <div class=\"bg-white rounded-lg shadow-md overflow-hidden\">\n          <div class=\"bg-gray-50 px-6 py-4 border-b border-gray-200\">\n            <div class=\"flex justify-between items-center\">\n              <h2 class=\"text-lg font-medium text-gray-800\">\n                <i class=\"fas fa-mobile-alt mr-2\"></i> Các phiên đăng nhập khác\n              </h2>\n              <button \n                @click=\"confirmLogoutAllOtherSessions\"\n                class=\"px-3 py-1 bg-red-50 text-red-600 text-sm font-medium rounded-md hover:bg-red-100 transition-colors\"\n              >\n                Đăng xuất tất cả\n              </button>\n            </div>\n          </div>\n          \n          <div v-if=\"otherSessions.length === 0\" class=\"p-8 text-center\">\n            <div class=\"h-16 w-16 mx-auto bg-gray-100 rounded-full flex items-center justify-center\">\n              <i class=\"fas fa-check text-gray-400 text-xl\"></i>\n            </div>\n            <h3 class=\"mt-4 text-base font-medium text-gray-900\">Không có phiên đăng nhập nào khác</h3>\n            <p class=\"mt-1 text-sm text-gray-500\">\n              Bạn chỉ đang đăng nhập trên thiết bị này\n            </p>\n          </div>\n          \n          <div v-else>\n            <ul class=\"divide-y divide-gray-200\">\n              <li v-for=\"session in otherSessions\" :key=\"session.id\" class=\"px-6 py-4\">\n                <div class=\"flex items-start md:items-center flex-col md:flex-row justify-between\">\n                  <div class=\"flex items-center mb-4 md:mb-0\">\n                    <div class=\"h-10 w-10 rounded-full bg-blue-50 flex items-center justify-center mr-4\">\n                      <i :class=\"[getDeviceIcon(session.device), 'text-blue-600']\"></i>\n                    </div>\n                    <div>\n                      <div class=\"font-medium\">{{ session.device || 'Thiết bị không xác định' }}</div>\n                      <div class=\"text-sm text-gray-500\">\n                        <span>{{ session.location || 'Vị trí không xác định' }}</span>\n                        <span class=\"mx-2\">•</span>\n                        <span>{{ formatDate(session.loginTime) }}</span>\n                      </div>\n                    </div>\n                  </div>\n                  <button \n                    @click=\"confirmLogoutSession(session)\" \n                    class=\"px-3 py-1 bg-gray-100 text-gray-700 text-sm font-medium rounded-md hover:bg-gray-200 transition-colors\"\n                  >\n                    Đăng xuất\n                  </button>\n                </div>\n              </li>\n            </ul>\n          </div>\n        </div>\n      </div>\n      \n      <!-- Confirm Logout Dialog -->\n      <div v-if=\"showLogoutConfirm\" class=\"fixed inset-0 z-50 overflow-y-auto\">\n        <div class=\"flex items-center justify-center min-h-screen px-4 pt-4 pb-20 text-center sm:block sm:p-0\">\n          <div class=\"fixed inset-0 transition-opacity\" aria-hidden=\"true\">\n            <div class=\"absolute inset-0 bg-gray-500 opacity-75\"></div>\n          </div>\n          \n          <!-- Confirm dialog -->\n          <div class=\"inline-block align-bottom bg-white rounded-lg overflow-hidden shadow-xl transform transition-all sm:my-8 sm:align-middle sm:max-w-lg sm:w-full\">\n            <div class=\"bg-white px-4 pt-5 pb-4 sm:p-6 sm:pb-4\">\n              <div class=\"sm:flex sm:items-start\">\n                <div class=\"mx-auto flex-shrink-0 flex items-center justify-center h-12 w-12 rounded-full bg-red-100 sm:mx-0 sm:h-10 sm:w-10\">\n                  <i class=\"fas fa-exclamation-triangle text-red-600\"></i>\n                </div>\n                <div class=\"mt-3 text-center sm:mt-0 sm:ml-4 sm:text-left\">\n                  <h3 class=\"text-lg leading-6 font-medium text-gray-900\">\n                    {{ logoutConfirmTitle }}\n                  </h3>\n                  <div class=\"mt-2\">\n                    <p class=\"text-sm text-gray-500\">\n                      {{ logoutConfirmMessage }}\n                    </p>\n                  </div>\n                </div>\n              </div>\n            </div>\n            <div class=\"bg-gray-50 px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse\">\n              <button \n                @click=\"handleLogoutConfirm\" \n                class=\"w-full inline-flex justify-center rounded-md border border-transparent shadow-sm px-4 py-2 bg-red-600 text-base font-medium text-white hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500 sm:ml-3 sm:w-auto sm:text-sm\"\n              >\n                Đăng xuất\n              </button>\n              <button \n                @click=\"showLogoutConfirm = false\" \n                class=\"mt-3 w-full inline-flex justify-center rounded-md border border-gray-300 shadow-sm px-4 py-2 bg-white text-base font-medium text-gray-700 hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 sm:mt-0 sm:ml-3 sm:w-auto sm:text-sm\"\n              >\n                Hủy\n              </button>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup>\nimport { ref, computed, onMounted } from 'vue'\nimport { useRouter } from 'vue-router'\nimport AdminHeader from '@/components/admin/AdminHeader.vue'\nimport api from '@/api'\nimport notificationService from '@/utils/notificationService'\n\n// State\nconst isLoading = ref(true)\nconst error = ref(null)\nconst sessions = ref([])\nconst currentSessionId = ref('current-session')\n\n// Router\nconst router = useRouter()\n\n// Confirm logout\nconst showLogoutConfirm = ref(false)\nconst sessionToLogout = ref(null)\nconst logoutAll = ref(false)\nconst logoutConfirmTitle = computed(() => {\n  if (logoutAll.value) {\n    return 'Đăng xuất tất cả phiên khác'\n  }\n  return 'Đăng xuất phiên'\n})\nconst logoutConfirmMessage = computed(() => {\n  if (logoutAll.value) {\n    return 'Bạn có chắc muốn đăng xuất khỏi tất cả các thiết bị khác? Bạn sẽ vẫn đăng nhập trên thiết bị hiện tại.'\n  }\n  return 'Bạn có chắc muốn đăng xuất khỏi phiên này? Người dùng sẽ phải đăng nhập lại trên thiết bị đó.'\n})\n\n// Filter sessions\nconst currentDevice = computed(() => {\n  return detectCurrentDevice()\n})\nconst currentLocation = computed(() => {\n  return 'Thiết bị của bạn'\n})\nconst currentLoginTime = computed(() => {\n  return new Date()\n})\nconst otherSessions = computed(() => {\n  return sessions.value.filter(session => session.id !== currentSessionId.value)\n})\n\n// Get device icon\nfunction getDeviceIcon(device) {\n  if (!device) return 'fas fa-question'\n  \n  const deviceLower = device.toLowerCase()\n  if (deviceLower.includes('iphone') || deviceLower.includes('android') || deviceLower.includes('mobile')) {\n    return 'fas fa-mobile-alt'\n  } else if (deviceLower.includes('ipad') || deviceLower.includes('tablet')) {\n    return 'fas fa-tablet-alt'\n  } else if (deviceLower.includes('mac') || deviceLower.includes('windows') || deviceLower.includes('linux')) {\n    return 'fas fa-laptop'\n  }\n  \n  return 'fas fa-desktop'\n}\n\n// Detect current device\nfunction detectCurrentDevice() {\n  const userAgent = navigator.userAgent\n  let device = 'Thiết bị không xác định'\n  \n  if (/Windows/.test(userAgent)) {\n    device = 'Windows'\n  } else if (/Macintosh|Mac OS X/.test(userAgent)) {\n    device = 'MacOS'\n  } else if (/Linux/.test(userAgent)) {\n    device = 'Linux'\n  } else if (/iPhone/.test(userAgent)) {\n    device = 'iPhone'\n  } else if (/iPad/.test(userAgent)) {\n    device = 'iPad'\n  } else if (/Android/.test(userAgent)) {\n    device = 'Android'\n  }\n  \n  const browser = detectBrowser()\n  return `${device} - ${browser}`\n}\n\n// Detect browser\nfunction detectBrowser() {\n  const userAgent = navigator.userAgent\n  \n  if (/Chrome/.test(userAgent) && !/Chromium|Edge|OPR|Safari/.test(userAgent)) {\n    return 'Chrome'\n  } else if (/Firefox/.test(userAgent)) {\n    return 'Firefox'\n  } else if (/Safari/.test(userAgent) && !/Chrome|Chromium|Edge|OPR/.test(userAgent)) {\n    return 'Safari'\n  } else if (/Edge|Edg/.test(userAgent)) {\n    return 'Edge'\n  } else if (/Opera|OPR/.test(userAgent)) {\n    return 'Opera'\n  }\n  \n  return 'Browser không xác định'\n}\n\n// Format date for display\nfunction formatDate(date) {\n  if (!date) return ''\n  \n  const d = new Date(date)\n  if (isNaN(d.getTime())) return ''\n  \n  const now = new Date()\n  const diff = now.getTime() - d.getTime()\n  const diffDays = Math.floor(diff / (1000 * 60 * 60 * 24))\n  \n  if (diffDays === 0) {\n    return 'Hôm nay, ' + d.toLocaleTimeString('vi-VN', { hour: '2-digit', minute: '2-digit' })\n  } else if (diffDays === 1) {\n    return 'Hôm qua, ' + d.toLocaleTimeString('vi-VN', { hour: '2-digit', minute: '2-digit' })\n  } else if (diffDays < 7) {\n    return `${diffDays} ngày trước`\n  } else {\n    return d.toLocaleDateString('vi-VN', { day: '2-digit', month: '2-digit', year: 'numeric' })\n  }\n}\n\n// API calls\nasync function fetchSessions() {\n  isLoading.value = true\n  error.value = null\n  \n  try {\n    const token = localStorage.getItem('admin_current_token') || localStorage.getItem('token')\n    if (!token) {\n      error.value = 'Bạn chưa đăng nhập hoặc phiên làm việc đã hết hạn. Vui lòng đăng nhập lại.'\n      isLoading.value = false\n      return\n    }\n    \n    // Gọi API lấy danh sách phiên đăng nhập\n    try {\n      const response = await api.session.getSessions()\n      \n      // Mô phỏng dữ liệu phiên đăng nhập\n      sessions.value = response.data || mockSessions()\n      \n    } catch (apiError) {\n      console.error('Lỗi khi lấy danh sách phiên:', apiError)\n      \n      if (apiError.response?.status === 401) {\n        error.value = 'Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại.'\n        setTimeout(() => { redirectToLogin() }, 3000)\n      } else {\n        // Trong trường hợp API không hoạt động, sử dụng dữ liệu mô phỏng\n        sessions.value = mockSessions()\n      }\n    }\n  } catch (err) {\n    console.error('Lỗi khi tải phiên đăng nhập:', err)\n    error.value = 'Không thể tải dữ liệu phiên đăng nhập. Vui lòng thử lại sau.'\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// Create mock session data for testing\nfunction mockSessions() {\n  return [\n    {\n      id: 'session-1',\n      device: 'iPhone 13 - Safari',\n      location: 'Hồ Chí Minh, Việt Nam',\n      loginTime: new Date(Date.now() - 1000 * 60 * 60 * 2), // 2 hours ago\n      ipAddress: '192.168.1.1'\n    },\n    {\n      id: 'session-2',\n      device: 'Windows 10 - Chrome',\n      location: 'Hà Nội, Việt Nam',\n      loginTime: new Date(Date.now() - 1000 * 60 * 60 * 24 * 2), // 2 days ago\n      ipAddress: '192.168.1.2'\n    },\n    {\n      id: 'session-3',\n      device: 'Macbook Pro - Chrome',\n      location: 'Đà Nẵng, Việt Nam',\n      loginTime: new Date(Date.now() - 1000 * 60 * 60 * 24 * 5), // 5 days ago\n      ipAddress: '192.168.1.3'\n    }\n  ]\n}\n\n// Refresh sessions\nfunction refreshSessions() {\n  fetchSessions()\n}\n\n// Redirect to login\nfunction redirectToLogin() {\n  window.location.href = '/admin/login'\n}\n\n// Confirm logout session\nfunction confirmLogoutSession(session) {\n  sessionToLogout.value = session\n  logoutAll.value = false\n  showLogoutConfirm.value = true\n}\n\n// Confirm logout all sessions\nfunction confirmLogoutAllOtherSessions() {\n  sessionToLogout.value = null\n  logoutAll.value = true\n  showLogoutConfirm.value = true\n}\n\n// Handle logout confirm\nasync function handleLogoutConfirm() {\n  showLogoutConfirm.value = false\n  \n  try {\n    if (logoutAll.value) {\n      await logoutAllOtherSessions()\n    } else if (sessionToLogout.value) {\n      await logoutSession(sessionToLogout.value)\n    }\n  } catch (error) {\n    console.error('Lỗi khi xử lý đăng xuất:', error)\n    notificationService.show('Đã xảy ra lỗi khi đăng xuất phiên', {\n      title: 'Lỗi',\n      type: 'error'\n    })\n  }\n}\n\n// Logout session\nasync function logoutSession(session) {\n  try {\n    isLoading.value = true\n    \n    const token = localStorage.getItem('admin_current_token') || localStorage.getItem('token')\n    if (!token) {\n      error.value = 'Bạn chưa đăng nhập hoặc phiên làm việc đã hết hạn. Vui lòng đăng nhập lại.'\n      isLoading.value = false\n      return\n    }\n    \n    // Gọi API đăng xuất phiên\n    try {\n      await api.session.removeSession(session.id)\n      \n      // Cập nhật danh sách phiên\n      sessions.value = sessions.value.filter(s => s.id !== session.id)\n      \n      notificationService.show('Đã đăng xuất phiên thành công', {\n        title: 'Thành công',\n        type: 'success'\n      })\n    } catch (apiError) {\n      console.error('Lỗi khi đăng xuất phiên:', apiError)\n      \n      if (apiError.response?.status === 401) {\n        error.value = 'Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại.'\n        setTimeout(() => { redirectToLogin() }, 3000)\n      } else {\n        // Trong trường hợp API không hoạt động, giả lập thành công\n        sessions.value = sessions.value.filter(s => s.id !== session.id)\n        \n        notificationService.show('Đã đăng xuất phiên thành công', {\n          title: 'Thành công',\n          type: 'success'\n        })\n      }\n    }\n  } catch (err) {\n    console.error('Lỗi khi đăng xuất phiên:', err)\n    notificationService.show('Không thể đăng xuất phiên. Vui lòng thử lại sau.', {\n      title: 'Lỗi',\n      type: 'error'\n    })\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// Logout all other sessions\nasync function logoutAllOtherSessions() {\n  try {\n    isLoading.value = true\n    \n    const token = localStorage.getItem('admin_current_token') || localStorage.getItem('token')\n    if (!token) {\n      error.value = 'Bạn chưa đăng nhập hoặc phiên làm việc đã hết hạn. Vui lòng đăng nhập lại.'\n      isLoading.value = false\n      return\n    }\n    \n    // Gọi API đăng xuất tất cả phiên khác\n    try {\n      await api.session.removeOtherSessions()\n      \n      // Giữ lại phiên hiện tại\n      sessions.value = sessions.value.filter(s => s.id === currentSessionId.value)\n      \n      notificationService.show('Đã đăng xuất tất cả phiên khác thành công', {\n        title: 'Thành công',\n        type: 'success'\n      })\n    } catch (apiError) {\n      console.error('Lỗi khi đăng xuất tất cả phiên khác:', apiError)\n      \n      if (apiError.response?.status === 401) {\n        error.value = 'Phiên đăng nhập đã hết hạn. Vui lòng đăng nhập lại.'\n        setTimeout(() => { redirectToLogin() }, 3000)\n      } else {\n        // Trong trường hợp API không hoạt động, giả lập thành công\n        sessions.value = []\n        \n        notificationService.show('Đã đăng xuất tất cả phiên khác thành công', {\n          title: 'Thành công',\n          type: 'success'\n        })\n      }\n    }\n  } catch (err) {\n    console.error('Lỗi khi đăng xuất tất cả phiên khác:', err)\n    notificationService.show('Không thể đăng xuất tất cả phiên khác. Vui lòng thử lại sau.', {\n      title: 'Lỗi',\n      type: 'error'\n    })\n  } finally {\n    isLoading.value = false\n  }\n}\n\n// Load data on mounted\nonMounted(() => {\n  fetchSessions()\n})\n</script>\n\n<style scoped>\n.line-clamp-1 {\n  display: -webkit-box;\n  -webkit-line-clamp: 1;\n  -webkit-box-orient: vertical;\n  overflow: hidden;\n}\n\n.truncate {\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n}\n</style> ","import { createRouter, createWebHistory } from 'vue-router'\nimport Home from '@/views/Home.vue'\nimport ProductDetail from '@/views/ProductDetail.vue'\nimport Cart from '@/views/Cart.vue'\nimport Checkout from '@/views/Checkout.vue'\nimport Products from '@/views/Products.vue'\nimport About from '@/views/About.vue'\nimport Services from '@/views/Services.vue'\nimport News from '@/views/News.vue'\nimport Contact from '@/views/Contact.vue'\nimport Login from '@/views/admin/Login.vue'\nimport Register from '@/views/admin/Register.vue'\nimport Dashboard from '@/views/admin/Dashboard.vue'\nimport AdminProducts from '@/views/admin/Products.vue'\nimport AdminServices from '@/views/admin/Services.vue'\nimport Users from '@/views/admin/Users.vue'\nimport AdminNews from '@/views/admin/News.vue'\nimport Categories from '@/views/admin/Categories.vue'\nimport Orders from '@/views/admin/Orders.vue'\nimport Sessions from '@/views/admin/Sessions.vue'\nimport auth from '@/store/auth'\nimport sessionToken from '@/store/sessionToken'\n\nconst routes = [\n  {\n    path: '/',\n    name: 'Home',\n    component: Home,\n    meta: { requiresAuth: false }\n  },\n  {\n    path: '/products',\n    name: 'Products',\n    component: Products,\n    meta: { requiresAuth: false }\n  },\n  {\n    path: '/product/:id',\n    name: 'ProductDetail',\n    component: ProductDetail,\n    props: true,\n    meta: { requiresAuth: false }\n  },\n  {\n    path: '/cart',\n    name: 'Cart',\n    component: Cart,\n    meta: { requiresAuth: false }\n  },\n  {\n    path: '/checkout',\n    name: 'Checkout',\n    component: Checkout,\n    meta: { requiresAuth: false }\n  },\n  {\n    path: '/about',\n    name: 'About',\n    component: About,\n    meta: { requiresAuth: false }\n  },\n  {\n    path: '/services',\n    name: 'Services',\n    component: Services,\n    meta: { requiresAuth: false }\n  },\n  {\n    path: '/news',\n    name: 'News',\n    component: News,\n    meta: { requiresAuth: false }\n  },\n  {\n    path: '/contact',\n    name: 'Contact',\n    component: Contact,\n    meta: { requiresAuth: false }\n  },\n  {\n    path: '/admin/login',\n    name: 'AdminLogin',\n    component: Login,\n    meta: { requiresGuest: true }\n  },\n  {\n    path: '/admin/register',\n    name: 'AdminRegister',\n    component: Register,\n    meta: { requiresGuest: true }\n  },\n  {\n    path: '/admin',\n    redirect: '/admin/dashboard',\n    meta: { requiresAuth: true, requiresAdmin: true }\n  },\n  {\n    path: '/admin/dashboard',\n    name: 'AdminDashboard',\n    component: Dashboard,\n    meta: { requiresAuth: true, requiresAdmin: true }\n  },\n  {\n    path: '/admin/products',\n    name: 'AdminProducts',\n    component: AdminProducts,\n    meta: { requiresAuth: true, requiresAdmin: true }\n  },\n  {\n    path: '/admin/services',\n    name: 'AdminServices',\n    component: AdminServices,\n    meta: { requiresAuth: true, requiresAdmin: true }\n  },\n  {\n    path: '/admin/categories',\n    name: 'AdminCategories',\n    component: Categories,\n    meta: { requiresAuth: true, requiresAdmin: true }\n  },\n  {\n    path: '/admin/users',\n    name: 'AdminUsers',\n    component: Users,\n    meta: { requiresAuth: true, requiresAdmin: true }\n  },\n  {\n    path: '/admin/news',\n    name: 'AdminNews',\n    component: AdminNews,\n    meta: { requiresAuth: true, requiresAdmin: true }\n  },\n  {\n    path: '/admin/orders',\n    name: 'AdminOrders',\n    component: Orders,\n    meta: { requiresAuth: true, requiresAdmin: true }\n  },\n  {\n    path: '/admin/sessions',\n    name: 'AdminSessions',\n    component: Sessions,\n    meta: { requiresAuth: true, requiresAdmin: true }\n  }\n]\n\nconst router = createRouter({\n  history: createWebHistory(),\n  routes,\n  scrollBehavior() {\n    // Luôn cuộn lên đầu trang khi chuyển route\n    return { top: 0 }\n  }\n})\n\n// Navigation Guards\nrouter.beforeEach((to, from, next) => {\n  // Cập nhật hoạt động khi chuyển trang nếu đã đăng nhập\n  if (auth.isAuthenticated.value) {\n    auth.updateActivity()\n  }\n  \n  // Kiểm tra nếu route yêu cầu xác thực\n  if (to.matched.some(record => record.meta.requiresAuth)) {\n    // Kiểm tra token\n    const token = localStorage.getItem('admin_current_token')\n    \n    if (!token) {\n      // Không có token, chuyển hướng đến trang đăng nhập\n      next({\n        path: '/admin/login',\n        query: { redirect: to.fullPath }\n      })\n    } else {\n      // Có token, cho phép truy cập\n      next()\n    }\n  } else {\n    // Route không yêu cầu xác thực\n    next()\n  }\n})\n\n// Cập nhật meta cho các route admin để yêu cầu xác thực\nconst adminRoutes = router.getRoutes().filter(route => \n  route.path.startsWith('/admin') && \n  !route.path.includes('/login') && \n  !route.path.includes('/register')\n)\n\nadminRoutes.forEach(route => {\n  route.meta.requiresAuth = true\n})\n\nexport default router ","import { createApp } from 'vue'\nimport { createPinia } from 'pinia'\nimport App from './App.vue'\n\n// Import router\nimport router from './router'\n\n// Import auth store trước khi khởi tạo\nimport auth from './store/auth'\n\n// Import AOS\nimport AOS from 'aos'\nimport 'aos/dist/aos.css'\n\n// Initialize AOS\nAOS.init({\n  duration: 800,\n  easing: 'ease-in-out',\n  once: true,\n  offset: 50,\n  delay: 100\n})\n\n// Import global styles\nimport './assets/styles/main.scss'\n\n// Error handling\nconst handleError = (err, instance, info) => {\n  console.error('Vue Error:', err)\n  console.error('Component:', instance)\n  console.error('Info:', info)\n}\n\n// Create Pinia store\nconst pinia = createPinia()\n\ntry {\n  // Khởi tạo auth store để kiểm tra trạng thái đăng nhập\n  auth.init()\n\n  // Create and mount Vue app\n  const app = createApp(App)\n  \n  // Global error handler\n  app.config.errorHandler = handleError\n  \n  app.use(router)\n  app.use(pinia)\n\n  app.mount('#app')\n} catch (error) {\n  console.error('Error initializing app:', error)\n} "],"file":"assets/index-DD7JP8pC.js"}